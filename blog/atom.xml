<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.pantsbuild.org/blog</id>
    <title>Pantsbuild Blog</title>
    <updated>2025-12-11T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.pantsbuild.org/blog"/>
    <subtitle>Pantsbuild Blog</subtitle>
    <icon>https://www.pantsbuild.org/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Writing Python lockfile metadata to separate files]]></title>
        <id>https://www.pantsbuild.org/blog/2025/12/11/lockfile-metadata-files</id>
        <link href="https://www.pantsbuild.org/blog/2025/12/11/lockfile-metadata-files"/>
        <updated>2025-12-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Image generated by ChatGPT]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-feac07405bb1a613aa9a544a42a24570.png" class="img_axWV"><figcaption><p>Image generated by <a href="https://chatgpt.com/" target="_blank" rel="noopener noreferrer" class="">ChatGPT</a></p></figcaption></div>
<!-- -->
<p>The Pants Python backend uses <a href="https://www.pantsbuild.org/2.30/docs/python/overview/lockfiles" target="_blank" rel="noopener noreferrer" class="">lockfiles</a> extensively to support repeatable, secure builds.</p>
<p>These lockfiles are in a proprietary JSON format defined by the underlying <a href="https://docs.pex-tool.org/" target="_blank" rel="noopener noreferrer" class="">Pex tool</a>. However, Pants associates some extra metadata with each such Pex-created lockfile.</p>
<p>Until recently, this metadata was tacked on to the lockfile as front matter. Pants would remove this metadata before passing the lockfile on to Pex. This was convenient in some ways, but had the very unfortunate effect of making those lockfiles invalid JSON, and unreadable by Pex when used outside of Pants. This was a regrettable design choice which we are now remedying.</p>
<p>Starting in the just-released <a class="" href="https://www.pantsbuild.org/blog/2025/12/10/pants-2-30">Pants 2.30.0</a>, this lockfile metadata can be written to a separate file. Specifically, if enabled, the metadata for <code>path/to/lockfile.json</code> will be stored in a sibling file <code>path/to/lockfile.json.metadata</code>.</p>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="what-does-this-mean-for-me">What does this mean for me?<a href="https://www.pantsbuild.org/blog/2025/12/11/lockfile-metadata-files#what-does-this-mean-for-me" class="hash-link" aria-label="Direct link to What does this mean for me?" title="Direct link to What does this mean for me?" translate="no">‚Äã</a></h2>
<p>We recommend enabling this feature after you upgrade to Pants 2.30.0 or higher. To do so set the following option in your pants.toml:</p>
<div class="language-text codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-text codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[python]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">separate_lockfile_metadata_file = true</span><br></span></code></pre></div></div>
<p>This will become the default in Pants 2.31.0, and eventually the prepended header will be phased out entirely.</p>
<p>Note that even with this option enabled, Pants will <em>read</em> the prepended header if it finds one. This option only controls where Pants places this metadata when you generate a <em>new</em> lockfile.</p>
<p>Nonetheless, you may want to get ready for the future (and enjoy the benefits of unbroken JSON) by converting your existing lockfiles now. You can do so by regenerating them, but of course that might pick up dependency changes you don't want to deal with at the moment.</p>
<p>Your other option is to run the following script on your existing lockfiles. Simply copy this into a file, say <code>convert_lockfiles.py</code>:</p>
<div class="language-text codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-text codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import sys</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">for path in sys.argv[1:]:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    with open(path, "r") as fp:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lines = fp.read().splitlines(keepends=False)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        metadata_lines = []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        in_metadata_block = False</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        delim = lines[0].split()[0] + " "</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lines_iter = iter(lines)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        while True:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            line = next(lines_iter)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            if line == f"{delim}This lockfile was autogenerated by Pants. To regenerate, run:":</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                next(lines_iter)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                cmd = next(lines_iter)[len(delim):].strip()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            if line == f"{delim}--- END PANTS LOCKFILE METADATA ---":</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                remaining_lines = list(lines_iter)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                break</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            elif in_metadata_block:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                metadata_lines.append(line[len(delim):])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            elif line == f"{delim}--- BEGIN PANTS LOCKFILE METADATA: DO NOT EDIT OR REMOVE ---":</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                in_metadata_block = True</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        metadata_lines.insert(1, f'"description": "This lockfile was generated by Pants. To regenerate, run: {cmd}",')</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        metadata = "\n".join(metadata_lines) + "\n"</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        with open(f"{path}.metadata", "w") as fp:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            fp.write(metadata)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        with open(path, "w") as fp:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+            fp.write("\n".join(remaining_lines).strip() + "\n")</span><br></span></code></pre></div></div>
<p>then run <code>python convert_lockfiles.py path/to/lockfile1 path/to/lockfile2 ...</code></p>
<p>and voila, your lockfiles will be nicely split up without incurring any other perturbations!</p>]]></content>
        <author>
            <name>Benjy Weinberger</name>
            <uri>https://github.com/benjyw</uri>
        </author>
        <category label="development" term="development"/>
        <category label="community" term="community"/>
        <category label="macos" term="macos"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.30.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/12/10/pants-2-30</id>
        <link href="https://www.pantsbuild.org/blog/2025/12/10/pants-2-30"/>
        <updated>2025-12-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by marcos mayer on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-334513bbbde1c738386fc0a944f80358.jpg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@mmayyer" target="_blank" rel="noopener noreferrer" class="">marcos mayer</a> on
<a href="https://unsplash.com/photos/shallow-focus-photography-of-padlocks-in-steel-cable-8_NI1WTqCGY" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.30.x/docs/notes/2.30.x.md" target="_blank" rel="noopener noreferrer" class="">2.30.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild</a>, the scalable and ergonomic build system. To update, set <code>pants_version = "2.30.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a class="" href="https://www.pantsbuild.org/2.30/docs/getting-started">get started now</a>.</p>
<p>Important note: Pants 2.30 is scheduled to be the last version to provide binaries for the <a class="" href="https://www.pantsbuild.org/blog/2025/10/06/winding-down-macos-intel-support">MacOS Intel platform</a>. This flows from the <a href="https://github.com/actions/runner-images/issues/13046" target="_blank" rel="noopener noreferrer" class="">reduced support</a> from GitHub and continued movement in the macOS ecosystem. If you are interested in maintaining or supporting <code>x86_64</code> macOS binaries, please <a href="https://github.com/pantsbuild/pants/discussions/22711" target="_blank" rel="noopener noreferrer" class="">reach out</a>.</p>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/blob/2.30.x/docs/notes/2.30.x.md" target="_blank" rel="noopener noreferrer" class="">2.30</a> include</em>:</p>
<ul>
<li class="">üîí <strong>Python lockfile metadata can now be stored in a sibling file to the lockfile</strong> - instead of as a prepended header in the lockfile itself.</li>
<li class="">üìõ <strong>The plugin API's <code>Get()</code> construct has been deprecated in favor of call-by-name</strong>. See <a class="" href="https://www.pantsbuild.org/2.30/docs/writing-plugins/the-rules-api/migrating-gets">here</a> for how to update your plugins.</li>
<li class="">üêû And a whole bunch of updates, bugfixes, and general improvements!</li>
</ul>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.30.x/docs/notes/2.30.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a> for the accumulation of all those little improvements, and look forward to guidance for plugins to switch to call-by-name in 2.30.</p>
<p>Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a <a class="" href="https://www.pantsbuild.org/stable/docs/contributions">contributor</a>.</p>
<p>We also offer <a class="" href="https://www.pantsbuild.org/sponsorship">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a class="" href="https://www.pantsbuild.org/sponsors/pantsbuild">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>Some Pants maintainers also offer <a class="" href="https://www.pantsbuild.org/spotlight/service-providers">paid consulting</a> for adopting and customizing Pants for your company's needs.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-django" target="_blank" rel="noopener noreferrer" class="">example-django</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-serverless" target="_blank" rel="noopener noreferrer" class="">example-serverless</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-workspace-execution" target="_blank" rel="noopener noreferrer" class="">example-workspace-execution</a></li>
</ul>
<p>And let us know what you think in <a class="" href="https://www.pantsbuild.org/community/getting-help">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to <code>2.30.0</code>, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Benjy Weinberger</name>
            <uri>https://github.com/benjyw</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[When to Wind Down MacOS Intel Support]]></title>
        <id>https://www.pantsbuild.org/blog/2025/10/06/winding-down-macos-intel-support</id>
        <link href="https://www.pantsbuild.org/blog/2025/10/06/winding-down-macos-intel-support"/>
        <updated>2025-10-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Image generated by ChatGPT]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-a12e034b7cdd038b1ddfa607bfe86211.png" class="img_axWV"><figcaption><p>Image generated by <a href="https://chatgpt.com/" target="_blank" rel="noopener noreferrer" class="">ChatGPT</a></p></figcaption></div>
<!-- -->
<p>Intel-based Macs are <a href="https://mbsdirect.com/mbs-blog/article-upgrade-soon-intel-based-macs-and-apps-are-on-their-way-out" target="_blank" rel="noopener noreferrer" class="">on their way out</a>. The transition to Apple Silicon hardware has been ongoing for the past 5 years, and the recently released macOS Tahoe is the last macOS version to support the x86_64 platform.</p>
<p>We currently release Pants for macOS on x86_64, but it is becoming increasingly laborious and costly to do so. GitHub's macos-13 runner was deprecated recently and will be fully unsupported in a few weeks. So we would like to begin considering our timeline for dropping macOS Intel support. And you can help us!</p>
<p>Do you use Pants on Intel Macs? Do you intend to do so indefinitely, or do you have a target date for your own migration off that platform? Regardless of your own usage, do you have opinions on this topic?</p>
<p>Please let us know by chiming in on <a href="https://github.com/pantsbuild/pants/discussions/22711" target="_blank" rel="noopener noreferrer" class="">this GitHub discussion</a>! We look forward to a spirited and courteous conversation. Thanks!</p>]]></content>
        <author>
            <name>Benjy Weinberger</name>
            <uri>https://github.com/benjyw</uri>
        </author>
        <category label="development" term="development"/>
        <category label="community" term="community"/>
        <category label="macos" term="macos"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.29.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/10/03/pants-2-29</id>
        <link href="https://www.pantsbuild.org/blog/2025/10/03/pants-2-29"/>
        <updated>2025-10-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Klares Vincent on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-6506342b670f4ff8014e3588bb7fb757.jpg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@byvincentk" target="_blank" rel="noopener noreferrer" class="">Klares Vincent</a> on
<a href="https://unsplash.com/photos/ancient-stone-aqueduct-reflected-in-calm-water-Sbhx-SzSWBw" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.29.x/docs/notes/2.29.x.md" target="_blank" rel="noopener noreferrer" class="">2.29.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild</a>, the scalable and ergonomic build system. To update, set <code>pants_version = "2.29.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.29/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p>So, this is usually the spot where these blog posts include some highlights. And there <em>are</em> bugs fixed, tools updated, maintenance completed, lights kept on, and quality of life improvements refined. But the big theme of this release is the continued work on -- and near completion of! -- the <a href="https://github.com/pantsbuild/pants/issues/21065" target="_blank" rel="noopener noreferrer" class="">call-by-name</a> migration. This brings faster startup time, simplified Pants engine code, and an end to inscrutable rules graph errors for plugin authors. (If you have seen <a href="https://gist.github.com/cburroughs/beb4054b73c377373f1195f20a6a477d" target="_blank" rel="noopener noreferrer" class="">one</a>, you know what I mean.)</p>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.29.x/docs/notes/2.29.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a> for the accumulation of all those little improvements, and look forward to guidance for plugins to switch to call-by-name in 2.30.</p>
<p>Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a <a href="https://www.pantsbuild.org/stable/docs/contributions" target="_blank" rel="noopener noreferrer" class="">contributor</a>.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>Some Pants maintainers also offer <a href="https://www.pantsbuild.org/spotlight/service-providers" target="_blank" rel="noopener noreferrer" class="">paid consulting</a> for adopting and customizing Pants for your company's needs.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-django" target="_blank" rel="noopener noreferrer" class="">example-django</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-serverless" target="_blank" rel="noopener noreferrer" class="">example-serverless</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-workspace-execution" target="_blank" rel="noopener noreferrer" class="">example-workspace-execution</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to <code>2.29.0</code>, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Chris Burroughs</name>
            <uri>https://github.com/cburroughs</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.28.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/09/08/pants-2-28</id>
        <link href="https://www.pantsbuild.org/blog/2025/09/08/pants-2-28"/>
        <updated>2025-09-08T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Adrien on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-284638b19d757c7be2fefa94fa67d49e.jpg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@add_rien_20" target="_blank" rel="noopener noreferrer" class="">Adrien</a> on
<a href="https://unsplash.com/photos/a-man-riding-a-bike-down-a-street-z2wYBRTck-g" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.28.x/docs/notes/2.28.x.md" target="_blank" rel="noopener noreferrer" class="">2.28.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.28.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.28/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p>Thank you to <a href="https://www.klaviyo.com/" target="_blank" rel="noopener noreferrer" class="">Klaviyo</a> for their Platinum tier <a href="https://www.pantsbuild.org/sponsors" target="_blank" rel="noopener noreferrer" class="">sponsorship</a> throughout this release!</p>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/blob/2.28.x/docs/notes/2.28.x.md" target="_blank" rel="noopener noreferrer" class="">2.28</a> include</em>:</p>
<ul>
<li class="">üöÄ <strong>Significantly faster daemon startup</strong> - Some real-world codebases report startup time cut to 30-40% of what it was in v2.27.0 (2.5-3√ó faster!).</li>
<li class="">üéØ <strong>TypeScript improvements</strong> - TypeScript targets now work with JavaScript goals, plus better dependency inference with TSX grammar.</li>
<li class="">üì¶ <strong>Batched remote cache reads</strong> - Experimental support for batch reads from the gRPC Remote Execution API significantly increases throughput.</li>
<li class="">üêç <strong>Direct type stub generation for Protobuf/Python</strong> - Protobuf can now generate Python type stubs directly via <code>protoc</code>.</li>
<li class="">üêû And a whole bunch of updates, bugfixes, and general improvements!</li>
</ul>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.28.x/docs/notes/2.28.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>.</p>
<p>Pants is an open-source project, and changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a <a href="https://www.pantsbuild.org/stable/docs/contributions" target="_blank" rel="noopener noreferrer" class="">contributor</a>.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>Some Pants maintainers also offer <a href="https://www.pantsbuild.org/spotlight/service-providers" target="_blank" rel="noopener noreferrer" class="">paid consulting</a> for adopting and customizing Pants for your company's needs.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to <code>2.28.0</code>, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Tom Dyas</name>
            <uri>https://github.com/tdyas</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.27.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/06/30/pants-2-27</id>
        <link href="https://www.pantsbuild.org/blog/2025/06/30/pants-2-27"/>
        <updated>2025-06-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by xiaokang Zhang on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-764bad9ad77b8dc1bbd6a0eb430271ca.jpg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@hellomm" target="_blank" rel="noopener noreferrer" class="">xiaokang Zhang</a> on
<a href="https://unsplash.com/photos/close-up-photography-of-shell-beside-seashore-bNQKQOmbfL8" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.27.x/docs/notes/2.27.x.md" target="_blank" rel="noopener noreferrer" class="">2.27.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild</a>, the scalable and ergonomic build system. To update, set <code>pants_version = "2.27.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.27/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p>Thank you to <a href="https://www.klaviyo.com/" target="_blank" rel="noopener noreferrer" class="">Klaviyo</a> for their Platinum tier <a href="https://www.pantsbuild.org/sponsors" target="_blank" rel="noopener noreferrer" class="">sponsorship</a> throughout this release!</p>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/blob/2.27.x/docs/notes/2.27.x.md" target="_blank" rel="noopener noreferrer" class="">2.27</a> include</em>:</p>
<ul>
<li class="">üèñÔ∏è The <a class="" href="https://www.pantsbuild.org/blog/2025/06/29/introducing-the-sandboxer">Sandboxer feature</a>, to fix a pernicious ETXTBSY race condition.</li>
<li class="">ü™µ Local and remote processes now log their action and command digests, for ease of debugging.</li>
<li class="">‚ÜóÔ∏è Several built-in tools have had the default versions upgraded.</li>
<li class="">üêã Stats logging now includes histograms by default.</li>
<li class="">üêû And a whole bunch of updates, bugfixes, and general improvements.</li>
</ul>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.27.x/docs/notes/2.27.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a <a href="https://www.pantsbuild.org/stable/docs/contributions" target="_blank" rel="noopener noreferrer" class="">contributor</a>.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>Some Pants maintainers also offer <a href="https://www.pantsbuild.org/spotlight/service-providers" target="_blank" rel="noopener noreferrer" class="">paid consulting</a> for adopting and customizing Pants for your company's needs.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to <code>2.27.0</code>, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Benjy Weinberger</name>
            <uri>https://github.com/benjyw</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Introducing the Sandboxer!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/06/29/introducing-the-sandboxer</id>
        <link href="https://www.pantsbuild.org/blog/2025/06/29/introducing-the-sandboxer"/>
        <updated>2025-06-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Markus Spiske on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-210159916482e5b5dfe5be76194532c5.jpg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@markusspiske" target="_blank" rel="noopener noreferrer" class="">Markus Spiske</a> on
<a href="https://unsplash.com/photos/green-and-black-tractor-toy-KU3lOAiP-tQ" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>The latest Pants release, <a class="" href="https://www.pantsbuild.org/blog/2025/06/30/pants-2-27">2.27.0</a>, includes a new feature known as the "sandboxer". This feature solves the "ETXTBSY race" - a longstanding issue on POSIX systems that is a particular nuisance to build systems.</p>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="the-etxtbsy-race">The ETXTBSY race<a href="https://www.pantsbuild.org/blog/2025/06/29/introducing-the-sandboxer#the-etxtbsy-race" class="hash-link" aria-label="Direct link to The ETXTBSY race" title="Direct link to The ETXTBSY race" translate="no">‚Äã</a></h2>
<p>This issue is due to an apparent design flaw in POSIX, causing bad interactions between multithreaded programs that write binaries to disk and then attempt to run them. The issue is as follows:</p>
<p>First, note that POSIX will error with ETXTBSY if an attempt is made to exec a binary that has any file descriptors open for writing. This on its own is a good thing, as you can imagine. Trying to exec a binary that is currently being written to could be disastrous!</p>
<p>However, now consider a multithreaded process that writes out a binary in a thread and tries to execute it (in that same thread or in some other thread). On POSIX, executing another binary in a subprocess involves <a href="https://en.wikipedia.org/wiki/Fork%E2%80%93exec" target="_blank" rel="noopener noreferrer" class="">two steps</a>:</p>
<ul>
<li class=""><code>fork</code>: creates a clone of the current process. The child process is identical to the parent process, and so inherits all the parent process's open file descriptors.</li>
<li class=""><code>exec</code>: Just after the fork point, the child process detects that it is the child, and switches to running the new binary's executable. At that point all those inherited file descriptors will be closed.</li>
</ul>
<p>The problem manifests as the following race condition:</p>
<ul>
<li class="">Thread A starts writing out binary <code>path/bin</code>, via an open write file descriptor.</li>
<li class="">Concurrently, thread B forks subprocess #1 in order to run some unrelated process. After subprocess #1 forks, but before it execs, it has a clone of the parent process's open write file descriptor to <code>path/bin</code>.</li>
<li class="">Thread A finishes writing out the binary, closes the file descriptor, and forks subprocess #2 to exec it.</li>
<li class="">If subprocess #2 proceeds to exec before subprocess #1 does, then the exec will fail due to the open write file handle still being held by subprocess #1.</li>
</ul>
<p>This is a fundamental issue with the POSIX model, and there are no simple workarounds. You can read a good writeup about this problem <a href="https://github.com/golang/go/issues/22315" target="_blank" rel="noopener noreferrer" class="">here</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="materializing-sandboxes">Materializing Sandboxes<a href="https://www.pantsbuild.org/blog/2025/06/29/introducing-the-sandboxer#materializing-sandboxes" class="hash-link" aria-label="Direct link to Materializing Sandboxes" title="Direct link to Materializing Sandboxes" translate="no">‚Äã</a></h2>
<p>Unfortunately, writing processes out to disk and then executing them is pretty critical functionality for Pants, and for most build systems like it. For Pants, specifically, this happens when materializing sandboxes.</p>
<p>As a reminder, Pants executes each subprocess in a hermetic subdirectory known as a "sandbox". Executing a process typically involves writing all the process's inputs into the sandbox directory, and then executing the process with the sandbox as its working directory. This ensures that the process runs on exactly the inputs that the result is cached against.
The contents of these input files are stored in a local or remote content-addressable store; Writing them out to the sandbox is referred to as "materializing" the files.</p>
<p>In many cases these input files include the binary to be executed. So Pants must write the binary out to disk, in the sandbox, and then execute it. And since Pants is a multithreaded process, this can trigger the ETXTBSY race.</p>
<p>Previously we attempted to mitigate the problem via retry loops and other hacks. These have made the issue less frequent, but they aren't robust solutions.</p>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="the-sandboxer-process">The Sandboxer Process<a href="https://www.pantsbuild.org/blog/2025/06/29/introducing-the-sandboxer#the-sandboxer-process" class="hash-link" aria-label="Direct link to The Sandboxer Process" title="Direct link to The Sandboxer Process" translate="no">‚Äã</a></h2>
<p>Since the issue is due to a program writing out a binary and then executing it, the solution naturally needs to take one of those aspects out of the equation.
One way to do that is to delegate writing the binary file out to disk to another process.</p>
<p>But there is a little extra complication: we can't always know which files in the sandbox are going to end up being executed. That is, we obviously know which binary Pants executes directly,
but we don't know if that process will itself exec some other binary. So to be certain that we've solved the problem comprehensively we need to delegate writing <em>all</em> sandbox files to another process. And that is exactly what the Sandboxer process is for.</p>
<p>The Sandboxer is a sidecar process managed by the Pants daemon, <code>pantsd</code>. The Sandboxer is a very lightweight process, written in Rust. All it does is listen for gRPC requests on a local socket, and act on them. When <code>pantsd</code> needs to materialize files into a sandbox, it send a gRPC request to the Sandboxer with the details of the files that need materializing. The Sandboxer will read those files from the local store and materialize them to the relevant local sandbox directory.</p>
<p>Note that with the Sandboxer, the <code>pantsd</code> process itself doesn't write out binaries, but does execute them, and the Sandboxer process does write out binaries but doesn't execute them. So the ETXTBSY race is avoided by both.</p>
<p>The Sandboxer process is stateless, and is cheap to restart, so it is quick to exit on errors or inactivity. <code>pantsd</code> will restart it as needed.</p>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="using-the-sandboxer">Using the Sandboxer<a href="https://www.pantsbuild.org/blog/2025/06/29/introducing-the-sandboxer#using-the-sandboxer" class="hash-link" aria-label="Direct link to Using the Sandboxer" title="Direct link to Using the Sandboxer" translate="no">‚Äã</a></h2>
<p>The Sandboxer functionality is new and so is currently turned off by default. If you encounter an ETXTBSY error, you can set the <a href="https://www.pantsbuild.org/2.27/reference/global-options#sandboxer" target="_blank" rel="noopener noreferrer" class="">global <code>sandboxer</code> option</a> to true to enable this feature.
In the future we will likely enable this by default. We'll then be able to remove the previous mitigations, which will simplify the codebase.</p>
<p>The Sandboxer solves a longstanding, if infrequent, issue that has plagued Pants users. We hope it increases the robustness and reliability of the system for you and your team!</p>]]></content>
        <author>
            <name>Benjy Weinberger</name>
            <uri>https://github.com/benjyw</uri>
        </author>
        <category label="under-the-hood" term="under-the-hood"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.26.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/05/05/pants-2-26</id>
        <link href="https://www.pantsbuild.org/blog/2025/05/05/pants-2-26"/>
        <updated>2025-05-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Kristin Snippe on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-1370d950a1fea357af5c536cfa982463.jpg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@frausnippe" target="_blank" rel="noopener noreferrer" class="">Kristin Snippe</a> on
<a href="https://unsplash.com/photos/white-and-brown-crochet-textile-3-3X50TIm-M" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.26.x/docs/notes/2.26.x.md" target="_blank" rel="noopener noreferrer" class="">2.26.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.26.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.26/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p>Thank you to <a href="https://www.klaviyo.com/" target="_blank" rel="noopener noreferrer" class="">Klaviyo</a> for their Platinum tier support throughout this release!</p>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/blob/2.26.x/docs/notes/2.26.x.md" target="_blank" rel="noopener noreferrer" class="">2.26</a> include</em>:</p>
<ul>
<li class="">ü•Ö A new Kubernetes backend.</li>
<li class="">‚ÜóÔ∏è Many built-in tools have had the default versions upgraded.</li>
<li class="">üêã Docker images can be published non-interactively and in parallel</li>
<li class="">üèéÔ∏è Invocations of the Ruff tool are much faster on macOS</li>
<li class="">üêû And a whole bunch of updates, bugfixes, and general improvements.</li>
</ul>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.26.x/docs/notes/2.26.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a <a href="https://www.pantsbuild.org/stable/docs/contributions" target="_blank" rel="noopener noreferrer" class="">contributor</a>.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to <code>2.26.0</code>, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Huon Wilson</name>
            <uri>https://github.com/huonw</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.25.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/03/01/pants-2-25</id>
        <link href="https://www.pantsbuild.org/blog/2025/03/01/pants-2-25"/>
        <updated>2025-03-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Ag√™ Barros on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-e8326982bcae4d70f926aead6fe5b107.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@agebarros" target="_blank" rel="noopener noreferrer" class="">Ag√™ Barros</a> on
<a href="https://unsplash.com/photos/a-close-up-of-a-silver-watch-face-rBPOfVqROzY" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.25.x/docs/notes/2.25.x.md" target="_blank" rel="noopener noreferrer" class="">2.25.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.25.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.25/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p>Thank you to <a href="https://www.klaviyo.com/" target="_blank" rel="noopener noreferrer" class="">Klaviyo</a> and <a href="https://normalcomputing.ai/" target="_blank" rel="noopener noreferrer" class="">Normal Computing</a> for their Platinum tier support throughout this release!</p>
<p>Pants 2.25 requires version <code>0.12.2</code> or newer of the <code>pants</code> <a href="https://github.com/pantsbuild/scie-pants/" target="_blank" rel="noopener noreferrer" class="">launcher binary</a>. <a href="https://www.pantsbuild.org/2.25/docs/getting-started/installing-pants#upgrading-pants" target="_blank" rel="noopener noreferrer" class="">Follow the upgrade instructions</a> to ensure you are using a compatible version of the launcher binary.</p>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/blob/2.25.x/docs/notes/2.25.x.md" target="_blank" rel="noopener noreferrer" class="">2.25</a> include</em>:</p>
<ul>
<li class="">üêç Pants itself now runs using Python 3.11 (previously 3.9), meaning plugins can use newer language features. Pants still works with user code using other Python versions.</li>
<li class="">üêã A Rust-based new parser for Dockerfiles (for dependency inference) is being rolled out to replace the old one. This parser is faster and doesn't require installing extra dependencies.</li>
<li class="">‚òï Improved dependency inference for the JavaScript (and TypeScript) backends.</li>
<li class="">üì¨ A new OpenAPI backend for Python.</li>
<li class="">üêû And a whole bunch of updates, bugfixes, and general improvements.</li>
</ul>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.25.x/docs/notes/2.25.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a <a href="https://www.pantsbuild.org/stable/docs/contributions" target="_blank" rel="noopener noreferrer" class="">contributor</a>.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to <code>2.25.0</code>, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Huon Wilson</name>
            <uri>https://github.com/huonw</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.24.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2025/01/28/pants-2-24</id>
        <link href="https://www.pantsbuild.org/blog/2025/01/28/pants-2-24"/>
        <updated>2025-01-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Jiawei Zhao  on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-ba9aa58bce367b9dd9300f7549a091f9.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@jiaweizhao" target="_blank" rel="noopener noreferrer" class="">Jiawei Zhao </a> on
<a href="https://unsplash.com/photos/tuxedo-cat-in-brown-cardboard-box-W-ypTC6R7_k" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.24.x/docs/notes/2.24.x.md" target="_blank" rel="noopener noreferrer" class="">2.24.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.24.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.24/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/blob/2.24.x/docs/notes/2.24.x.md" target="_blank" rel="noopener noreferrer" class="">2.24</a> include</em>:</p>
<ul>
<li class="">üì¶ Out of the box support for Python 3.13.</li>
<li class="">ü™õ <code>pants export --bin</code> allows exporting more tools for use outside Pants</li>
<li class="">üêç A new experimental Python Provider backend using <a href="https://gregoryszorc.com/docs/python-build-standalone/main/" target="_blank" rel="noopener noreferrer" class="">Python Build Standalone</a>.</li>
<li class="">üîú A new option system that unlocks future changes.</li>
<li class="">üêû And a whole bunch of updates, bugfixes, and general improvements.</li>
</ul>
<p>And some heads up of coming changes:</p>
<ul>
<li class="">Pants 2.24x will suggest you upgrade to the at least version <code>0.12.2</code> of the <code>pants</code> <a href="https://github.com/pantsbuild/scie-pants/" target="_blank" rel="noopener noreferrer" class="">launcher binary</a> <a href="https://www.pantsbuild.org/2.24/docs/getting-started/installing-pants#upgrading-pants" target="_blank" rel="noopener noreferrer" class="">following the upgrade instructions</a>. This supports underlying improvements coming in Pants 2.25.</li>
<li class="">As in the previous release, in <code>2.24.x</code> we continue to run both the new and the legacy options systems concurrently and compare the results, issuing warnings if there are any discrepancies. If you do encounter discrepancies that you can't resolve on your own, please <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">reach out to us!</a>.</li>
</ul>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.24.x/docs/notes/2.24.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a <a href="https://www.pantsbuild.org/stable/docs/contributions" target="_blank" rel="noopener noreferrer" class="">contributor</a>.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to <code>2.24.0</code>, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Chris Burroughs</name>
            <uri>https://github.com/cburroughs</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[In-Workspace Execution in Pants v2.23.x]]></title>
        <id>https://www.pantsbuild.org/blog/2024/12/04/workspace-environments</id>
        <link href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments"/>
        <updated>2024-12-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Getty Images on]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-830a5aa236d439fc067161739c5f8f75.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@gettyimages" target="_blank" rel="noopener noreferrer" class="">Getty Images</a> on
<a href="https://unsplash.com/photos/contemporary-loft-office-interior-3d-rendering-design-concept-nvzguGid2Kk" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<p>Pants is just one of many build orchestration tools in the world. As of Pants v2.23.0, Pants better supports integrating seamlessly with other tools in your development workflow via the new <a class="" href="https://www.pantsbuild.org/stable/docs/using-pants/environments#in-workspace-execution-experimental_workspace_environment">"workspace environments" feature</a>. With workspace environments, you can run processes in the repository itself (i.e., the workspace) instead of in the usual execution sandbox. This support is useful for better integrating Pants with third party tooling which assumes it runs from your repository.</p>
<p>Read on for an example of how to use this support to integrate Bazel with Pants.</p>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="motivation">Motivation<a href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation" translate="no">‚Äã</a></h2>
<p>Why might you want to run processes in the workspace?</p>
<p>One reason is if your development workflow uses third party tools not already supported by Pants. Such third party tools may assume they are the only build tool in use and <em>expect</em> that they will run from the workspace. Trying to run them from the Pants execution sandbox then ends up being harder than just running the tool directly because of the need to work around the tool's "run from workspace" assumption.</p>
<p>With workspace environments, Pants can now run those tools in the way that they expect, and let you avoid having to work around the tool's assumptions about how it should be invoked.</p>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="the-example-running-bazel">The Example: Running Bazel<a href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments#the-example-running-bazel" class="hash-link" aria-label="Direct link to The Example: Running Bazel" title="Direct link to The Example: Running Bazel" translate="no">‚Äã</a></h2>
<p>The goal for this example is to let Pants invoke Bazel to build a JVM jar file and then make use of that jar within Pants build logic using the workspace environment feature. <a href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments#fn0">[0]</a> We will use <a href="https://github.com/pantsbuild/example-workspace-execution" target="_blank" rel="noopener noreferrer" class="">this GitHub repository</a> for the example.</p>
<p>This article assumes you have some familiarity with the <a class="" href="https://www.pantsbuild.org/stable/docs/using-pants/environments">Pants environments system</a>. The in-workspace execution support is modeled as "just another environment" and so most of the concepts applicable to other environments such as <code>local_environment</code>, <code>docker_environment</code>, and <code>remote_environment</code> are applicable to <code>experimental_workspace_environment</code>. For example, you can override any environment-aware configuration option in the same manner for <code>experimental_workspace_environment</code> as you would have for any of the other environment target types.</p>
<p>First make sure Pants, Bazel, and Docker are all installed.</p>
<p>Next, simply clone the repository with <code>git clone https://github.com/pantsbuild/example-workspace-execution</code> and then run <code>pants run //:project-image</code>.</p>
<p>Pants will invoke Bazel, Bazel will build the jar, and then Pants will build a Docker image from that jar and run the resulting Docker image. It may take some time for Bazel to build the jar the first time, and Pants will not display any output from Bazel until Bazel completes. You should see <code>Hello!</code> as the final output.</p>
<p>Let's walk through the code and configuration.</p>
<h3 class="anchor anchorTargetStickyNavbar_UrHV" id="repository-layout">Repository layout<a href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments#repository-layout" class="hash-link" aria-label="Direct link to Repository layout" title="Direct link to Repository layout" translate="no">‚Äã</a></h3>
<p>The <a href="https://github.com/pantsbuild/example-workspace-execution" target="_blank" rel="noopener noreferrer" class="">repository</a> is laid out as follows:</p>
<table><thead><tr><th>Path</th><th>Description</th></tr></thead><tbody><tr><td><code>BUILD.pants</code></td><td><p>The root BUILD file for Pants. We are calling it <code>BUILD.pants</code> so Bazel
(and developers) cannot confuse it for a Bazel build file.</p></td></tr><tr><td><code>pants.toml</code></td><td>The Pants configuration file</td></tr><tr><td><code>bazel-jvm/**</code></td><td>A Bazel project which produces a jar file.</td></tr><tr><td><code>bazel-jvm/src/main/java/com/example/**/*.java</code></td><td>The Java files to be built into the jar by Bazel.</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_UrHV" id="pants-configuration">Pants configuration<a href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments#pants-configuration" class="hash-link" aria-label="Direct link to Pants configuration" title="Direct link to Pants configuration" translate="no">‚Äã</a></h3>
<ol>
<li class="">
<p><em>Configuring the workspace environment</em>. The first thing to do is configure a workspace environment to enable in-workspace execution support. In this example, we added an <a class="" href="https://www.pantsbuild.org/stable/reference/targets/experimental_workspace_environment"><code>experimental_workspace_environment</code> target</a> to the repository in the root <code>BUILD.pants</code>. Then we added the address for this target (<code>//:workspace</code>) to <code>pants.toml</code> under the <a class="" href="https://www.pantsbuild.org/stable/reference/subsystems/environments-preview#names"><code>[environments-preview.names]</code> key</a> which gives the environment a name.</p>
</li>
<li class="">
<p><em>Setting up the integration target</em>. The example uses the <a class="" href="https://www.pantsbuild.org/stable/reference/targets/shell_command"><code>shell_command</code></a> target at address <code>//:bazel-jvm-binary</code> to invoke Bazel.</p>
</li>
</ol>
<ul>
<li class="">
<p>That target is configured to use the workspace environment by virtue of setting its <code>environment</code> field to the special symbol <code>__local_workspace__</code> which selects whatever <code>experimental_workspace_environment</code> matches the current platform. (If there is only one such environment, then it will always match.) We could have also just used the name of the workspace directly.</p>
</li>
<li class="">
<p>The new <a class="" href="https://www.pantsbuild.org/stable/reference/targets/shell_command#path_env_modify"><code>path_env_modify</code></a> field on <a class="" href="https://www.pantsbuild.org/stable/reference/targets/shell_command"><code>shell_command</code></a> is set to <code>off</code> so that Pants does not modify the <code>PATH</code> environment variable. By default, Pants will inject a directory with symlinks to the <code>tools</code> set on a <code>shell_command</code> target and prepend that directory to the <code>PATH</code>. Bazel incorporates the <code>PATH</code> into its own cache key and so we need to disable Pants changing that value so that Bazel does not invalidate the jar every time it is invoked.</p>
</li>
<li class="">
<p>The output from Bazel is copied to the <code>{chroot}</code> directory. Ordinarily, when Pants invokes a process, <code>{chroot}</code> refers to the execution sandbox. With workspace execution, this is no longer the case because the working directory is now within the repository. Pants, however, will still create a (now separate) temporary directory to allow materializing dependencies and to allow capture of outputs. Restated, Pants will not capture outputs from the repository, only from the temporary directory created during execution; that is, the <code>{chroot}</code> directory.</p>
</li>
</ul>
<ol start="3">
<li class=""><em>Using the output from Bazel</em>. The <a class="" href="https://www.pantsbuild.org/stable/reference/targets/docker_image"><code>docker_image</code></a> target at address <code>//:project_image</code> consumes the output from the <code>//:bazel-jvm-binary</code> <code>shell_command</code> target by listing it as a dependency in the <code>dependencies</code> field. The Docker image is setup to invoke the jar. It is that simple to consume Bazel's output in Pants!</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="limitations--caveats">Limitations &amp; Caveats<a href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments#limitations--caveats" class="hash-link" aria-label="Direct link to Limitations &amp; Caveats" title="Direct link to Limitations &amp; Caveats" translate="no">‚Äã</a></h2>
<p>There are some limitations with the in-workspace execution support:</p>
<ol>
<li class="">
<p>The main issue is that it has only been designed to work seamlessly with the <a class="" href="https://www.pantsbuild.org/stable/reference/targets/shell_command"><code>shell_command</code></a> and <a class="" href="https://www.pantsbuild.org/stable/reference/targets/adhoc_tool"><code>adhoc_tool</code></a> target types. Using this support with other target types (for example, <code>pex_binary</code> or <code>go_binary</code>) has not been tested and you may encounter odd behavior because workspace environments violate the core Pants assumption that all execution occurs in temporary sandboxes. We have not tested those other use cases in any meaningful way.</p>
</li>
<li class="">
<p>Any non-deterministic behavior in the external build tool or in the integration target may impact the ability of Pants to maintain reproducibility of the build. This is not a problem with workspace execution per se, but workspace execution can exacerbate any existing non-determinisms because it removes the execution sandbox as a mitigation. You, as the developer, always have the responsibility to configure Pants to operate in a deterministic way.</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_UrHV" id="conclusion--credits">Conclusion &amp; Credits<a href="https://www.pantsbuild.org/blog/2024/12/04/workspace-environments#conclusion--credits" class="hash-link" aria-label="Direct link to Conclusion &amp; Credits" title="Direct link to Conclusion &amp; Credits" translate="no">‚Äã</a></h2>
<p>Hopefully the user community will find this support useful. We look forward to what you all build with it!</p>
<p>This work was awesomely sponsored by <a href="https://www.proximafusion.com/" target="_blank" rel="noopener noreferrer" class="">Proxima Fusion GmbH</a>.</p>
<hr>
<p><span id="fn0">[0]</span> Having Bazel build a jar is a contrived example since
Pants does have JVM support. But using Bazel‚Äôs JVM support for this example made
it more straightforward to demonstrate integration between Pants and Bazel.</p>]]></content>
        <author>
            <name>Tom Dyas</name>
            <uri>https://github.com/tdyas</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.23.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2024/11/20/pants-2-23</id>
        <link href="https://www.pantsbuild.org/blog/2024/11/20/pants-2-23"/>
        <updated>2024-11-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by [Sarah]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-0c32ed2e54cbdbf483b4e677adcc55ab.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@rojekilian?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash" target="_blank" rel="noopener noreferrer" class="">Sarah
Kilian</a>
on
<a href="https://unsplash.com/photos/two-grey-walking-elephants-E-szZQqUmH4?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/blob/2.23.x/docs/notes/2.23.x.md" target="_blank" rel="noopener noreferrer" class="">2.23.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.23.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.23/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p>The previous release, 2.22.0, suffered from delays in its release cycle. So this 2.23.0 release is a relatively fast follow, and does not introduce major upheavals.</p>
<p>A couple of administrative reminders:</p>
<ul>
<li class="">The annual <a href="https://www.pantsbuild.org/blog/2024/10/08/user-survey-2024" target="_blank" rel="noopener noreferrer" class="">Pants user survey</a> is open through the end of 2024. The results will be used to assist the Pants maintainers and contributors to better understand areas where Pants may need work, so your feedback is vital!</li>
<li class="">We're very proud that Pants now has its first <a href="https://www.pantsbuild.org/sponsors" target="_blank" rel="noopener noreferrer" class="">sponsors</a>! We are very grateful to <a href="https://www.klaviyo.com/" target="_blank" rel="noopener noreferrer" class="">Klayvio</a> and <a href="https://normalcomputing.ai/" target="_blank" rel="noopener noreferrer" class="">Normal Computing</a> for their Platinum tier support, and to <a href="https://www.continua.ai/" target="_blank" rel="noopener noreferrer" class="">Continua</a> and Stormfish for their Silver tier support.
Sponsoring is a way for companies that use Pants to support the project while engaging more closely with the community. Want to support Pants? Find out more about our <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">sponsorship opportunities</a> and the associated benefits at each tier.</li>
</ul>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/blob/2.23.x/docs/notes/2.23.x.md" target="_blank" rel="noopener noreferrer" class="">2.23</a> include</em>:</p>
<ul>
<li class="">üåñ Due to deprecations by GitHub, the minimum supported glibc version for Pants wheels is now 2.28. Unless you are running Pants with in-repo plugins on a Linux distro from before 2018, this should have no effect.</li>
<li class="">‚ú® A new backend for the <a href="https://github.com/bazelbuild/buildtools/blob/main/buildifier/README.md" target="_blank" rel="noopener noreferrer" class="">buildifier</a> BUILD file formatter.</li>
<li class="">üîç Two new experimental backends: <a href="https://github.com/goreleaser/nfpm" target="_blank" rel="noopener noreferrer" class="">nFPM</a> and <a href="https://github.com/trufflesecurity/trufflehog" target="_blank" rel="noopener noreferrer" class="">Trufflehog</a>. Try them out and <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">let us know</a> how it goes!</li>
<li class="">üîÄ Better dependency inference for Dockerfiles.</li>
<li class="">üöâ Improvements to platform handling in Python function-as-a-service targets.</li>
<li class="">‚õ∞Ô∏è Enhancements to Terraform lockfiles and caching.</li>
<li class="">üìà And lots of smaller features, update, bugfixes, and general improvements.</li>
</ul>
<p>As in the previous release, in 2.23.x we continue to run both the new and the legacy options systems concurrently and compare the results, issuing warnings if there are any discrepancies. If you do encounter discrepancies that you can't resolve on your own, please <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">reach out to us!</a>.</p>
<p>Check out the <a href="https://github.com/pantsbuild/pants/blob/2.23.x/docs/notes/2.23.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a contributor.</p>
<p>As mentioned above, we offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to 2.23.0, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Benjy Weinberger</name>
            <uri>https://github.com/benjyw</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[2024 Pantsbuild User Survey]]></title>
        <id>https://www.pantsbuild.org/blog/2024/10/08/user-survey-2024</id>
        <link href="https://www.pantsbuild.org/blog/2024/10/08/user-survey-2024"/>
        <updated>2024-10-08T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[No (software) project survives without listening to its community of users. And the Pants project is no different. What does this mean? It is time for the 2024 Pantsbuild User Survey!]]></summary>
        <content type="html"><![CDATA[<p>No (software) project survives without listening to its community of users. And the Pants project is no different. What does this mean? It is time for the 2024 Pantsbuild User Survey!</p>
<p>We want to hear from our community about how well (or not so well) the project is going and how it can be improved.</p>
<p><a href="https://forms.gle/eo7Y4DuxurjaMSZn6" target="_blank" rel="noopener noreferrer" class="">This Google Form contains a short five question survey.</a></p>
<p>It is anonymous, but you may optionally provide us your email in case you are amenable to a potential follow-up to your feedback.</p>
<p>The survey will remain open through the end of the year (although we will be looking at the responses before then). The results will be used to assist the Pants maintainers and contributors to better understand areas where Pants may need work.</p>]]></content>
        <author>
            <name>Tom Dyas</name>
            <uri>https://github.com/tdyas</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.22.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2024/09/10/pants-2-22</id>
        <link href="https://www.pantsbuild.org/blog/2024/09/10/pants-2-22"/>
        <updated>2024-09-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by [Florian]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-119bc494e0d3dd5733a533cefe80a862.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@florianxrebmann?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash" target="_blank" rel="noopener noreferrer" class="">Florian
Rebmann</a>
on
<a href="https://unsplash.com/photos/a-building-with-a-flag-on-top-cWAsvnD9A98?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<!-- -->
<p>We are pleased to announce Pants <a href="https://github.com/pantsbuild/pants/tree/2.22.x/docs/notes/2.22.x.md" target="_blank" rel="noopener noreferrer" class="">2.22.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.22.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/2.22/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p><em>Highlights in <a href="https://github.com/pantsbuild/pants/tree/2.22.x/docs/notes/2.22.x.md" target="_blank" rel="noopener noreferrer" class="">2.22</a> include</em>:</p>
<ul>
<li class="">üéõ A major re-implementation of the Pants <a href="https://www.pantsbuild.org/2.22/docs/using-pants/key-concepts/options" target="_blank" rel="noopener noreferrer" class="">options system</a>. See below for more!</li>
<li class="">üè† Support for executing local processes within the repository itself (rather than in a sandbox) via the new <a href="https://www.pantsbuild.org/stable/docs/using-pants/environments#in-workspace-execution-experimental_workspace_environment" target="_blank" rel="noopener noreferrer" class="">workspace environment</a> feature.</li>
<li class="">üêç Initial support for Python 3.13.</li>
<li class="">üõ´ Ability to export Python tools <a href="https://www.pantsbuild.org/2.22/docs/using-pants/setting-up-an-ide#tool-virtualenvs" target="_blank" rel="noopener noreferrer" class="">from their default bundled lockfiles</a>.</li>
<li class="">‚òÅÔ∏è Improvements in FaaS support, such as the ability to create cloud functions as directories, instead of .zip files.</li>
<li class="">üè∑Ô∏è <a href="https://www.pantsbuild.org/stable/reference/targets/vcs_version" target="_blank" rel="noopener noreferrer" class=""><code>vcs_version</code></a> always executes locally, so that it has the local git context, even when otherwise using docker environments.</li>
<li class="">üìä A new experimental SQL backend, with <a href="https://sqlfluff.com/" target="_blank" rel="noopener noreferrer" class="">SQLFluff</a> linter support.</li>
<li class="">üóÉÔ∏è A new experimental <a href="https://makeself.io/" target="_blank" rel="noopener noreferrer" class="">Makeself</a> backend for creating self-extractable archives.</li>
<li class="">ü´ô A <a href="https://www.pantsbuild.org/2.22/reference/subsystems/jvm#deploy_jar_exclude_files" target="_blank" rel="noopener noreferrer" class=""><code>deploy_jar_exclude_files</code></a> option, to allow excluding irrelevant signature files from JAR files.</li>
<li class="">üó∫Ô∏è Better understanding of self-type annotations in Scala dependency inference.</li>
<li class="">üéí The ability to bundle <code>openapi_document</code> and its <code>openapi_source</code> dependencies into a single file, for consumption by other targets.</li>
<li class="">üìà And lots of smaller features, update, bugfixes, and general improvements</li>
</ul>
<p>Check out the <a href="https://github.com/pantsbuild/pants/tree/2.22.x/docs/notes/2.22.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a contributor.</p>
<p>In particular, please note the transition to the new options system. In 2.22.x we run both the new and the legacy systems concurrently and compare the results, issuing warnings if there are any discrepancies. If you do encounter discrepancies that you can't resolve on your own, please <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">reach out to us!</a>.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/community/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants 2.22.0 took longer than usual to stabilize, but we hope to get 2.23.0 out quite soon!</p>
<p>Pants wouldn't be possible without everyone who contributed to 2.22.0, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Benjy Weinberger</name>
            <uri>https://github.com/benjyw</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Venerable Pythons, Pants, Pip, and Ecosystems]]></title>
        <id>https://www.pantsbuild.org/blog/2024/08/24/venerable-pythons</id>
        <link href="https://www.pantsbuild.org/blog/2024/08/24/venerable-pythons"/>
        <updated>2024-08-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by David Clode /]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-4aa17997713e4fe37eaf078694c2561f.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@davidclode" target="_blank" rel="noopener noreferrer" class="">David Clode</a> /
<a href="https://unsplash.com/photos/python-resting-its-head-on-body-yrcaXCWe0VY" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<p>The Python development community concurrently supports multiple version of the Python programming language. These are in various states such as "prerelease", "bugfix", "security", or "end-of-life". For example version 3.12 is currently in "bugfix" while 3.8 is the oldest still receiving security updates. The cadence of future release is currently governed by <a href="https://peps.python.org/pep-0602/" target="_blank" rel="noopener noreferrer" class="">PEP 602 ‚Äì Annual Release Cycle for Python</a></p>
<!-- -->
<p>Circa 2024 the state of <a href="https://devguide.python.org/versions/" target="_blank" rel="noopener noreferrer" class="">all Python versions</a> look something like:</p>
<p><img decoding="async" loading="lazy" alt="CPython Release Status" src="https://www.pantsbuild.org/assets/images/cpython-release-status-354aa986e3a504505ed29cc46f0b32ac.png" width="809" height="474" class="img_axWV"></p>
<p>That covers Python the <em>language</em>. The various projects and libraries that make up the broader Python ecosystem may support versions on different timetables. For example the <code>pip</code> project stopped supporting Python 3.7 in <a href="https://pip.pypa.io/en/stable/news/#b1-2024-05-06" target="_blank" rel="noopener noreferrer" class="">2024-05</a> which was significantly after Python 3.7 itself reached end-of-life in 2023. Other projects may hue closer to the "bleeding edge".</p>
<p>There are a few different "versions of Python" that are relevant for Pants:</p>
<ul>
<li class="">The versions of Python that Pants can test and build.</li>
<li class="">The versions of Python that Pants supports "out of the box" with default tool lockfiles. This includes tools like <code>pip</code>, <code>black</code>, or <code>mypy</code>.</li>
<li class="">The version of Python that Pants itself is written in. This is only relevant for plugin authors, the version that Pants itself uses is otherwise an <a class="" href="https://www.pantsbuild.org/blog/2023/02/23/the-pants-launcher-binary-a-much-simpler-way-to-install-and-run-pants">implementation detail</a></li>
</ul>
<p>Starting in Pants version <del>2.23</del> 2.24 <sup><a href="https://www.pantsbuild.org/blog/2024/08/24/venerable-pythons#user-content-fn-1-a1cb28" id="user-content-fnref-1-a1cb28" data-footnote-ref="true" aria-describedby="footnote-label" class="anchorTargetStickyNavbar_UrHV">1</a></sup>, the default tool lockfile bundled with Pants will no longer support Python 3.7. Pants will still build and test Python 3.7 code! But you will first need to create your own <a href="https://www.pantsbuild.org/2.21/docs/python/overview/lockfiles#lockfiles-for-tools" target="_blank" rel="noopener noreferrer" class="">tool lockfiles</a>.</p>
<p>This will allow the bundled lockfiles to support <a href="https://pip.pypa.io/en/stable/news/#v24-2" target="_blank" rel="noopener noreferrer" class="">versions of pip that will generate lockfiles faster</a>, the <a href="https://github.com/pantsbuild/pants/issues/21103" target="_blank" rel="noopener noreferrer" class="">Python 3.13 release</a>, and <a href="https://github.com/pantsbuild/pants/issues/21184" target="_blank" rel="noopener noreferrer" class="">more secure</a> versions of <code>setuptools</code>.</p>
<p>In the future as support across the Python ecosystem ebbs and flows, Pants will continue to adjust to provide broad "out of the box" support for a variety of Python versions.</p>
<hr>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorTargetStickyNavbar_UrHV sr-only" id="footnote-label">Footnotes<a href="https://www.pantsbuild.org/blog/2024/08/24/venerable-pythons#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes" translate="no">‚Äã</a></h2>
<ol>
<li class="anchorTargetStickyNavbar_UrHV" id="user-content-fn-1-a1cb28">
<p>This was originally intended to be 2.23, but moved to 2.24 to give more time for testing. <a href="https://www.pantsbuild.org/blog/2024/08/24/venerable-pythons#user-content-fnref-1-a1cb28" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">‚Ü©</a></p>
</li>
</ol>
</section>]]></content>
        <author>
            <name>Chris Burroughs</name>
            <uri>https://github.com/cburroughs</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Building Linux/x64 containers on OS X on Apple Silicon with Pants]]></title>
        <id>https://www.pantsbuild.org/blog/2024/07/01/building-linux-on-osx-silicon</id>
        <link href="https://www.pantsbuild.org/blog/2024/07/01/building-linux-on-osx-silicon"/>
        <updated>2024-07-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Espresso AI started as a primarily Linux shop, but as we've added more developers on OS X we've needed a way to build docker containers on OS X that are compatible with our Linux production environment.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://espresso.ai/" target="_blank" rel="noopener noreferrer" class="">Espresso AI</a> started as a primarily Linux shop, but as we've added more developers on OS X we've needed a way to build docker containers on OS X that are compatible with our Linux production environment.</p>
<p>Pants has supported running portions of the build in docker containers for <a href="https://www.pantsbuild.org/blog/2023/02/24/pants-2-15" target="_blank" rel="noopener noreferrer" class="">a while</a>, but the exact configuration is a little tricky, particularly if you want to build x86_64 containers on Apple ARM processors.</p>
<!-- -->
<p>The recipe itself is very straight forward, adding these two sections to your root BUILD and pants.toml files will build your python binaries and docker containers for Linux/x64 on both Linux &amp; OSX:</p>
<div class="language-bash codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_GKkA">BUILD</div><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-bash codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">__defaults__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pex_binary: dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">environment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"linux"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  docker_image: dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">build_platform</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"linux/amd64"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">local_environment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"local_linux"</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">compatible_platforms</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"linux_x86_64"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">fallback_environment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"docker"</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">docker_env_vars</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"AWS_PROFILE=profile"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">local_environment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"local_osx"</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">compatible_platforms</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"macos_arm64"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker_environment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"docker"</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">platform</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"linux_x86_64"</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">image</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"python:3.11-bookworm"</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">docker_env_vars</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"AWS_PROFILE=profile"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_GKkA">pants.toml</div><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-bash codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">environments-preview.names</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">local</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"//:local_linux"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">local_osx </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"//:local_osx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"//:docker"</span><br></span></code></pre></div></div>
<p>With these snippets, we have defined 3 environments:</p>
<ul>
<li class="">A docker environment with associated image for running the linux builds</li>
<li class="">A local linux environment that falls back to docker</li>
<li class="">An OSX environment for running non-linux builds &amp; other goals locally on osx</li>
</ul>
<p>We've setup a few defaults for our repo to avoid unnecessary configuration in our BUILD files:</p>
<ul>
<li class="">All of our pex_binary targets are built using either the local or docker linux environments via the fallback mechanism</li>
<li class="">All of our docker_image targets have the build_platform explicitly specified so that we do not inherit the platform defaults to build arm64 images.</li>
</ul>
<p>The other targets, such as tests, get built/run/etc using one of the maching local_workspace targets.</p>
<p>We've also worked around a non-obvious requirement to duplicate our [docker.env_vars] setting in the docker_env_vars field of the docker_environment target. If your publish of a docker container is failing, this is likely the cause.</p>
<h1>Troubleshooting Tips</h1>
<p>If you are tempted to apply the build_platform argument on your individual docker_image targets, or attempt to add this to your Dockerfile, note that you need to specify this on the entire chain of docker images you depend on if you have multi-stage builds.</p>
<p>If you have attempted your own version of this build_platform setup before using this recipe, you may run into some caching issues and may benefit from using the <a href="https://www.pantsbuild.org/2.20/reference/global-options#local_cache" target="_blank" rel="noopener noreferrer" class="">--no-local-cache</a> flag once to get builds working.</p>
<p>If you notice you cannot publish images with this setup, run the publish command with the PANTS_LEVEL=debug environment variable to see what environment variables are actually making it to the docker push command.</p>
<h1>Understanding common errors</h1>
<p>If you are receiving errors like this, it indicates you are attempting to run a linux/x64 binary on a linux/arm64 container image and need to adjust your docker image by updating the build platform as shown in the example above:</p>
<div class="language-text codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-text codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Failed to find compatible interpreter on path /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Examined the following interpreters:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1.) /usr/bin/python3.10 CPython==3.10.12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2.) /usr/bin/python3.11 CPython==3.11.9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">No interpreter compatible with the requested constraints was found:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  A distribution for pendulum could not be resolved for /usr/bin/python3.11.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Found 1 distribution for pendulum that do not apply:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  1.) The wheel tags for pendulum 2.1.2 are cp311-cp311-manylinux_2_35_x86_64 which do not match the supported tags of /usr/bin/python3.11:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cp311-cp311-manylinux_2_35_aarch64</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>Alex Kouzemtchenko</name>
            <uri>https://github.com/kuza55</uri>
        </author>
        <category label="recipe" term="recipe"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Announcing Klaviyo's Sponsorship]]></title>
        <id>https://www.pantsbuild.org/blog/2024/06/13/announcing-klaviyo-sponsorship</id>
        <link href="https://www.pantsbuild.org/blog/2024/06/13/announcing-klaviyo-sponsorship"/>
        <updated>2024-06-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Today we are excited to announce that Klaviyo has become the first Platinum sponsor of the Pants project via the corporate sponsorship program! This is one of the first such sponsorships through our new Open Source Sponsorship program, through which we are trying to support the open source projects we depend on. While the core development and maintenance of Pants is volunteer driven, there are costs involved with maintaining and distributing such a large piece of software, costs which far too often are covered by individual volunteers. We benefit enormously from this project and want to help contribute to its ongoing success.]]></summary>
        <content type="html"><![CDATA[<p>Today we are excited to announce that <a href="https://www.klaviyo.com/" target="_blank" rel="noopener noreferrer" class="">Klaviyo</a> has become the first Platinum sponsor of the Pants project via the <a href="https://www.pantsbuild.org/sponsorship#corporate-sponsorship" target="_blank" rel="noopener noreferrer" class="">corporate sponsorship program</a>! This is one of the first such sponsorships through our new <a href="https://klaviyo.tech/inaugurating-our-open-source-sponsorship-program-df0572cc9c18" target="_blank" rel="noopener noreferrer" class="">Open Source Sponsorship program</a>, through which we are trying to support the open source projects we depend on. While the core development and maintenance of Pants is volunteer driven, there are costs involved with maintaining and distributing such a large piece of software, costs which far too often are covered by individual volunteers. We benefit enormously from this project and want to help contribute to its ongoing success.</p>
<!-- -->
<p>Klaviyo chose Pants as the build system for our backend monorepo 18 months ago (read about how we chose Pants <a href="https://klaviyo.tech/why-we-chose-pants-906891a98a6e" target="_blank" rel="noopener noreferrer" class="">here</a>). Since then, we have been impressed not only by the power, flexibility and ease of use relative to other systems that Pants offers, but also by the amazing community that surrounds it. It is truly the Pants community that sets it apart, from active development efforts to the vibrant and welcoming Slack. This community is a prime reason we chose Pants, and is what we hope to foster with our sponsorship.</p>
<p>Like all software of this size, we recognize there are costs associated with the development of Pants - from compute costs for CI, to hosting for the incredible documentation site. We are happy to help fund these costs so that the project and community can continue to grow. We hope that our initial sponsorship will prompt other commercial businesses using Pants to do the same, at any level of support, helping to support a growing Pants community for years to come.</p>]]></content>
        <author>
            <name>Greg Niemann</name>
            <uri>https://github.com/gniemann</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.21.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2024/05/29/pants-2-21</id>
        <link href="https://www.pantsbuild.org/blog/2024/05/29/pants-2-21"/>
        <updated>2024-05-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Joshua Kettle /]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-9c743c6afd057dc6797e10c6ecfd834b.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@joshuakettle" target="_blank" rel="noopener noreferrer" class="">Joshua Kettle</a> /
<a href="https://unsplash.com/photos/a-purple-and-purple-sky-with-trees-in-the-foreground-tr1nv_cLVP0" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<p>We are pleased to announce Pants <a class="" href="https://www.pantsbuild.org/blog/2024/05/29/(https://github.com/pantsbuild/pants/tree/2.21.x/src/python/pants/notes/2.21.x.md)">2.21.0</a>, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.21.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p><em>Highlights in <a class="" href="https://www.pantsbuild.org/blog/2024/05/29/(https://github.com/pantsbuild/pants/tree/2.21.x/src/python/pants/notes/2.21.x.md)">2.21</a> include</em>:</p>
<ul>
<li class="">üß™ All backends now support <a href="https://www.pantsbuild.org/2.21/reference/goals/test#attempts_default" target="_blank" rel="noopener noreferrer" class=""><code>[test].attempts_default</code></a></li>
<li class="">‚ö° Pants internal manipulation of Python dependencies by way of <a href="https://docs.pex-tool.org/" target="_blank" rel="noopener noreferrer" class="">Pex</a> is now <a href="https://github.com/pantsbuild/pants/blob/2.21.x/src/python/pants/notes/2.21.x.md#python" target="_blank" rel="noopener noreferrer" class="">substantially faster</a> in many cases.</li>
<li class="">üìú The <a href="https://www.pantsbuild.org/2.21/docs/using-pants/key-concepts/targets-and-build-files#field-default-values" target="_blank" rel="noopener noreferrer" class=""><code>__defaults__</code></a> symbol will now set default values for generated targets too. For instance, <code>__defaults__({python_source: dict(skip_black=True)})</code> will now apply to the <code>python_source</code> targets generated by a python_sources target, without having to write <code>__defaults__({(python_source, python_sources): ...})</code></li>
<li class="">‚ôª When running in CI, Pants will output a command to <a href="https://www.pantsbuild.org/2.21/reference/goals/test#show_rerun_command" target="_blank" rel="noopener noreferrer" class="">rerun only the failed tests</a>.</li>
<li class="">üêç All built in lockfiles are now Python 3.12 ready.</li>
<li class="">üö° As part of regenerating lockfiles for Python 3.12, the default version of most builtin Python tools has been updated.</li>
<li class="">üê≥ The <a href="https://www.pantsbuild.org/2.21/reference/targets/docker_image#cache_from" target="_blank" rel="noopener noreferrer" class=""><code>cache_from</code> field</a> on <code>docker_image</code> now supports multiple values.</li>
<li class="">üèú The <code>experimental-deploy</code> goal now has built-in support for the <a href="https://www.pantsbuild.org/2.21/reference/goals/experimental-deploy#dry_run" target="_blank" rel="noopener noreferrer" class=""><code>--dry-run</code> option</a>.</li>
<li class="">ü™ú Scalafix can now be run by Pants using the <a href="https://www.pantsbuild.org/2.21/docs/jvm/java-and-scala#fix-scala-code" target="_blank" rel="noopener noreferrer" class="">new <code>pants.backend.experimental.scala.lint.scalafix</code> backend</a>.</li>
<li class="">üìà And lots of smaller features, update, bugfixes, and general improvements</li>
</ul>
<!-- -->
<p>Check out the <a href="https://github.com/pantsbuild/pants/tree/2.21.x/src/python/pants/notes/2.21.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a contributor.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/docs/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to 2.21.0, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Chris Burroughs</name>
            <uri>https://github.com/cburroughs</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Simple versioning with git tags]]></title>
        <id>https://www.pantsbuild.org/blog/2024/04/27/simple-versioning-with-git-tags</id>
        <link href="https://www.pantsbuild.org/blog/2024/04/27/simple-versioning-with-git-tags"/>
        <updated>2024-04-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[A frequently asked question on Pants Slack is how to]]></summary>
        <content type="html"><![CDATA[<p>A frequently asked question on <a class="" href="https://www.pantsbuild.org/community/getting-help">Pants Slack</a> is how to
set a version - such as for a docker image, helm chart or Python distribution -
based on git state.</p>
<!-- -->
<p>Pants does have various solutions for this, but they tend to be too
complicated, or too limited:</p>
<ul>
<li class=""><a href="https://www.pantsbuild.org/2.20/docs/using-pants/generating-version-tags-from-git" target="_blank" rel="noopener noreferrer" class="">Generating version tags from Git</a></li>
<li class=""><a href="https://www.pantsbuild.org/2.20/docs/writing-plugins/common-plugin-tasks/custom-python-artifact-kwargs" target="_blank" rel="noopener noreferrer" class="">Custom <code>python_artifact()</code> kwargs</a></li>
<li class=""><a href="https://www.pantsbuild.org/2.20/reference/targets/vcs_version" target="_blank" rel="noopener noreferrer" class="">vcs_version</a> target</li>
<li class=""><a href="https://www.pantsbuild.org/2.20/docs/docker/tagging-docker-images#using-env-vars-to-include-dynamic-data-in-tags" target="_blank" rel="noopener noreferrer" class="">Using env vars to include dynamic data in tags</a></li>
</ul>
<p>It turns out there is a hack that elegantly solves this problem. To make it
work we need one more pants feature <a href="https://www.pantsbuild.org/2.20/docs/using-pants/key-concepts/options#pantsbootstrap-file" target="_blank" rel="noopener noreferrer" class="">hidden in the
docs</a>
‚Äî the <code>.pants.bootstrap</code> file. It makes it possible to automatically set the
<code>VERSION</code> env var right before pants starts:</p>
<div class="language-bash codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_GKkA">.pants.bootstrap</div><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-bash codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">VERSION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"</span><span class="token string variable" style="color:rgb(191, 199, 213)">${VERSION</span><span class="token string variable operator" style="color:rgb(137, 221, 255)">:-</span><span class="token string variable" style="color:rgb(191, 199, 213)">$(git describe --tags --dirty --match "</span><span class="token string variable punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string variable" style="color:rgb(191, 199, 213)">0-9\.</span><span class="token string variable punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token string variable" style="color:rgb(191, 199, 213)">*" || echo 0.0.1)}</span><span class="token string" style="color:rgb(195, 232, 141)">"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> VERSION</span><br></span></code></pre></div></div>
<p>Now we can use the env var everywhere!</p>
<p>To set <a href="https://www.pantsbuild.org/2.20/reference/targets/python_distribution" target="_blank" rel="noopener noreferrer" class="">docker_image</a> tag:</p>
<div class="language-python codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-python codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker_image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"image"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    image_tags</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"VERSION"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p>To pass <a href="https://www.pantsbuild.org/2.20/reference/targets/python_distribution" target="_blank" rel="noopener noreferrer" class="">docker_image</a> build arg:</p>
<div class="language-python codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-python codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker_image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"image"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    extra_build_args</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"VERSION="</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"VERSION"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p>To set <a href="https://www.pantsbuild.org/2.20/reference/targets/python_distribution" target="_blank" rel="noopener noreferrer" class="">python_distribution</a> version:</p>
<div class="language-python codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-python codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">python_distribution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"mydist"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    provides</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">python_artifact</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">"mydist"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"VERSION"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>
<p>To set <a href="https://www.pantsbuild.org/2.20/reference/targets/helm_chart" target="_blank" rel="noopener noreferrer" class="">helm_chart</a> version:</p>
<div class="language-python codeBlockContainer_LrZr theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QpNL"><pre tabindex="0" class="prism-code language-python codeBlock_z5Jo thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_YVRJ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm_chart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"VERSION"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre></div></div>]]></content>
        <author>
            <name>Gregory Borodin</name>
            <uri>https://github.com/grihabor</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Pants 2.20.0 is released!]]></title>
        <id>https://www.pantsbuild.org/blog/2024/03/27/pants-2-20</id>
        <link href="https://www.pantsbuild.org/blog/2024/03/27/pants-2-20"/>
        <updated>2024-04-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Photo by Jongsun Leed /]]></summary>
        <content type="html"><![CDATA[<div><img decoding="async" loading="lazy" src="https://www.pantsbuild.org/assets/images/splash-b1d17cfc3cbb91c4860ed3ddeb49fa83.jpeg" class="img_axWV"><figcaption><p>Photo by <a href="https://unsplash.com/@sarahleejs" target="_blank" rel="noopener noreferrer" class="">Jongsun Leed</a> /
<a href="https://unsplash.com/photos/moon-eclipse-F-pSZO_jeE8" target="_blank" rel="noopener noreferrer" class="">Unsplash</a></p></figcaption></div>
<p>We are pleased to announce Pants 2.20.0, the latest release of <a href="https://www.pantsbuild.org/" target="_blank" rel="noopener noreferrer" class="">Pantsbuild, the scalable and ergonomic build system</a>. To update, set <code>pants_version = "2.20.0"</code> in your <code>pants.toml</code>. If you're not using Pants yet, <a href="https://www.pantsbuild.org/docs/getting-started" target="_blank" rel="noopener noreferrer" class="">get started now</a>.</p>
<p><em>Highlights in 2.20 include</em>:</p>
<ul>
<li class="">‚ö° Support for the Ruff formatter, for both <code>BUILD</code> files and normal Python files.</li>
<li class="">üîí Built-in support for <a href="https://www.pantsbuild.org/2.20/docs/terraform#lockfiles" target="_blank" rel="noopener noreferrer" class="">Terraform lockfiles</a>.</li>
<li class="">üìÅ Support for <a href="https://www.pantsbuild.org/2.20/docs/using-pants/remote-caching-and-execution/remote-caching" target="_blank" rel="noopener noreferrer" class="">more remote-caching providers</a>: file system and GitHub Actions Cache.</li>
<li class="">ü™• New helpers for <a href="https://www.pantsbuild.org/2.20/reference/targets/code_quality_tool" target="_blank" rel="noopener noreferrer" class="">defining "adhoc" code-quality tools</a>, without requiring a full plugin.</li>
<li class="">‚òï JVM third-party artifacts <a href="https://www.pantsbuild.org/2.20/reference/targets/jvm_artifacts" target="_blank" rel="noopener noreferrer" class="">can now be read from <code>pom.xml</code> files</a>, and other related improvements.</li>
<li class="">üêø Go 1.22 can now be used.</li>
<li class="">ü•ö Several features of the <a href="https://docs.pex-tool.org/" target="_blank" rel="noopener noreferrer" class="">Pex</a> tool are now exposed by Pants including <a href="https://www.pantsbuild.org/2.20/reference/targets/pex_binary#sh_boot" target="_blank" rel="noopener noreferrer" class=""><code>sh_boot</code></a> <a href="https://www.pantsbuild.org/2.20/reference/targets/pex_binary#executable" target="_blank" rel="noopener noreferrer" class=""><code>executable</code></a>, and <a href="https://www.pantsbuild.org/2.20/reference/targets/pex_binary#check" target="_blank" rel="noopener noreferrer" class=""><code>check</code></a>.</li>
<li class="">‚ö† Pex's <a href="https://www.pantsbuild.org/2.20/reference/subsystems/pex#emit_warnings" target="_blank" rel="noopener noreferrer" class=""><code>emit_warnings</code></a> now works as advertised and comes with a <a href="https://www.pantsbuild.org/2.20/reference/subsystems/pex#emit_warnings" target="_blank" rel="noopener noreferrer" class="">global option</a>.</li>
<li class="">üêã Experimental support for <a href="https://podman.io/" target="_blank" rel="noopener noreferrer" class="">Podman</a> with <code>pants.backend.experimental.docker.podman</code>.</li>
<li class="">üìà And lots of smaller features, bugfixes, and general improvements</li>
</ul>
<!-- -->
<p>Check out the <a href="https://github.com/pantsbuild/pants/tree/2.20.x/src/python/pants/notes/2.20.x.md" target="_blank" rel="noopener noreferrer" class="">full release notes</a>. Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on <a href="https://github.com/pantsbuild/pants" target="_blank" rel="noopener noreferrer" class="">GitHub</a> and become a contributor.</p>
<p>We also offer <a href="https://www.pantsbuild.org/sponsorship" target="_blank" rel="noopener noreferrer" class="">formal sponsorship tiers for companies</a>, as well as individual sponsorships via <a href="https://github.com/sponsors/pantsbuild" target="_blank" rel="noopener noreferrer" class="">GitHub</a>. These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.</p>
<p>To see Pants in action, explore our example repositories:</p>
<ul>
<li class=""><a href="https://github.com/pantsbuild/example-python" target="_blank" rel="noopener noreferrer" class="">example-python</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-adhoc/" target="_blank" rel="noopener noreferrer" class="">example-adhoc</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-codegen" target="_blank" rel="noopener noreferrer" class="">example-codegen</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-docker" target="_blank" rel="noopener noreferrer" class="">example-docker</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-golang" target="_blank" rel="noopener noreferrer" class="">example-golang</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-javascript" target="_blank" rel="noopener noreferrer" class="">example-javascript</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-jvm" target="_blank" rel="noopener noreferrer" class="">example-jvm</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-kotlin" target="_blank" rel="noopener noreferrer" class="">example-kotlin</a></li>
<li class=""><a href="https://github.com/pantsbuild/example-visibility" target="_blank" rel="noopener noreferrer" class="">example-visibility</a></li>
</ul>
<p>And let us know what you think in <a href="https://www.pantsbuild.org/docs/getting-help" target="_blank" rel="noopener noreferrer" class="">Slack!</a></p>
<p>Pants wouldn't be possible without everyone who contributed to 2.20.0, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!</p>]]></content>
        <author>
            <name>Chris Burroughs</name>
            <uri>https://github.com/cburroughs</uri>
        </author>
        <category label="announcement" term="announcement"/>
    </entry>
</feed>