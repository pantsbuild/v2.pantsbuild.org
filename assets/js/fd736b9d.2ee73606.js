"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["276657"],{385635(e,t,s){s.r(t),s.d(t,{assets:()=>h,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>a});var o=s(223128),r=s(886070),n=s(848193),i=s(554707),l=s(375002);let c={title:"ipython",description:"The IPython enhanced REPL (https://ipython.org/).\n"},d,h={},a=[{value:"Basic options",id:"basic-options",level:2},{value:"Advanced options",id:"advanced-options",level:2},{value:"<code>console_script</code>",id:"console_script",level:3},{value:"<code>entry_point</code>",id:"entry_point",level:3},{value:"<code>ignore_cwd</code>",id:"ignore_cwd",level:3},{value:"<code>install_from_resolve</code>",id:"install_from_resolve",level:3},{value:"<code>requirements</code>",id:"requirements",level:3},{value:"Deprecated options",id:"deprecated-options",level:2},{value:"<code>extra_requirements</code>",id:"extra_requirements",level:3},{value:"<code>lockfile</code>",id:"lockfile",level:3},{value:"<code>version</code>",id:"version",level:3},{value:"Related subsystems",id:"related-subsystems",level:2}];function p(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.p,{children:["The IPython enhanced REPL (",(0,r.jsx)(t.a,{href:"https://ipython.org/",children:"https://ipython.org/"}),")."]}),"\n",(0,r.jsxs)(t.p,{children:["Backend: ",(0,r.jsx)("span",{className:"color--primary",children:(0,r.jsx)(t.code,{children:"pants.backend.python"})})]}),"\n",(0,r.jsxs)(t.p,{children:["Config section: ",(0,r.jsx)("span",{className:"color--primary",children:(0,r.jsx)(t.code,{children:"[ipython]"})})]}),"\n",(0,r.jsxs)("span",{className:l.A.options,children:[(0,r.jsx)(t.h2,{id:"basic-options",children:"Basic options"}),(0,r.jsx)(t.p,{children:"None"}),(0,r.jsx)(t.h2,{id:"advanced-options",children:"Advanced options"}),(0,r.jsx)(t.h3,{id:"console_script",children:(0,r.jsx)(t.code,{children:"console_script"})}),(0,r.jsx)(i.A,{cli_repr:"--ipython-console-script=<str>",env_repr:"PANTS_IPYTHON_CONSOLE_SCRIPT",toml_repr:`[ipython]
console_script = <str>`,default_repr:"ipython",children:(0,r.jsx)(t.p,{children:"The console script for the tool. Using this option is generally preferable to (and mutually exclusive with) specifying an --entry-point since console script names have a higher expectation of staying stable across releases of the tool. Usually, you will not want to change this from the default."})}),(0,r.jsx)(t.h3,{id:"entry_point",children:(0,r.jsx)(t.code,{children:"entry_point"})}),(0,r.jsx)(i.A,{cli_repr:"--ipython-entry-point=<str>",env_repr:"PANTS_IPYTHON_ENTRY_POINT",toml_repr:`[ipython]
entry_point = <str>`,default_repr:"None",children:(0,r.jsx)(t.p,{children:"The entry point for the tool. Generally you only want to use this option if the tool does not offer a --console-script (which this option is mutually exclusive with). Usually, you will not want to change this from the default."})}),(0,r.jsx)(t.h3,{id:"ignore_cwd",children:(0,r.jsx)(t.code,{children:"ignore_cwd"})}),(0,r.jsxs)(i.A,{cli_repr:"--[no-]ipython-ignore-cwd",env_repr:"PANTS_IPYTHON_IGNORE_CWD",toml_repr:`[ipython]
ignore_cwd = <bool>`,default_repr:"True",children:[(0,r.jsx)(t.p,{children:"Whether to tell IPython not to put the CWD on the import path."}),(0,r.jsx)(t.p,{children:"Normally you want this to be True, so that imports come from the hermetic environment Pants creates."}),(0,r.jsx)(t.p,{children:"However IPython<7.13.0 doesn't support this option, so if you're using an earlier version (e.g., because you have Python 2.7 code) then you will need to set this to False, and you may have issues with imports from your CWD shading the hermetic environment."})]}),(0,r.jsx)(t.h3,{id:"install_from_resolve",children:(0,r.jsx)(t.code,{children:"install_from_resolve"})}),(0,r.jsxs)(i.A,{cli_repr:"--ipython-install-from-resolve=<str>",env_repr:"PANTS_IPYTHON_INSTALL_FROM_RESOLVE",toml_repr:`[ipython]
install_from_resolve = <str>`,default_repr:"None",children:[(0,r.jsx)(t.p,{children:"If specified, install the tool using the lockfile for this named resolve."}),(0,r.jsxs)(t.p,{children:["This resolve must be defined in [python].resolves, as described in ",(0,r.jsx)(t.a,{href:"https://www.pantsbuild.org/v2.16/docs/python-third-party-dependencies#user-lockfiles",children:"https://www.pantsbuild.org/v2.16/docs/python-third-party-dependencies#user-lockfiles"}),"."]}),(0,r.jsxs)(t.p,{children:["The resolve's entire lockfile will be installed, unless specific requirements are listed via the ",(0,r.jsx)(t.code,{children:"requirements"})," option, in which case only those requirements will be installed. This is useful if you don't want to invalidate the tool's outputs when the resolve incurs changes to unrelated requirements."]}),(0,r.jsxs)(t.p,{children:["If unspecified, and the ",(0,r.jsx)(t.code,{children:"lockfile"})," option is unset, the tool will be installed using the default lockfile shipped with Pants."]}),(0,r.jsxs)(t.p,{children:["If unspecified, and the ",(0,r.jsx)(t.code,{children:"lockfile"})," option is set, the tool will use the custom ",(0,r.jsx)(t.code,{children:"ipython"}),' "tool lockfile" generated from the ',(0,r.jsx)(t.code,{children:"version"})," and ",(0,r.jsx)(t.code,{children:"extra_requirements"})," options. But note that this mechanism is deprecated."]})]}),(0,r.jsx)(t.h3,{id:"requirements",children:(0,r.jsx)(t.code,{children:"requirements"})}),(0,r.jsxs)(i.A,{cli_repr:"--ipython-requirements=\"['<str>', '<str>', ...]\"",env_repr:"PANTS_IPYTHON_REQUIREMENTS",toml_repr:`[ipython]
requirements = [
  '<str>',
  '<str>',
  ...,
]`,default_repr:"[]",children:[(0,r.jsx)(t.p,{children:"If install_from_resolve is specified, install these requirements, at the versions provided by the specified resolve's lockfile."}),(0,r.jsxs)(t.p,{children:["Values can be pip-style requirements (e.g., ",(0,r.jsx)(t.code,{children:"tool"})," or ",(0,r.jsx)(t.code,{children:"tool==1.2.3"})," or ",(0,r.jsx)(t.code,{children:"tool>=1.2.3"}),"), or addresses of python_requirement targets (or targets that generate or depend on python_requirement targets)."]}),(0,r.jsx)(t.p,{children:"The lockfile will be validated against the requirements - if a lockfile doesn't provide the requirement (at a suitable version, if the requirement specifies version constraints) Pants will error."}),(0,r.jsx)(t.p,{children:"If unspecified, install the entire lockfile."})]}),(0,r.jsx)(t.h2,{id:"deprecated-options",children:"Deprecated options"}),(0,r.jsx)(t.h3,{id:"extra_requirements",children:(0,r.jsx)(t.code,{children:"extra_requirements"})}),(0,r.jsx)(i.A,{cli_repr:"--ipython-extra-requirements=\"['<str>', '<str>', ...]\"",env_repr:"PANTS_IPYTHON_EXTRA_REQUIREMENTS",toml_repr:`[ipython]
extra_requirements = [
  '<str>',
  '<str>',
  ...,
]`,default_repr:"[]",removal_version:"2.18.0.dev1",removal_hint:"Custom tool versions are now installed from named resolves, as described at https://www.pantsbuild.org/v2.16/docs/python-lockfiles.",children:(0,r.jsx)(t.p,{children:"Any additional requirement strings to use with the tool. This is useful if the tool allows you to install plugins or if you need to constrain a dependency to a certain version."})}),(0,r.jsx)(t.h3,{id:"lockfile",children:(0,r.jsx)(t.code,{children:"lockfile"})}),(0,r.jsxs)(i.A,{cli_repr:"--ipython-lockfile=<str>",env_repr:"PANTS_IPYTHON_LOCKFILE",toml_repr:`[ipython]
lockfile = <str>`,default_repr:"<default>",removal_version:"2.18.0.dev0",removal_hint:'Custom tool versions are now installed from named resolves, as described at https://www.pantsbuild.org/v2.16/docs/python-lockfiles.<br /><br />1. If you have an existing resolve that includes the requirements for this tool,<br />    you can set `[ipython].install_from_resolve = "<resolve name>".<br />    This may be the case if the tool also provides a runtime library, and you want<br />    to specify the version in just one place.<br />2. If not, you can set up a new resolve as described at the link above.<br /><br />Either way, the resolve you choose should provide the requirements currently set by the `version` and `extra-requirements` options for this tool, which you can see by running `pants help-advanced ipython`.',children:[(0,r.jsx)(t.p,{children:"Path to a lockfile used for installing the tool."}),(0,r.jsxs)(t.p,{children:["Set to the string ",(0,r.jsx)(t.code,{children:"<default>"})," to use a lockfile provided by Pants, so long as you have not changed the ",(0,r.jsx)(t.code,{children:"--version"})," and ",(0,r.jsx)(t.code,{children:"--extra-requirements"})," options, and the tool's interpreter constraints are compatible with the default. Pants will error or warn if the lockfile is not compatible (controlled by ",(0,r.jsx)(t.code,{children:"[python].invalid_lockfile_behavior"}),"). See ",(0,r.jsx)(t.a,{href:"https://github.com/pantsbuild/pants/blob/release_2.16.1rc4/src/python/pants/backend/python/subsystems/ipython.lock",children:"https://github.com/pantsbuild/pants/blob/release_2.16.1rc4/src/python/pants/backend/python/subsystems/ipython.lock"})," for the default lockfile contents."]}),(0,r.jsxs)(t.p,{children:["Set to the string ",(0,r.jsx)(t.code,{children:"<none>"})," to opt out of using a lockfile. We do not recommend this, though, as lockfiles are essential for reproducible builds and supply-chain security."]}),(0,r.jsxs)(t.p,{children:["To use a custom lockfile, set this option to a file path relative to the build root, then run ",(0,r.jsx)(t.code,{children:"pants generate-lockfiles --resolve=ipython"}),"."]}),(0,r.jsxs)(t.p,{children:["Alternatively, you can set this option to the path to a custom lockfile using pip's requirements.txt-style, ideally with ",(0,r.jsx)(t.code,{children:"--hash"}),". Set ",(0,r.jsx)(t.code,{children:"[python].invalid_lockfile_behavior = 'ignore'"})," so that Pants does not complain about missing lockfile headers."]})]}),(0,r.jsx)(t.h3,{id:"version",children:(0,r.jsx)(t.code,{children:"version"})}),(0,r.jsx)(i.A,{cli_repr:"--ipython-version=<str>",env_repr:"PANTS_IPYTHON_VERSION",toml_repr:`[ipython]
version = <str>`,default_repr:"ipython>=7.34,<8",removal_version:"2.18.0.dev1",removal_hint:"Custom tool versions are now installed from named resolves, as described at https://www.pantsbuild.org/v2.16/docs/python-lockfiles.",children:(0,r.jsx)(t.p,{children:"Requirement string for the tool."})}),(0,r.jsx)(t.h2,{id:"related-subsystems",children:"Related subsystems"}),(0,r.jsx)(t.p,{children:"None"})]})]})}function u(e={}){let{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},375002(e,t,s){s.d(t,{A:()=>o});let o={options:"options_nrbo"}},554707(e,t,s){s.d(t,{A:()=>i});var o=s(886070),r=s(384122),n=s(580830);function i({children:e,cli_repr:t,env_repr:s,toml_repr:i,one_of:l,default_repr:c,target_field_name:d,removal_version:h,removal_hint:a}){return(0,o.jsxs)("div",{className:"margin-bottom--lg",children:[(0,o.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:t}),(0,o.jsx)("br",{}),(0,o.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:s}),(0,o.jsx)("br",{}),(0,o.jsx)(r.A,{language:"toml",title:"pants.toml",children:i}),(0,o.jsxs)("div",{style:{paddingLeft:"2em"},children:[(0,o.jsxs)("span",{children:[l&&(0,o.jsxs)("span",{children:["one of:"," ",(0,o.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:l}),(0,o.jsx)("br",{})]}),"default:"," ",(0,o.jsx)("span",{style:{color:"var(--ifm-color-success)"},children:(c||"").includes("\n")?(0,o.jsx)("pre",{className:"padding--sm",children:c}):(0,o.jsx)("code",{children:c})})]}),(0,o.jsx)("br",{}),h&&(0,o.jsxs)("span",{style:{color:"var(--ifm-color-danger-darkest)"},children:["Deprecated, will be removed in version: ",h,".",(0,o.jsx)("br",{}),a,(0,o.jsx)("br",{})]}),e,d&&(0,o.jsxs)("span",{children:["Can be overriden by field",(0,o.jsx)("code",{children:d})," on"," ",(0,o.jsx)(n.A,{to:"../targets/local_environment",children:(0,o.jsx)("code",{children:"local_environment"})}),","," ",(0,o.jsx)(n.A,{to:"../targets/docker_environment",children:(0,o.jsx)("code",{children:"docker_environment"})}),", or"," ",(0,o.jsx)(n.A,{to:"../targets/remote_environment",children:(0,o.jsx)("code",{children:"remote_environment"})}),"targets."]})]})]})}},223128(e){e.exports=JSON.parse('{"id":"reference/subsystems/ipython","title":"ipython","description":"The IPython enhanced REPL (https://ipython.org/).\\n","source":"@site/versioned_docs/version-2.16/reference/subsystems/ipython.mdx","sourceDirName":"reference/subsystems","slug":"/reference/subsystems/ipython","permalink":"/2.16/reference/subsystems/ipython","draft":false,"unlisted":false,"tags":[],"version":"2.16","frontMatter":{"title":"ipython","description":"The IPython enhanced REPL (https://ipython.org/).\\n"},"sidebar":"referenceSidebar","previous":{"title":"helm","permalink":"/2.16/reference/subsystems/helm"},"next":{"title":"isort","permalink":"/2.16/reference/subsystems/isort"}}')}}]);