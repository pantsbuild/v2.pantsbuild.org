"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["567787"],{672130(e,r,s){s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>f,frontMatter:()=>l,metadata:()=>n,toc:()=>h});var n=s(892847),i=s(886070),c=s(848193),o=s(554707),t=s(375002);let l={title:"fmt",description:"Autoformat source code.\n"},a,d={},h=[{value:"Basic options",id:"basic-options",level:2},{value:"Advanced options",id:"advanced-options",level:2},{value:"<code>per_file_caching</code>",id:"per_file_caching",level:3},{value:"Deprecated options",id:"deprecated-options",level:2},{value:"Related subsystems",id:"related-subsystems",level:2}];function p(e){let r={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"pants fmt [args]\n"})}),"\n",(0,i.jsx)(r.p,{children:"Autoformat source code."}),"\n",(0,i.jsxs)(r.p,{children:["Backend: ",(0,i.jsx)("span",{className:"color--primary",children:"``"})]}),"\n",(0,i.jsxs)(r.p,{children:["Config section: ",(0,i.jsx)("span",{className:"color--primary",children:(0,i.jsx)(r.code,{children:"[fmt]"})})]}),"\n",(0,i.jsxs)("span",{className:t.A.options,children:[(0,i.jsx)(r.h2,{id:"basic-options",children:"Basic options"}),(0,i.jsx)(r.p,{children:"None"}),(0,i.jsx)(r.h2,{id:"advanced-options",children:"Advanced options"}),(0,i.jsx)(r.h3,{id:"per_file_caching",children:(0,i.jsx)(r.code,{children:"per_file_caching"})}),(0,i.jsxs)(o.A,{cli_repr:"--[no-]fmt-per-file-caching",env_repr:"PANTS_FMT_PER_FILE_CACHING",toml_repr:`[fmt]
per_file_caching = <bool>`,default_repr:"False",children:[(0,i.jsx)(r.p,{children:"Rather than formatting all files in a single batch, format each file as a separate process."}),(0,i.jsxs)(r.p,{children:["Why do this? You'll get many more cache hits. Why not do this? Formatters both have substantial startup overhead and are cheap to add one additional file to the run. On a cold cache, it is much faster to use ",(0,i.jsx)(r.code,{children:"--no-per-file-caching"}),"."]}),(0,i.jsxs)(r.p,{children:["We only recommend using ",(0,i.jsx)(r.code,{children:"--per-file-caching"})," if you are using a remote cache or if you have benchmarked that this option will be faster than ",(0,i.jsx)(r.code,{children:"--no-per-file-caching"})," for your use case."]})]}),(0,i.jsx)(r.h2,{id:"deprecated-options",children:"Deprecated options"}),(0,i.jsx)(r.p,{children:"None"}),(0,i.jsx)(r.h2,{id:"related-subsystems",children:"Related subsystems"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/black",children:"black"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/docformatter",children:"docformatter"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/download-pex-bin",children:"download-pex-bin"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/grpc_python_plugin",children:"grpc_python_plugin"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/isort",children:"isort"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/pex",children:"pex"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/protoc",children:"protoc"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/python-infer",children:"python-infer"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/python-native-code",children:"python-native-code"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/python-protobuf",children:"python-protobuf"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/python-repos",children:"python-repos"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/python-setup",children:"python-setup"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/source",children:"source"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.a,{href:"/2.2/reference/subsystems/subprocess-environment",children:"subprocess-environment"})}),"\n"]})]})]})}function f(e={}){let{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},375002(e,r,s){s.d(r,{A:()=>n});let n={options:"options_nrbo"}},554707(e,r,s){s.d(r,{A:()=>o});var n=s(886070),i=s(384122),c=s(580830);function o({children:e,cli_repr:r,env_repr:s,toml_repr:o,one_of:t,default_repr:l,target_field_name:a,removal_version:d,removal_hint:h}){return(0,n.jsxs)("div",{className:"margin-bottom--lg",children:[(0,n.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:r}),(0,n.jsx)("br",{}),(0,n.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:s}),(0,n.jsx)("br",{}),(0,n.jsx)(i.A,{language:"toml",title:"pants.toml",children:o}),(0,n.jsxs)("div",{style:{paddingLeft:"2em"},children:[(0,n.jsxs)("span",{children:[t&&(0,n.jsxs)("span",{children:["one of:"," ",(0,n.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:t}),(0,n.jsx)("br",{})]}),"default:"," ",(0,n.jsx)("span",{style:{color:"var(--ifm-color-success)"},children:(l||"").includes("\n")?(0,n.jsx)("pre",{className:"padding--sm",children:l}):(0,n.jsx)("code",{children:l})})]}),(0,n.jsx)("br",{}),d&&(0,n.jsxs)("span",{style:{color:"var(--ifm-color-danger-darkest)"},children:["Deprecated, will be removed in version: ",d,".",(0,n.jsx)("br",{}),h,(0,n.jsx)("br",{})]}),e,a&&(0,n.jsxs)("span",{children:["Can be overriden by field",(0,n.jsx)("code",{children:a})," on"," ",(0,n.jsx)(c.A,{to:"../targets/local_environment",children:(0,n.jsx)("code",{children:"local_environment"})}),","," ",(0,n.jsx)(c.A,{to:"../targets/docker_environment",children:(0,n.jsx)("code",{children:"docker_environment"})}),", or"," ",(0,n.jsx)(c.A,{to:"../targets/remote_environment",children:(0,n.jsx)("code",{children:"remote_environment"})}),"targets."]})]})]})}},892847(e){e.exports=JSON.parse('{"id":"reference/goals/fmt","title":"fmt","description":"Autoformat source code.\\n","source":"@site/versioned_docs/version-2.2/reference/goals/fmt.mdx","sourceDirName":"reference/goals","slug":"/reference/goals/fmt","permalink":"/2.2/reference/goals/fmt","draft":false,"unlisted":false,"tags":[],"version":"2.2","frontMatter":{"title":"fmt","description":"Autoformat source code.\\n"},"sidebar":"referenceSidebar","previous":{"title":"filter","permalink":"/2.2/reference/goals/filter"},"next":{"title":"lint","permalink":"/2.2/reference/goals/lint"}}')}}]);