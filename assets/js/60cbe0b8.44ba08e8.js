"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["735920"],{101305(e,n,t){t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var s=t(901088),i=t(886070),r=t(848193),a=t(685008),l=t(637180);let o={title:"typecheck",sidebar_position:7},c,p={},d=[{value:"Activating MyPy",id:"activating-mypy",level:2},{value:"Hook up a MyPy config file",id:"hook-up-a-mypy-config-file",level:3},{value:"Change the MyPy version",id:"change-the-mypy-version",level:3},{value:"Incrementally adopt MyPy with <code>skip_mypy=True</code>",id:"incrementally-adopt-mypy-with-skip_mypytrue",level:3},{value:"Type stubs (<code>.pyi</code> files)",id:"type-stubs-pyi-files",level:3},{value:"Add a third-party plugin",id:"add-a-third-party-plugin",level:3},{value:"Add a first-party plugin",id:"add-a-first-party-plugin",level:3},{value:"Known limitations",id:"known-limitations",level:2},{value:"Performance may be slower than normal",id:"performance-may-be-slower-than-normal",level:3},{value:"Namespace packages",id:"namespace-packages",level:3},{value:"Tip: only run over changed files and their dependees",id:"tip-only-run-over-changed-files-and-their-dependees",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"How to use MyPy."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"activating-mypy",children:"Activating MyPy"}),"\n",(0,i.jsxs)(n.p,{children:["To opt-in, add ",(0,i.jsx)(n.code,{children:"pants.backend.python.typecheck.mypy"})," to ",(0,i.jsx)(n.code,{children:"backend_packages"})," in your config file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'title="pants.toml"',children:'[GLOBAL]\nbackend_packages.add = [\n  "pants.backend.python",\n  "pants.backend.python.typecheck.mypy",\n]\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This will register a new ",(0,i.jsx)(n.code,{children:"typecheck"})," goal:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ./pants typecheck helloworld/util/lang.py\n$ ./pants typecheck ::\n"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Benefit of Pants: typecheck Python 2-only and Python 3-only code at the same time",type:"tip",children:[(0,i.jsxs)(n.p,{children:["MyPy determines which Python version to use based on its ",(0,i.jsx)(n.code,{children:"python_version"})," option. If that's undefined, MyPy uses the interpreter the tool is run with. Because you can only use one config file at a time with MyPy, you cannot normally say to use ",(0,i.jsx)(n.code,{children:"2.7"})," for part of your codebase but ",(0,i.jsx)(n.code,{children:"3.6"})," for the rest; you must choose a single version."]}),(0,i.jsxs)(n.p,{children:["Instead, Pants will group your targets based on their ",(0,i.jsx)(n.a,{href:"/2.5/docs/python/overview/interpreter-compatibility",children:"interpreter constraints"}),", and run all the Python 2 targets together and all the Python 3 targets together. It will automatically set ",(0,i.jsx)(n.code,{children:"python_version"})," to the minimum compatible interpreter, such as a constraint like ",(0,i.jsx)(n.code,{children:'["==2.7.*", ">3.6"]'})," using ",(0,i.jsx)(n.code,{children:"2.7"}),"."]}),(0,i.jsxs)(n.p,{children:["To turn this off, you can still set ",(0,i.jsx)(n.code,{children:"python_version"})," in ",(0,i.jsx)(n.code,{children:"mypy.ini"})," or ",(0,i.jsx)(n.code,{children:"--python-version"}),"/",(0,i.jsx)(n.code,{children:"--py2"})," in ",(0,i.jsx)(n.code,{children:"--mypy-args"}),"; Pants will respect the value you set."]})]}),"\n",(0,i.jsx)(n.h3,{id:"hook-up-a-mypy-config-file",children:"Hook up a MyPy config file"}),"\n",(0,i.jsxs)(n.p,{children:["Pants will automatically include your config file if it's located at ",(0,i.jsx)(n.code,{children:"mypy.ini"}),", ",(0,i.jsx)(n.code,{children:".mypy.ini"}),", or ",(0,i.jsx)(n.code,{children:"setup.cfg"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Otherwise, you must set the option ",(0,i.jsx)(n.code,{children:"[mypy].config"})," for Pants to include the config file in the process's sandbox and to instruct MyPy to load it."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'title="pants.toml"',children:'[mypy]\nconfig = "build-support/mypy.ini"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"change-the-mypy-version",children:"Change the MyPy version"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"version"})," option in the ",(0,i.jsx)(n.code,{children:"[mypy]"})," scope:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'title="pants.toml"',children:'[mypy]\nversion = "mypy==0.782"\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"incrementally-adopt-mypy-with-skip_mypytrue",children:["Incrementally adopt MyPy with ",(0,i.jsx)(n.code,{children:"skip_mypy=True"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can tell Pants to skip running MyPy on certain files by adding ",(0,i.jsx)(n.code,{children:"skip_mypy=True"})," to the relevant targets."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="project/BUILD"',children:'# Skip MyPy for all the Python files in this directory\n# (both test and non-test files).\npython_library(skip_mypy=True)\npython_tests(name="tests", skip_mypy=True)\n'})}),"\n",(0,i.jsxs)(n.p,{children:["When you run ",(0,i.jsx)(n.code,{children:"./pants typecheck ::"}),", Pants will skip any files belonging to skipped targets."]}),"\n",(0,i.jsxs)(n.h3,{id:"type-stubs-pyi-files",children:["Type stubs (",(0,i.jsx)(n.code,{children:".pyi"})," files)"]}),"\n",(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsxs)(n.a,{href:"https://mypy.readthedocs.io/en/stable/stubs.html",children:[(0,i.jsx)(n.code,{children:".pyi"})," files"]})," for both first-party and third-party code. Include the ",(0,i.jsx)(n.code,{children:".pyi"})," files in the ",(0,i.jsx)(n.code,{children:"sources"})," field for ",(0,i.jsx)(n.code,{children:"python_library"})," and ",(0,i.jsx)(n.code,{children:"python_tests"})," targets. MyPy will use these stubs rather than looking at the implementation."]}),"\n",(0,i.jsxs)(n.p,{children:["Pants's dependency inference knows to infer a dependency both on the implementation and the type stub. You can verify this by running ",(0,i.jsx)(n.code,{children:"./pants dependencies path/to/file.py"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When writing stubs for third-party libraries, you may need the set up the ",(0,i.jsx)(n.code,{children:"[source].root_patterns"})," option so that ",(0,i.jsx)(n.a,{href:"/2.5/docs/using-pants/key-concepts/source-roots",children:"source roots"})," are properly stripped. For example:"]}),"\n",(0,i.jsxs)(a.A,{groupId:"code-examples",children:[(0,i.jsx)(l.A,{value:"pants.toml",label:"pants.toml",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'tab={"label":"pants.toml"}',children:'[source]\nroot_patterns = ["mypy-stubs", "src/python"]\n'})})}),(0,i.jsx)(l.A,{value:"mypy-stubs/colors.pyi",label:"mypy-stubs/colors.pyi",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"mypy-stubs/colors.pyi"}',children:"# Because we set `mypy-stubs` as a source root, this file will be\n# stripped to be simply `colors.pyi`. MyPy will look at this file for\n# imports of the `colors` module.\n\ndef red(s: str) -> str: ...\n"})})}),(0,i.jsx)(l.A,{value:"mypy-stubs/build",label:"mypy-stubs/BUILD",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:'tab={"label":"mypy-stubs/BUILD"}',children:"python_library()\n"})})}),(0,i.jsx)(l.A,{value:"src/python/project/app.py",label:"src/python/project/app.py",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"src/python/project/app.py"}',children:'from colors import red\n\nif __name__ == "__main__":\n    print(red("I\'m red!"))\n'})})}),(0,i.jsx)(l.A,{value:"src/python/project/build",label:"src/python/project/BUILD",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"src/python/project/BUILD"}',children:'# Pants will infer a dependency both on the `ansicolors` requirement\n# and our type stub.\npex_binary(sources=["app.py"])\n'})})})]}),"\n",(0,i.jsx)(n.h3,{id:"add-a-third-party-plugin",children:"Add a third-party plugin"}),"\n",(0,i.jsxs)(n.p,{children:["Add the plugin to the ",(0,i.jsx)(n.code,{children:"extra_requirements"})," option in the ",(0,i.jsx)(n.code,{children:"[mypy]"})," scope, then update your ",(0,i.jsx)(n.code,{children:"mypy.ini"})," to load the plugin:"]}),"\n",(0,i.jsxs)(a.A,{groupId:"code-examples",children:[(0,i.jsx)(l.A,{value:"pants.toml",label:"pants.toml",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'tab={"label":"pants.toml"}',children:'[mypy]\nextra_requirements = ["pydantic==1.6.1"]\n'})})}),(0,i.jsx)(l.A,{value:"mypy.ini",label:"mypy.ini",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:'tab={"label":"mypy.ini"}',children:"[mypy]\nplugins =\n    pydantic.mypy\n"})})})]}),"\n",(0,i.jsxs)(n.p,{children:["For some plugins, like ",(0,i.jsx)(n.code,{children:"django-stubs"}),", you may need to always load certain source files, such as a ",(0,i.jsx)(n.code,{children:"settings.py"})," file. You can make sure that this source file is always used by hijacking the ",(0,i.jsx)(n.code,{children:"source_plugins"})," option, which allows you to specify targets whose ",(0,i.jsx)(n.code,{children:"sources"})," should always be used when running MyPy. See the below section for more information about source plugins."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, to fully use the ",(0,i.jsx)(n.code,{children:"django-stubs"})," plugin, your setup might look like this:"]}),"\n",(0,i.jsxs)(a.A,{groupId:"code-examples",children:[(0,i.jsx)(l.A,{value:"pants.toml",label:"pants.toml",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'tab={"label":"pants.toml"}',children:'[source]\nroot_patterns = ["src/python"]\n\n[mypy]\nextra_requirements = ["django-stubs==1.5.0"]\nsource_plugins = ["src/python/project:django_settings"]\n'})})}),(0,i.jsx)(l.A,{value:"mypy.ini",label:"mypy.ini",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:'tab={"label":"mypy.ini"}',children:"[mypy]\nplugins =\n    mypy_django_plugin.main\n\n[mypy.plugins.django-stubs]\ndjango_settings_module = project.django_settings\n"})})}),(0,i.jsx)(l.A,{value:"src/python/project/django_settings.py",label:"src/python/project/django_settings.py",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"src/python/project/django_settings.py"}',children:'from django.urls import URLPattern\n\nDEBUG = True\nDEFAULT_FROM_EMAIL = "webmaster@example.com"\nSECRET_KEY = "not so secret"\nMY_SETTING = URLPattern(pattern="foo", callback=lambda: None)\n'})})}),(0,i.jsx)(l.A,{value:"src/python/project/build",label:"src/python/project/BUILD",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"src/python/project/BUILD"}',children:'python_library(\n    name="django-settings",\n    sources=["django_settings.py"],\n)\n'})})})]}),"\n",(0,i.jsx)(n.admonition,{title:"MyPy Protobuf support",type:"note",children:(0,i.jsxs)(n.p,{children:["Add ",(0,i.jsx)(n.code,{children:"mypy_plugin = true"})," to the ",(0,i.jsx)(n.code,{children:"[python-protobuf]"})," scope. See ",(0,i.jsx)(n.a,{href:"/2.5/docs/python/integrations/protobuf-and-grpc",children:"Protobuf"})," for more information."]})}),"\n",(0,i.jsx)(n.h3,{id:"add-a-first-party-plugin",children:"Add a first-party plugin"}),"\n",(0,i.jsxs)(n.p,{children:["To add a ",(0,i.jsx)(n.a,{href:"https://mypy.readthedocs.io/en/stable/extending_mypy.html",children:"MyPy plugin"})," you wrote, add a ",(0,i.jsx)(n.code,{children:"python_library"})," target with the plugin's Python file(s) included in the ",(0,i.jsx)(n.code,{children:"sources"})," field."]}),"\n",(0,i.jsxs)(n.p,{children:["Then, add ",(0,i.jsx)(n.code,{children:"plugins = path.to.module"})," to your MyPy config file, using the name of the module without source roots. For example, if your Python file is called ",(0,i.jsx)(n.code,{children:"pants-plugins/mypy_plugins/custom_plugin.py"}),", and you set ",(0,i.jsx)(n.code,{children:"pants-plugins"})," as a source root, then set ",(0,i.jsx)(n.code,{children:"plugins = mypy_plugins.custom_plugin"}),". Set the ",(0,i.jsx)(n.code,{children:"config"})," option in the ",(0,i.jsx)(n.code,{children:"[mypy]"})," scope in your ",(0,i.jsx)(n.code,{children:"pants.toml"})," to point to your MyPy config file."]}),"\n",(0,i.jsxs)(n.p,{children:["Finally, set the option ",(0,i.jsx)(n.code,{children:"source_plugins"})," in the ",(0,i.jsx)(n.code,{children:"[mypy]"})," scope to include this target's address, e.g. ",(0,i.jsx)(n.code,{children:'source_plugins = ["pants-plugins/mypy_plugins:plugin"]'}),". This will ensure that your plugin's sources are always included in the subprocess."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsxs)(a.A,{groupId:"code-examples",children:[(0,i.jsx)(l.A,{value:"pants.toml",label:"pants.toml",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'tab={"label":"pants.toml"}',children:'[mypy]\nconfig = "mypy.ini"\nsource_plugins = ["pants-plugins/mypy_plugins:plugin"]\n'})})}),(0,i.jsx)(l.A,{value:"mypy.ini",label:"mypy.ini",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:'tab={"label":"mypy.ini"}',children:"plugins =\n    mypy_plugins.change_return_type\n"})})}),(0,i.jsx)(l.A,{value:"pants-plugins/mypy_plugins/build",label:"pants-plugins/mypy_plugins/BUILD",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"pants-plugins/mypy_plugins/BUILD"}',children:'python_library(\n    name="plugin",\n    sources=["change_return_type.py"],\n)\n'})})}),(0,i.jsx)(l.A,{value:"pants-plugins/mypy_plugins/change_return_type.py",label:"pants-plugins/mypy_plugins/change_return_type.py",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"pants-plugins/mypy_plugins/change_return_type.py"}',children:'"""A contrived plugin that changes the return type of any\nfunction ending in `__overriden_by_plugin` to return None."""\n\nfrom typing import Callable, Optional, Type\n\nfrom mypy.plugin import FunctionContext, Plugin\nfrom mypy.types import NoneType, Type as MyPyType\n\nfrom plugins.subdir.dep import is_overridable_function\n\nclass ChangeReturnTypePlugin(Plugin):\n    def get_function_hook(\n        self, fullname: str\n    ) -> Optional[Callable[[FunctionContext], MyPyType]]:\n        return hook if name.endswith("__overridden_by_plugin") else None\n\n\ndef hook(ctx: FunctionContext) -> MyPyType:\n    return NoneType()\n\n\ndef plugin(_version: str) -> Type[Plugin]:\n    return ChangeReturnTypePlugin\n'})})})]}),"\n",(0,i.jsxs)(n.p,{children:["Because this is a ",(0,i.jsx)(n.code,{children:"python_library"})," target, Pants will treat this code like your other Python files, such as running linters on it or allowing you to write a ",(0,i.jsx)(n.code,{children:"python_distribution"})," target to distribute the plugin externally."]}),"\n",(0,i.jsx)(n.h2,{id:"known-limitations",children:"Known limitations"}),"\n",(0,i.jsx)(n.h3,{id:"performance-may-be-slower-than-normal",children:"Performance may be slower than normal"}),"\n",(0,i.jsx)(n.p,{children:"Pants does not yet leverage MyPy's caching mechanism and daemon, so a typical run with Pants will likely be slower than using MyPy directly."}),"\n",(0,i.jsxs)(n.p,{children:["We are ",(0,i.jsx)(n.a,{href:"https://github.com/pantsbuild/pants/issues/10864",children:"working to figure out"})," how to leverage MyPy's cache in a way that is safe and allows for things like remote execution."]}),"\n",(0,i.jsx)(n.h3,{id:"namespace-packages",children:"Namespace packages"}),"\n",(0,i.jsxs)(n.p,{children:["Pants's MyPy implementation will likely not work if you use namespace packages, either via ",(0,i.jsx)(n.a,{href:"https://www.python.org/dev/peps/pep-0420/",children:"PEP 420"})," or the older ",(0,i.jsx)(n.code,{children:"pkg_resources"})," approach, even if you use MyPy's ",(0,i.jsx)(n.code,{children:"--namespace-packages"})," option."]}),"\n",(0,i.jsxs)(n.p,{children:["Further, we've internally had issues with setting ",(0,i.jsx)(n.code,{children:"--namespace-packages"})," causing MyPy to complain about some third-party dependencies, which appears to be a MyPy bug."]}),"\n",(0,i.jsxs)(n.p,{children:["Please reach out on ",(0,i.jsx)(n.a,{href:"/community/members",children:"Slack"})," if you need support for namespace packages. We had difficulty getting MyPy to work with namespace packages independently of Pants, and it would help us to understand your use case."]}),"\n",(0,i.jsx)(n.h2,{id:"tip-only-run-over-changed-files-and-their-dependees",children:"Tip: only run over changed files and their dependees"}),"\n",(0,i.jsx)(n.p,{children:"When changing type hints code, you not only need to run over the changed files, but also any code that depends on the changed files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ./pants --changed-since=HEAD --changed-dependees=transitive typecheck\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/2.5/docs/using-pants/advanced-target-selection",children:"Advanced target selection"})," for more information."]})]})}function u(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},753348(e,n,t){t.d(n,{A:()=>s});let s={tabItem:"tabItem_mHvh"}},618264(e,n,t){t.d(n,{A:()=>s});let s={tabList:"tabList_sFbf",tabItem:"tabItem_UVfV"}},637180(e,n,t){t.d(n,{A:()=>a});var s=t(886070);t(830758);var i=t(313526),r=t(753348);function a({children:e,hidden:n,className:t}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.A.tabItem,t),hidden:n,children:e})}},685008(e,n,t){t.d(n,{A:()=>y});var s=t(886070),i=t(830758),r=t(313526),a=t(911212),l=t(274875),o=t(106632),c=t(189223),p=t(618264);function d({className:e,block:n,selectedValue:t,selectValue:i,tabValues:a}){let o=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.a_)(),d=e=>{let n=e.currentTarget,s=a[o.indexOf(n)].value;s!==t&&(c(n),i(s))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{let t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{let t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1]}}n?.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:i})=>(0,s.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:h,onClick:d,...i,className:(0,r.A)("tabs__item",p.A.tabItem,i?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function h({lazy:e,children:n,selectedValue:t}){let a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=a.find(e=>e.props.value===t);return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function u(e){let n=(0,o.u)(e);return(0,s.jsxs)("div",{className:(0,r.A)(a.G.tabs.container,"tabs-container",p.A.tabList),children:[(0,s.jsx)(d,{...n,...e}),(0,s.jsx)(h,{...n,...e})]})}function y(e){let n=(0,c.A)();return(0,s.jsx)(u,{...e,children:(0,o.v)(e.children)},String(n))}},106632(e,n,t){t.d(n,{u:()=>d,v:()=>c});var s=t(830758),i=t(325557),r=t(363717),a=t(125740),l=t(574229),o=t(270367);function c(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p({value:e,tabValues:n}){return n.some(n=>n.value===e)}function d(e){let n,{defaultValue:t,queryString:d=!1,groupId:h}=e,u=function(e){let{values:n,children:t}=e;return(0,s.useMemo)(()=>{let e=n??c(t).map(({props:{value:e,label:n,attributes:t,default:s}})=>({value:e,label:n,attributes:t,default:s})),s=(0,l.XI)(e,(e,n)=>e.value===n.value);if(s.length>0)throw Error(`Docusaurus error: Duplicate values "${s.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,t])}(e),[y,m]=(0,s.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let t=n.find(e=>e.default)??n[0];if(!t)throw Error("Unexpected error: 0 tabValues");return t.value})({defaultValue:t,tabValues:u})),[g,x]=function({queryString:e=!1,groupId:n}){let t=(0,i.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,a.aZ)(r),(0,s.useCallback)(e=>{if(!r)return;let n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})},[r,t])]}({queryString:d,groupId:h}),[j,f]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[t,i]=(0,o.Dv)(n);return[t,(0,s.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:h}),b=p({value:n=g??j,tabValues:u})?n:null;return(0,r.A)(()=>{b&&m(b)},[b]),{selectedValue:y,selectValue:(0,s.useCallback)(e=>{if(!p({value:e,tabValues:u}))throw Error(`Can't select invalid tab value=${e}`);m(e),x(e),f(e)},[x,f,u]),tabValues:u}}},848193(e,n,t){t.d(n,{R:()=>a,x:()=>l});var s=t(830758);let i={},r=s.createContext(i);function a(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},901088(e){e.exports=JSON.parse('{"id":"docs/python/goals/typecheck","title":"typecheck","description":"How to use MyPy.","source":"@site/versioned_docs/version-2.5/docs/python/goals/typecheck.mdx","sourceDirName":"docs/python/goals","slug":"/docs/python/goals/typecheck","permalink":"/2.5/docs/python/goals/typecheck","draft":false,"unlisted":false,"editUrl":"https://github.com/pantsbuild/pants/edit/main/docs/docs/python/goals/typecheck.mdx","tags":[],"version":"2.5","sidebarPosition":7,"frontMatter":{"title":"typecheck","sidebar_position":7},"sidebar":"docsSidebar","previous":{"title":"test","permalink":"/2.5/docs/python/goals/test"},"next":{"title":"Integrations","permalink":"/2.5/docs/python/integrations/"}}')}}]);