"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["851634"],{727679(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var i=t(842313),s=t(886070),o=t(848193);let r={title:"Target types",sidebar_position:1},d,c={},l=[{value:"<code>python_library</code>",id:"python_library",level:2},{value:"<code>pex_binary</code>",id:"pex_binary",level:2},{value:"<code>python_tests</code>",id:"python_tests",level:2},{value:"<code>python_distribution</code>",id:"python_distribution",level:2}];function h(e){let n={a:"a",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Run ",(0,s.jsx)(n.code,{children:"./pants target-types"}),". For more information on a particular target, run ",(0,s.jsx)(n.code,{children:"./pants target-types --details=python_library"}),", for example."]}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/2.1/docs/using-pants/resources-and-archives",children:"Resources"})," for information on the ",(0,s.jsx)(n.code,{children:"files"}),", ",(0,s.jsx)(n.code,{children:"resources"}),", and ",(0,s.jsx)(n.code,{children:"archive"})," target types."]}),"\n",(0,s.jsx)(n.h2,{id:"python_library",children:(0,s.jsx)(n.code,{children:"python_library"})}),"\n",(0,s.jsx)(n.p,{children:"A library of non-test Python code."}),"\n",(0,s.jsx)(n.p,{children:"Fields:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sources"})," (default: ",(0,s.jsx)(n.code,{children:"['*.py', '!*_test.py', '!test_*.py', '!conftest.py']"}),")"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"dependencies"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"compatibility"}),": A string for Python interpreter constraints on this target. This should be written in Requirement-style format, e.g. ",(0,s.jsx)(n.code,{children:"CPython==2.7.*"})," or ",(0,s.jsx)(n.code,{children:"CPython>=3.6,<4"}),". As a shortcut, you can leave off ",(0,s.jsx)(n.code,{children:"CPython"}),", e.g. ",(0,s.jsx)(n.code,{children:">=2.7"})," will be expanded to ",(0,s.jsx)(n.code,{children:"CPython>=2.7"}),". If this is left off, it will default to ",(0,s.jsx)(n.code,{children:"--python-setup-interpreter-constraints"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"pex_binary",children:(0,s.jsx)(n.code,{children:"pex_binary"})}),"\n",(0,s.jsxs)(n.p,{children:["An entry point to a Python executable runnable through ",(0,s.jsx)(n.a,{href:"/2.1/docs/python/overview/pex-files",children:"Pex files"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Fields:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sources"}),": the one file containing the executable. This may be left off if you include the source files as ",(0,s.jsx)(n.code,{children:"dependencies"})," and explicitly configure the ",(0,s.jsx)(n.code,{children:"entry_point"}),"."]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"dependencies"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"compatibility"}),": A string for Python interpreter constraints on this target. This should be written in Requirement-style format, e.g. ",(0,s.jsx)(n.code,{children:"CPython==2.7.*"})," or ",(0,s.jsx)(n.code,{children:"CPython>=3.6,<4"}),". As a shortcut, you can leave off ",(0,s.jsx)(n.code,{children:"CPython"}),", e.g. ",(0,s.jsx)(n.code,{children:">=2.7"})," will be expanded to ",(0,s.jsx)(n.code,{children:"CPython>=2.7"}),". If this is left off, it will default to ",(0,s.jsx)(n.code,{children:"--python-setup-interpreter-constraints"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"entry_point"}),": The entry point for the executable. Of the form ",(0,s.jsx)(n.code,{children:'"foo.bar:main"'}),", where ",(0,s.jsx)(n.code,{children:"foo.bar"})," is the module name and ",(0,s.jsx)(n.code,{children:"main"})," is a no-arg function. If the function name is omitted, the module itself is executed directly."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"platforms"}),": An optional list of platform strings, such as ",(0,s.jsx)(n.code,{children:"linux_x86_64-cp-27-cp27mu"})," or ",(0,s.jsx)(n.code,{children:"macosx_10.12_x86_64-cp-36-cp36m"}),". This will cause the PEX to be compatible with the requested platforms."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"shebang"}),": For the generated Pex, use this shebang."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"zip_safe"}),": Whether or not this binary is safe to run in compacted (zip-file) form."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"python_tests",children:(0,s.jsx)(n.code,{children:"python_tests"})}),"\n",(0,s.jsx)(n.p,{children:"Python test code."}),"\n",(0,s.jsx)(n.p,{children:"Fields:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sources"})," (default: ",(0,s.jsx)(n.code,{children:"['*_test.py', 'test_*.py', 'conftest.py']"}),")"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"dependencies"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"compatibility"}),": A string for Python interpreter constraints on this target. This should be written in Requirement-style format, e.g. ",(0,s.jsx)(n.code,{children:"CPython==2.7.*"})," or ",(0,s.jsx)(n.code,{children:"CPython>=3.6,<4"}),". As a shortcut, you can leave off ",(0,s.jsx)(n.code,{children:"CPython"}),", e.g. ",(0,s.jsx)(n.code,{children:">=2.7"})," will be expanded to ",(0,s.jsx)(n.code,{children:"CPython>=2.7"}),". If this is left off, it will default to ",(0,s.jsx)(n.code,{children:"--python-setup-interpreter-constraints"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"timeout"}),": A timeout (in seconds) which covers the total runtime of all tests in this target. This only applies if the option ",(0,s.jsx)(n.code,{children:"--pytest-timeouts"})," is set to True."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"python_distribution",children:(0,s.jsx)(n.code,{children:"python_distribution"})}),"\n",(0,s.jsx)(n.p,{children:"A Python setuptools distribution that can be uploaded to a package repo like PyPI."}),"\n",(0,s.jsx)(n.p,{children:"Fields:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"dependencies"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"provides"}),": The package metadata to pass to the setuptools ",(0,s.jsx)(n.code,{children:"setup()"})," method."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/2.1/docs/python/overview/building-distributions",children:"setup-py"})," for details."]})]})}function a(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},848193(e,n,t){t.d(n,{R:()=>r,x:()=>d});var i=t(830758);let s={},o=i.createContext(s);function r(e){let n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},842313(e){e.exports=JSON.parse('{"id":"docs/python/overview/target-types","title":"Target types","description":"---","source":"@site/versioned_docs/version-2.1/docs/python/overview/target-types.mdx","sourceDirName":"docs/python/overview","slug":"/docs/python/overview/target-types","permalink":"/2.1/docs/python/overview/target-types","draft":false,"unlisted":false,"editUrl":"https://github.com/pantsbuild/pants/edit/main/docs/docs/python/overview/target-types.mdx","tags":[],"version":"2.1","sidebarPosition":1,"frontMatter":{"title":"Target types","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Enabling Python support","permalink":"/2.1/docs/python/overview/enabling-python-support"},"next":{"title":"Third-party dependencies","permalink":"/2.1/docs/python/overview/third-party-dependencies"}}')}}]);