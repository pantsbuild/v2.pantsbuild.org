"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["425294"],{4830(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var s=t(419163),i=t(886070),o=t(848193);let r={title:"Installing Pants",sidebar_position:1},a,l={},d=[{value:"Upgrading Pants",id:"upgrading-pants",level:2},{value:"Running Pants from sources",id:"running-pants-from-sources",level:2},{value:"The <code>pants</code> binary&#39;s implementation",id:"the-pants-binarys-implementation",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"You can download and run an installer script that will install the Pants binary with this command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"curl --proto '=https' --tlsv1.2 -fsSL https://static.pantsbuild.org/setup/get-pants.sh | bash\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This script will install ",(0,i.jsx)(n.code,{children:"pants"})," into ",(0,i.jsx)(n.code,{children:"~/.local/bin"}),", which must be on your PATH. The installer script will warn you if it is not."]}),"\n",(0,i.jsxs)(n.p,{children:["For security reasons, we don't recommend frequently curling this script directly to ",(0,i.jsx)(n.code,{children:"bash"}),", e.g., on every CI run. If the script were compromised during some time window, you'd be more likely to download it during that window and be impacted. Instead, for regular use, we recommend checking this script into the root of your repo and pointing users and CI machines to that checked-in version. The script is very simple and need not be updated very often."]}),"\n",(0,i.jsxs)(n.p,{children:["Alternatively, on macOS you can also use homebrew to install ",(0,i.jsx)(n.code,{children:"pants"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"brew install pantsbuild/tap/pants\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also use the ",(0,i.jsx)(n.a,{href:"https://github.com/marcosnils/bin",children:(0,i.jsx)(n.code,{children:"bin"})})," tool to install ",(0,i.jsx)(n.code,{children:"pants"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"bin i github.com/pantsbuild/scie-pants ~/.local/bin/pants\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"pants"})," is a launcher binary that delegates to the underlying version of Pants in each repo. This allows you to have multiple repos, each using an independent version of Pants."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If you run ",(0,i.jsx)(n.code,{children:"pants"})," in a repo that is already configured to use Pants, it will read the repo's Pants version from the ",(0,i.jsx)(n.code,{children:"pants.toml"})," config file, install that version if necessary, and then run it."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If you run ",(0,i.jsx)(n.code,{children:"pants"})," in a repo that is not yet configured to use Pants, it will prompt you to set up a skeleton ",(0,i.jsx)(n.code,{children:"pants.toml"})," that uses that latest stable version of Pants. You'll then need to edit that config file to add ",(0,i.jsx)(n.a,{href:"/stable/docs/getting-started/initial-configuration",children:"initial configuration"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If you have difficulty installing Pants, see our ",(0,i.jsx)(n.a,{href:"/community/getting-help",children:"getting help"})," for community resources to help you resolve your issue."]}),"\n",(0,i.jsx)(n.h2,{id:"upgrading-pants",children:"Upgrading Pants"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"pants"})," launcher binary will automatically install and use the Pants version specified in ",(0,i.jsx)(n.code,{children:"pants.toml"}),", so upgrading Pants in a repo is as simple as editing ",(0,i.jsx)(n.code,{children:"pants_version"})," in that file."]}),"\n",(0,i.jsxs)(n.p,{children:["To upgrade the ",(0,i.jsx)(n.code,{children:"pants"})," launcher binary itself, either:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use the package manager you used to install Pants. For example, with Homebrew: ",(0,i.jsx)(n.code,{children:"brew update && brew upgrade pantsbuild/tap/pants"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Use its built-in self-update functionality: ",(0,i.jsx)(n.code,{children:"SCIE_BOOT=update pants"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"running-pants-from-sources",children:"Running Pants from sources"}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/stable/docs/contributions/development/running-pants-from-sources",children:"here"})," for instructions on how to run Pants directly from its ",(0,i.jsx)(n.a,{href:"https://github.com/pantsbuild/pants",children:"sources"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"This is useful when making changes directly to Pants, to see how those changes impact your repo."}),"\n",(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsxs)(n.mdxAdmonitionTitle,{children:["The old ",(0,i.jsx)(n.code,{children:"./pants"})," script"]}),(0,i.jsxs)(n.p,{children:["Before the creation of the ",(0,i.jsx)(n.code,{children:"pants"})," launcher binary, the recommended way of installing Pants was to check a ",(0,i.jsx)(n.code,{children:"./pants"})," launcher script into each repo. This script required an external Python interpreter, and was prone to errors and issues related to discovery and use of this interpreter."]}),(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"pants"})," launcher binary uses an embedded interpreter and does not rely on one being present on the system (although if your repo contains Python code then it naturally requires a Python interpreter)."]}),(0,i.jsxs)(n.p,{children:["We strongly recommend removing the ",(0,i.jsx)(n.code,{children:"./pants"})," script from your repo and using the ",(0,i.jsx)(n.code,{children:"pants"})," binary instead. You can keep a simple ",(0,i.jsx)(n.code,{children:"./pants"})," script that delegates to ",(0,i.jsx)(n.code,{children:"pants"})," to ease the transition. However, if you do need to continue to use the old installation method for some reason, please ",(0,i.jsx)(n.a,{href:"/community/getting-help",children:"let us know"})," so we can accommodate your use case in the launcher binary."]})]}),"\n",(0,i.jsxs)(n.h2,{id:"the-pants-binarys-implementation",children:["The ",(0,i.jsx)(n.code,{children:"pants"})," binary's implementation"]}),"\n",(0,i.jsxs)(n.p,{children:["You don't need to know this to use ",(0,i.jsx)(n.code,{children:"pants"}),", but it may be of interest:"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"pants"})," launcher binary is also known as ",(0,i.jsx)(n.a,{href:"https://github.com/pantsbuild/scie-pants",children:"scie-pants"}),' (pronounced "ski pants"), It\'s implemented using ',(0,i.jsx)(n.a,{href:"https://github.com/a-scie/jump",children:"scie"}),", a Self Contained Interpreted Executable launcher. scie is what allows ",(0,i.jsx)(n.code,{children:"pants"})," to embed its own Python interpreter, instead of relying on a specific interpreter being available on your PATH."]}),"\n",(0,i.jsxs)(n.p,{children:["In fact, instead of literally embedding an interpreter in the ",(0,i.jsx)(n.code,{children:"pants"}),' binary, which would inflate its size, the binary is "hollowed out": Instead of the interpreter itself it contains metadata on how to download a platform-specific ',(0,i.jsx)(n.a,{href:"https://gregoryszorc.com/docs/python-build-standalone/main/",children:"standalone interpreter executable"}),". The scie mechanism then downloads that interpreter file on first use, and caches it for future use. So if you update the ",(0,i.jsx)(n.code,{children:"pants"})," launcher binary, you don't have to re-download the interpreter."]}),"\n",(0,i.jsx)(n.p,{children:"See the links above for more details. We hope to soon add support in Pants for building scies out of your code, which will allow you to package and ship fully standalone Python binaries!"})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},848193(e,n,t){t.d(n,{R:()=>r,x:()=>a});var s=t(830758);let i={},o=s.createContext(i);function r(e){let n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}},419163(e){e.exports=JSON.parse('{"id":"docs/getting-started/installing-pants","title":"Installing Pants","description":"---","source":"@site/versioned_docs/version-2.30/docs/getting-started/installing-pants.mdx","sourceDirName":"docs/getting-started","slug":"/docs/getting-started/installing-pants","permalink":"/stable/docs/getting-started/installing-pants","draft":false,"unlisted":false,"editUrl":"https://github.com/pantsbuild/pants/edit/main/docs/docs/getting-started/installing-pants.mdx","tags":[],"version":"2.30","sidebarPosition":1,"frontMatter":{"title":"Installing Pants","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Prerequisites","permalink":"/stable/docs/getting-started/prerequisites"},"next":{"title":"Initial configuration","permalink":"/stable/docs/getting-started/initial-configuration"}}')}}]);