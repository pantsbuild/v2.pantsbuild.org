"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["110071"],{850130(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>a,metadata:()=>t,toc:()=>d});var t=s(860606),i=s(886070),o=s(848193);let a={title:"Upgrade tips",sidebar_position:1},r,l={},d=[{value:"Upgrade one major release at a time",id:"upgrade-one-major-release-at-a-time",level:2},{value:"Ignore deprecation messages with <code>ignore_pants_warnings</code>",id:"ignore-deprecation-messages-with-ignore_pants_warnings",level:2},{value:"Find any bugs or issues?",id:"find-any-bugs-or-issues",level:2}];function p(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"How we recommend staying up-to-date with Pants."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.mdxAdmonitionTitle,{children:["Reminder: change the ",(0,i.jsx)(n.code,{children:"pants_version"})," to upgrade"]}),(0,i.jsxs)(n.p,{children:["Change the ",(0,i.jsx)(n.code,{children:"pants_version"})," option in the ",(0,i.jsx)(n.code,{children:"[GLOBAL]"})," scope in your pants.toml to upgrade."]}),(0,i.jsxs)(n.p,{children:["You can see all releases at ",(0,i.jsx)(n.a,{href:"https://pypi.org/project/pantsbuild.pants/#history",children:"https://pypi.org/project/pantsbuild.pants/#history"}),"."]})]}),"\n",(0,i.jsx)(n.h2,{id:"upgrade-one-major-release-at-a-time",children:"Upgrade one major release at a time"}),"\n",(0,i.jsxs)(n.p,{children:["Per our ",(0,i.jsx)(n.a,{href:"/2.1/docs/release-notes/deprecation-policy",children:"Deprecation policy"}),", deprecations must last a minimum of one major release. For example, something may be deprecated in 2.1.0 and then removed in 2.2.0."]}),"\n",(0,i.jsx)(n.p,{children:"This means that it is helpful to upgrade one major release at a time so that you can see all deprecation warnings."}),"\n",(0,i.jsx)(n.p,{children:"You do not need to land every upgrade into your organization\u2014often, you will want to upgrade your organization multiple versions at a time, e.g. 2.1.0 to 2.4.0. But, when you are working on the upgrade locally, it is helpful to iterate one version at a time."}),"\n",(0,i.jsx)(n.p,{children:"To trigger deprecation warnings, we recommend running these commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ./pants\n$ ./pants list :: > /dev/null\n$ ./pants filedeps :: > /dev/null\n"})}),"\n",(0,i.jsxs)(n.p,{children:["It is also helpful to spot check that your main commands like ",(0,i.jsx)(n.code,{children:"lint"}),", ",(0,i.jsx)(n.code,{children:"package"}),", and ",(0,i.jsx)(n.code,{children:"test"})," still work by running on a single target."]}),"\n",(0,i.jsxs)(n.admonition,{title:"Use dev releases for the newest",type:"note",children:[(0,i.jsxs)(n.p,{children:["As described in our ",(0,i.jsx)(n.a,{href:"/2.1/docs/contributions/releases/release-strategy",children:"Release strategy"}),", we make weekly dev releases with all the latest features and bug fixes we've been working on. While dev releases are less stable, they mean you get access to improvements sooner."]}),(0,i.jsxs)(n.p,{children:["If you encounter any blocking issues, you can easily roll back to a prior version by changing the ",(0,i.jsx)(n.code,{children:"pants_version"})," option. (Please let us know the issue by opening a ",(0,i.jsx)(n.a,{href:"https://github.com/pantsbuild/pants/issues",children:"GitHub issue"})," or messaging us on ",(0,i.jsx)(n.a,{href:"/community/members",children:"Slack"}),")."]})]}),"\n",(0,i.jsxs)(n.h2,{id:"ignore-deprecation-messages-with-ignore_pants_warnings",children:["Ignore deprecation messages with ",(0,i.jsx)(n.code,{children:"ignore_pants_warnings"})]}),"\n",(0,i.jsxs)(n.p,{children:["Sometimes when upgrading, you will not have time to fully fix the deprecation. The ",(0,i.jsx)(n.code,{children:"ignore_pants_warnings"})," option allows you to silence those deprecations."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"ignore_pants_warnings"})," option expects a string with the start of the deprecation warning, like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'title="pants.toml"',children:'[GLOBAL]\nignore_pants_warnings = [\n  "DEPRECATED: the pantsbuild.pants.contrib",\n  "DEPRECATED: the antlr, jaxb, ragel, and wire codegen backends",\n]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"find-any-bugs-or-issues",children:"Find any bugs or issues?"}),"\n",(0,i.jsxs)(n.p,{children:["Please either open a ",(0,i.jsx)(n.a,{href:"https://github.com/pantsbuild/pants/issues",children:"GitHub issue"})," or head over to ",(0,i.jsx)(n.a,{href:"/community/members",children:"Slack"}),". We'd be happy to help and would appreciate knowing about the issue!"]})]})}function c(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},848193(e,n,s){s.d(n,{R:()=>a,x:()=>r});var t=s(830758);let i={},o=t.createContext(i);function a(e){let n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},860606(e){e.exports=JSON.parse('{"id":"docs/release-notes/upgrade-tips","title":"Upgrade tips","description":"How we recommend staying up-to-date with Pants.","source":"@site/versioned_docs/version-2.1/docs/release-notes/upgrade-tips.mdx","sourceDirName":"docs/release-notes","slug":"/docs/release-notes/upgrade-tips","permalink":"/2.1/docs/release-notes/upgrade-tips","draft":false,"unlisted":false,"editUrl":"https://github.com/pantsbuild/pants/edit/main/docs/docs/release-notes/upgrade-tips.mdx","tags":[],"version":"2.1","sidebarPosition":1,"frontMatter":{"title":"Upgrade tips","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Deprecation policy","permalink":"/2.1/docs/release-notes/deprecation-policy"},"next":{"title":"Versions","permalink":"/2.1/docs/release-notes/versions/"}}')}}]);