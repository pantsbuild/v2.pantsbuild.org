"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["886753"],{6223(e,s,t){t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>x,frontMatter:()=>c,metadata:()=>r,toc:()=>h});var r=t(128333),i=t(886070),l=t(848193),n=t(989898),a=t(375002);let c={title:"makeself_archive",description:"Self-extractable archive on Unix using [makeself](https://github.com/megastep/makeself) tool.\n"},d,o={},h=[{value:"<code>args</code>",id:"args",level:2},{value:"<code>description</code>",id:"description",level:2},{value:"<code>files</code>",id:"files",level:2},{value:"<code>label</code>",id:"label",level:2},{value:"<code>output_path</code>",id:"output_path",level:2},{value:"<code>packages</code>",id:"packages",level:2},{value:"<code>startup_script</code>",id:"startup_script",level:2},{value:"<code>tags</code>",id:"tags",level:2},{value:"<code>tools</code>",id:"tools",level:2}];function p(e){let s={a:"a",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.p,{children:["Self-extractable archive on Unix using ",(0,i.jsx)(s.a,{href:"https://github.com/megastep/makeself",children:"makeself"})," tool."]}),"\n",(0,i.jsxs)(s.p,{children:["Backend: ",(0,i.jsx)("span",{className:"color--primary",children:(0,i.jsx)(s.code,{children:"pants.backend.experimental.makeself"})})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)("span",{className:a.A.options,children:[(0,i.jsx)(s.h2,{id:"args",children:(0,i.jsx)(s.code,{children:"args"})}),(0,i.jsx)(n.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.a,{href:"https://github.com/megastep/makeself#usage",children:"Arguments"})," to pass to the ",(0,i.jsx)(s.code,{children:"makeself"})," script when building this archive. These are passed before any file paths."]})}),(0,i.jsx)(s.h2,{id:"description",children:(0,i.jsx)(s.code,{children:"description"})}),(0,i.jsxs)(n.A,{type_repr:"str | None",default_repr:"None",children:[(0,i.jsx)(s.p,{children:"A human-readable description of the target."}),(0,i.jsxs)(s.p,{children:["Use ",(0,i.jsx)(s.code,{children:"pants list --documented ::"})," to see all targets with descriptions."]})]}),(0,i.jsx)(s.h2,{id:"files",children:(0,i.jsx)(s.code,{children:"files"})}),(0,i.jsxs)(n.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:[(0,i.jsxs)(s.p,{children:["Addresses to any ",(0,i.jsx)(s.code,{children:"file"}),", ",(0,i.jsx)(s.code,{children:"files"}),", or ",(0,i.jsx)(s.code,{children:"relocated_files"})," targets to include in the archive, e.g. ",(0,i.jsx)(s.code,{children:'["resources:logo"]'}),"."]}),(0,i.jsx)(s.p,{children:"This is useful to include any loose files, like data files, image assets, or config files."}),(0,i.jsxs)(s.p,{children:["This will ignore any targets that are not ",(0,i.jsx)(s.code,{children:"file"}),", ",(0,i.jsx)(s.code,{children:"files"}),", or ",(0,i.jsx)(s.code,{children:"relocated_files"})," targets."]}),(0,i.jsxs)(s.p,{children:["If you instead want those files included in any packages specified in the ",(0,i.jsx)(s.code,{children:"packages"})," field for this target, then use a ",(0,i.jsx)(s.code,{children:"resource"})," or ",(0,i.jsx)(s.code,{children:"resources"})," target and have the original package depend on the resources."]})]}),(0,i.jsx)(s.h2,{id:"label",children:(0,i.jsx)(s.code,{children:"label"})}),(0,i.jsx)(n.A,{type_repr:"str | None",default_repr:"None",children:(0,i.jsx)(s.p,{children:"An arbitrary text string describing the package. It will be displayed while extracting the files."})}),(0,i.jsx)(s.h2,{id:"output_path",children:(0,i.jsx)(s.code,{children:"output_path"})}),(0,i.jsxs)(n.A,{type_repr:"str | None",default_repr:"'${spec_path_normalized}/${target_name_normalized}${file_suffix}'",children:[(0,i.jsx)(s.p,{children:"Where the built asset should be located."}),(0,i.jsx)(s.p,{children:"This field supports the following template replacements:"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"${spec_path_normalized}"}),': The path to the target\'s directory ("spec path") with forward slashes replaced by dots.']}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"${target_name_normalized}"}),": The target's name with paramaterizations escaped by replacing dots with underscores."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"${file_suffix}"}),": For target's which produce single file artifacts, this is the file type suffix to use with a leading dot,\nand is empty otherwise when not applicable."]}),"\n"]}),"\n"]}),(0,i.jsxs)(s.p,{children:["If undefined, this will use the path to the BUILD file, followed by the target name. For example, ",(0,i.jsx)(s.code,{children:"src/python/project:app"})," would be ",(0,i.jsx)(s.code,{children:"src.python.project/app.ext"}),". This behavior corresponds to the default template: ",(0,i.jsx)(s.code,{children:"${spec_path_normalized}/${target_name_normalized}${file_suffix}"})]}),(0,i.jsxs)(s.p,{children:["When running ",(0,i.jsx)(s.code,{children:"pants package"}),", this path will be prefixed by ",(0,i.jsx)(s.code,{children:"--distdir"})," (e.g. ",(0,i.jsx)(s.code,{children:"dist/"}),")."]}),(0,i.jsx)(s.p,{children:"Warning: setting this value risks naming collisions with other package targets you may have."})]}),(0,i.jsx)(s.h2,{id:"packages",children:(0,i.jsx)(s.code,{children:"packages"})}),(0,i.jsxs)(n.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:[(0,i.jsxs)(s.p,{children:["Addresses to any targets that can be built with ",(0,i.jsx)(s.code,{children:"pants package"}),", e.g. ",(0,i.jsx)(s.code,{children:'["project:app"]'}),"."]}),(0,i.jsxs)(s.p,{children:["Pants will build the assets as if you had run ",(0,i.jsx)(s.code,{children:"pants package"}),". It will include the results in your archive using the same name they would normally have, but without the ",(0,i.jsx)(s.code,{children:"--distdir"})," prefix (e.g. ",(0,i.jsx)(s.code,{children:"dist/"}),")."]}),(0,i.jsxs)(s.p,{children:["You can include anything that can be built by ",(0,i.jsx)(s.code,{children:"pants package"}),", e.g. a ",(0,i.jsx)(s.code,{children:"pex_binary"}),", ",(0,i.jsx)(s.code,{children:"python_awslambda"}),", or even another ",(0,i.jsx)(s.code,{children:"makeself_archive"}),"."]})]}),(0,i.jsx)(s.h2,{id:"startup_script",children:(0,i.jsx)(s.code,{children:"startup_script"})}),(0,i.jsxs)(n.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:[(0,i.jsxs)(s.p,{children:["The startup script, i.e. what gets run when executing ",(0,i.jsx)(s.code,{children:"./my_archive.run"}),"."]}),(0,i.jsxs)(s.p,{children:["Examples: - ",(0,i.jsx)(s.code,{children:'["startup.sh"]'})," - ",(0,i.jsx)(s.code,{children:'["echo", "Running makeself archieve"]'})]})]}),(0,i.jsx)(s.h2,{id:"tags",children:(0,i.jsx)(s.code,{children:"tags"})}),(0,i.jsxs)(n.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:[(0,i.jsx)(s.p,{children:"Arbitrary strings to describe a target."}),(0,i.jsxs)(s.p,{children:["For example, you may tag some test targets with 'integration_test' so that you could run ",(0,i.jsx)(s.code,{children:"pants --tag='integration_test' test ::"})," to only run on targets with that tag."]})]}),(0,i.jsx)(s.h2,{id:"tools",children:(0,i.jsx)(s.code,{children:"tools"})}),(0,i.jsxs)(n.A,{type_repr:"Iterable[str] | None",default_repr:"()",children:[(0,i.jsx)(s.p,{children:"Specify required executable tools that might be used."}),(0,i.jsxs)(s.p,{children:["Only the tools explicitly provided will be available on the search PATH, and these tools must be found on the paths provided by ",(0,i.jsx)(s.code,{children:"[shell-setup].executable_search_paths"})," (which defaults to the system PATH)."]})]})]})]})}function x(e={}){let{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},375002(e,s,t){t.d(s,{A:()=>r});let r={options:"options_nrbo"}},989898(e,s,t){t.d(s,{A:()=>i});var r=t(886070);function i({children:e,type_repr:s,default_repr:t,backend:i}){return(0,r.jsxs)("div",{className:"margin-bottom--lg",children:[(0,r.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:s}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{style:{paddingLeft:"2em"},children:[t&&(0,r.jsxs)("span",{children:["default:"," ",(0,r.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:t})]}),!t&&(0,r.jsx)("span",{style:{color:"var(--ifm-color-success)"},children:"required"}),i&&(0,r.jsxs)("div",{children:["backend:"," ",(0,r.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:i})]}),e]})]})}},848193(e,s,t){t.d(s,{R:()=>n,x:()=>a});var r=t(830758);let i={},l=r.createContext(i);function n(e){let s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),r.createElement(l.Provider,{value:s},e.children)}},128333(e){e.exports=JSON.parse('{"id":"reference/targets/makeself_archive","title":"makeself_archive","description":"Self-extractable archive on Unix using [makeself](https://github.com/megastep/makeself) tool.\\n","source":"@site/versioned_docs/version-2.30/reference/targets/makeself_archive.mdx","sourceDirName":"reference/targets","slug":"/reference/targets/makeself_archive","permalink":"/stable/reference/targets/makeself_archive","draft":false,"unlisted":false,"tags":[],"version":"2.30","frontMatter":{"title":"makeself_archive","description":"Self-extractable archive on Unix using [makeself](https://github.com/megastep/makeself) tool.\\n"},"sidebar":"referenceSidebar","previous":{"title":"local_environment","permalink":"/stable/reference/targets/local_environment"},"next":{"title":"nfpm_apk_package","permalink":"/stable/reference/targets/nfpm_apk_package"}}')}}]);