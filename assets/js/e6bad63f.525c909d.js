"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["684753"],{750178(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>h});var r=t(499599),s=t(886070),i=t(848193),a=t(685008),l=t(637180);let o={title:"Kotlin",sidebar_position:1},d,c={},h=[{value:"Overview",id:"overview",level:2},{value:"Initial Setup",id:"initial-setup",level:2},{value:"Setting up targets",id:"setting-up-targets",level:3},{value:"Choosing JDK and Kotlin versions",id:"choosing-jdk-and-kotlin-versions",level:3},{value:"JDK",id:"jdk",level:4},{value:"Kotlin version",id:"kotlin-version",level:4},{value:"Dependencies",id:"dependencies",level:3},{value:"First-party dependencies",id:"first-party-dependencies",level:4},{value:"Third-party dependencies and lockfiles",id:"third-party-dependencies-and-lockfiles",level:4},{value:"<code>resource</code> targets",id:"resource-targets",level:4},{value:"Tasks",id:"tasks",level:2},{value:"Compile code",id:"compile-code",level:3},{value:"Run tests",id:"run-tests",level:3},{value:"Setting environment variables",id:"setting-environment-variables",level:4},{value:"Lint and Format",id:"lint-and-format",level:3},{value:"Caveats",id:"caveats",level:2}];function u(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Kotlin support for Pants."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.admonition,{title:"Kotlin support is alpha stage",type:"caution",children:[(0,s.jsx)(n.p,{children:"Kotlin support in Pants is still under active development, but currently supports compilation and testing. It has\nbeen tested with Kotlin v1.6.20."}),(0,s.jsxs)(n.p,{children:["Please share feedback for what you need to use Pants with your Kotlin project by either\n",(0,s.jsx)(n.a,{href:"https://github.com/pantsbuild/pants/issues/new/choose",children:"opening a GitHub issue"}),"\nor ",(0,s.jsx)(n.a,{href:"/community/members",children:"joining our Slack"}),"!"]})]}),"\n",(0,s.jsx)(n.admonition,{title:"Example Kotlin repository",type:"note",children:(0,s.jsxs)(n.p,{children:["Check out ",(0,s.jsx)(n.a,{href:"https://github.com/pantsbuild/example-kotlin",children:"github.com/pantsbuild/example-kotlin"})," to try a\nsample Pants project with Kotlin support."]})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://kotlinlang.org/",children:"Kotlin"})," is a programming language from Jetbrains that runs on the JVM and certain other\nplatforms. The Kotlin backend in Pants supports compilation, testing, and linting of\n",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/docs/server-overview.html",children:"Kotlin code for the JVM"}),". (The other Kotlin platforms including\n",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/docs/multiplatform.html",children:"Kotlin Multiplatform Mobile"})," and\n",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/docs/js-overview.html",children:"Kotlin/JS"})," are not currently supported, nor are there currently\nany plans to do so.)"]}),"\n",(0,s.jsx)(n.h2,{id:"initial-setup",children:"Initial Setup"}),"\n",(0,s.jsxs)(n.p,{children:["First, activate the Kotlin backend in ",(0,s.jsx)(n.code,{children:"pants.toml"})," plus the ",(0,s.jsx)(n.code,{children:"ktlint"})," backend if you would like to use\n",(0,s.jsx)(n.a,{href:"https://ktlint.github.io/",children:(0,s.jsx)(n.code,{children:"ktlint"})})," for code formatting and linting:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'title="pants.toml"',children:'[GLOBAL]\nbackend_packages = [\n  "pants.backend.experimental.kotlin",\n\n  # Activate the following backend if you want to use `ktlint` for code formatting and linting.\n  "pants.backend.experimental.kotlin.lint.ktlint",\n]\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setting-up-targets",children:"Setting up targets"}),"\n",(0,s.jsxs)(n.p,{children:["Run ",(0,s.jsx)(n.a,{href:"/2.14/docs/getting-started/initial-configuration#5-generate-build-files",children:(0,s.jsx)(n.code,{children:"./pants tailor ::"})})," to generate BUILD files. This will\ncreate ",(0,s.jsx)(n.code,{children:"kotlin_sources"})," targets in every directory containing library code, as well as ",(0,s.jsx)(n.code,{children:"kotlin_junit_tests"})," targets\nfor filenames that look like tests."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u276F ./pants tailor ::\nCreated src/jvm/org/pantsbuild/example/app/BUILD:\n  - Add kotlin_sources target app\nCreated src/jvm/org/pantsbuild/example/json/BUILD:\n  - Add kotlin_sources target json\nCreated src/jvm/org/pantsbuild/example/lib/BUILD:\n  - Add java_sources target lib\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can run ",(0,s.jsx)(n.code,{children:"./pants list ::"})," to see all targets in your project:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u276F ./pants list ::\n...\nsrc/jvm/org/pantsbuild/example/app:app\nsrc/jvm/org/pantsbuild/example/app/ExampleApp.kt\nsrc/jvm/org/pantsbuild/example/json:json\nsrc/jvm/org/pantsbuild/example/json/JsonExample.kt\nsrc/jvm/org/pantsbuild/example/lib:lib\nsrc/jvm/org/pantsbuild/example/lib/ExampleLib.java\n"})}),"\n",(0,s.jsx)(n.h3,{id:"choosing-jdk-and-kotlin-versions",children:"Choosing JDK and Kotlin versions"}),"\n",(0,s.jsxs)(n.p,{children:["Pants supports choosing the JDK and Kotlin versions per target in your repository. To reduce the amount of\nboilerplate required, however, most users set repository-wide defaults in ",(0,s.jsx)(n.code,{children:"pants.toml"}),", and then only override\nthem when necessary for particular targets."]}),"\n",(0,s.jsx)(n.h4,{id:"jdk",children:"JDK"}),"\n",(0,s.jsxs)(n.p,{children:["JDKs used by Pants are automatically fetched using ",(0,s.jsx)(n.a,{href:"https://get-coursier.io/",children:"Coursier"}),", and are chosen using\nthe ",(0,s.jsxs)(n.a,{href:"/2.14/reference/subsystems/jvm#section-jdk",children:[(0,s.jsx)(n.code,{children:"[jvm].jdk"})," option"]})," to set a repository-wide default."]}),"\n",(0,s.jsxs)(n.p,{children:["To override the default on a particular target, you can use the ",(0,s.jsxs)(n.a,{href:"/2.14/reference/targets/kotlin_source#jdk",children:[(0,s.jsx)(n.code,{children:"jdk="})," field"]}),".\nIt can be useful to use the ",(0,s.jsxs)(n.a,{href:"/2.14/docs/using-pants/key-concepts/targets-and-build-files#parametrizing-targets",children:[(0,s.jsx)(n.code,{children:"parametrize"})," builtin"]})," with the ",(0,s.jsx)(n.code,{children:"jdk="})," field,\nparticularly to run test targets under multiple JDKs."]}),"\n",(0,s.jsx)(n.h4,{id:"kotlin-version",children:"Kotlin version"}),"\n",(0,s.jsxs)(n.p,{children:['The Kotlin version to use is configured on a resolve-by-resolve basis (see the "Third-party dependencies" section\nbelow) using the ',(0,s.jsxs)(n.a,{href:"/2.14/reference/subsystems/kotlin#section-version_for_resolve",children:[(0,s.jsx)(n.code,{children:"[kotlin].version_for_resolve"})," option"]}),'. The\ndefault Kotlin version for your repository will thus be whichever Kotlin version is configured for the "default"\nresolve, which is configured by the ',(0,s.jsxs)(n.a,{href:"reference-jvm#section-default-resolve",children:[(0,s.jsx)(n.code,{children:"[jvm].default_resolve"})," option"]}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Each resolve must contain the following jars for the Kotlin runtime with the version matching the version specified\nfor the resolve in the ",(0,s.jsx)(n.code,{children:"[kotlin].version_for_resolve"})," option:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"org.jetbrains.kotlin:kotlin-stdlib"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"org.jetbrains.kotlin:kotlin-reflect"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"org.jetbrains.kotlin:kotlin-script-runtime"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["To use multiple Kotlin versions in a repository, you would define multiple resolves, and then adjust\nthe ",(0,s.jsxs)(n.a,{href:"/2.14/reference/targets/kotlin_junit_test#resolve",children:[(0,s.jsx)(n.code,{children:"resolve"})," field"]})," of any targets which should be used with the\nnon-",(0,s.jsx)(n.code,{children:"default_resolve"})," resolve."]}),"\n",(0,s.jsxs)(n.p,{children:["To cross-build a set of Kotlin targets for multiple Kotlin versions, you can use the\n",(0,s.jsxs)(n.a,{href:"/2.14/docs/using-pants/key-concepts/targets-and-build-files#parametrizing-targets",children:[(0,s.jsx)(n.code,{children:"parametrize"})," builtin"]})," with the ",(0,s.jsx)(n.code,{children:"resolve="})," field of the target and its dependencies."]}),"\n",(0,s.jsxs)(n.admonition,{type:"caution",children:[(0,s.jsxs)(n.mdxAdmonitionTitle,{children:[(0,s.jsx)(n.code,{children:"jvm_artifact"})," targets for the Kotlin runtime must be explicitly defined."]}),(0,s.jsxs)(n.p,{children:["The Kotlin backend currently requires that a ",(0,s.jsx)(n.code,{children:"jvm_artifact"})," target for each Kotlin runtime jars be present in any\nresolve used for Kotlin. If any of the required ",(0,s.jsx)(n.code,{children:"jvm_artifact"})," targets are missing, Pants will error. Pants will\nautomatically inject a dependency on the runtime into Kotlin targets. (These targets may be automatically supplied by\nPants in a future version, but that is not currently implemented.)"]})]}),"\n",(0,s.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsx)(n.h4,{id:"first-party-dependencies",children:"First-party dependencies"}),"\n",(0,s.jsxs)(n.p,{children:["In many cases, the dependencies of your first-party code are automatically inferred via\n",(0,s.jsx)(n.a,{href:"https://blog.pantsbuild.org/automatically-unlocking-concurrent-builds-and-fine-grained-caching-on-the-jvm-with-dependency-inference/",children:"dependency inference"}),"\nbased on ",(0,s.jsx)(n.code,{children:"import"})," statements in the code. If you do need to declare additional dependencies for any reason, you can do\nso using Pants' ",(0,s.jsx)(n.a,{href:"/2.14/docs/using-pants/key-concepts/targets-and-build-files",children:"syntax for declaring dependencies for targets"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"third-party-dependencies-and-lockfiles",children:"Third-party dependencies and lockfiles"}),"\n",(0,s.jsxs)(n.p,{children:["Third-party dependencies (i.e. those from repositories like ",(0,s.jsx)(n.a,{href:"https://search.maven.org/",children:"Maven central"}),") are also\nautomatically inferred via dependency inference, but must first be declared once per repository as\n",(0,s.jsxs)(n.a,{href:"/2.14/reference/targets/jvm_artifact",children:[(0,s.jsx)(n.code,{children:"jvm_artifact"})," targets"]}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="BUILD"',children:'jvm_artifact(\n    group="com.google.guava",\n    artifact="guava",\n    version="31.0.1-jre",\n    # See the callout below for more information on the `packages` argument.\n    packages=["com.google.common.**"],\n)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Pants requires use of a lockfile for third-party dependencies. After adding or editing ",(0,s.jsx)(n.code,{children:"jvm_artifact"})," targets, you\nwill need to update affected lockfiles by running ",(0,s.jsx)(n.code,{children:"./pants generate-lockfiles"}),". The default lockfile is located at\n",(0,s.jsx)(n.code,{children:"3rdparty/jvm/default.lock"}),", but it can be relocated (as well as additional resolves declared) via the\n",(0,s.jsxs)(n.a,{href:"/2.14/reference/subsystems/jvm#section-resolves",children:[(0,s.jsx)(n.code,{children:"[jvm].resolves"})," option"]}),"."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.mdxAdmonitionTitle,{children:["Thirdparty symbols and the ",(0,s.jsx)(n.code,{children:"packages"})," argument"]}),(0,s.jsxs)(n.p,{children:["To efficiently determine which symbols are provided by third-party code (i.e., without hitting the network in order\nto compute dependencies in the common case), Pants relies on a static mapping of which artifacts provide which\nsymbols, and defaults to treating each ",(0,s.jsx)(n.code,{children:"jvm_artifact"})," as providing symbols within its ",(0,s.jsx)(n.code,{children:"group"}),"."]}),(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"packages"})," argument allows you to override which symbols a ",(0,s.jsx)(n.code,{children:"jvm_artifact"})," provides. See the\n",(0,s.jsxs)(n.a,{href:"/2.14/reference/targets/jvm_artifact#packages",children:[(0,s.jsx)(n.code,{children:"jvm_artifact"})," docs"]})," for more information."]})]}),"\n",(0,s.jsxs)(n.h4,{id:"resource-targets",children:[(0,s.jsx)(n.code,{children:"resource"})," targets"]}),"\n",(0,s.jsxs)(n.p,{children:["To have your code ",(0,s.jsx)(n.a,{href:"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html",children:'load files as "resources"'}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Add a ",(0,s.jsx)(n.code,{children:"resource"})," or ",(0,s.jsx)(n.code,{children:"resources"})," target with the relevant files in the ",(0,s.jsx)(n.code,{children:"source"})," / ",(0,s.jsx)(n.code,{children:"sources"})," field, respectively."]}),"\n",(0,s.jsxs)(n.li,{children:["Ensure that ",(0,s.jsxs)(n.a,{href:"/2.14/docs/using-pants/key-concepts/source-roots",children:["an appropriate ",(0,s.jsx)(n.code,{children:"source_root"})]})," is detected for the ",(0,s.jsx)(n.code,{children:"resources"})," target, in order to\ntrim the relevant prefix from the filename to align with the layout of your JVM packages."]}),"\n",(0,s.jsxs)(n.li,{children:["Add that target to the ",(0,s.jsx)(n.code,{children:"dependencies"})," field of the relevant JVM target (usually the one that uses the JVM APIs to\nload the resource)."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsxs)(a.A,{groupId:"code-examples",children:[(0,s.jsx)(l.A,{value:"pants.toml",label:"pants.toml",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'tab={"label":"pants.toml"}',children:'[source]\n# In order for the resource to be loadable as `org/pantsbuild/example/lib/hello.txt`,\n# the `/src/jvm/ prefix needs to be stripped.\nroot_patterns = ["/src/*"]\n'})})}),(0,s.jsx)(l.A,{value:"src/jvm/org/pantsbuild/example/lib/build",label:"src/jvm/org/pantsbuild/example/lib/BUILD",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"src/jvm/org/pantsbuild/example/lib/BUILD"}',children:'kotlin_sources(dependencies=[":hello"])\n\nresources(name="hello", sources=["hello.txt"])\n'})})}),(0,s.jsx)(l.A,{value:"src/jvm/org/pantsbuild/example/lib/loader.java",label:"src/jvm/org/pantsbuild/example/lib/Loader.java",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",metastring:'tab={"label":"src/jvm/org/pantsbuild/example/lib/Loader.java"}',children:'package org.pantsbuild.example.lib\n\nimport com.google.common.io.Resources\n\nfun load() {\n  ... = Resources.getResource(Loader.class, "hello.txt")\n}\n'})})}),(0,s.jsx)(l.A,{value:"src/jvm/org/pantsbuild/example/lib/hello.txt",label:"src/jvm/org/pantsbuild/example/lib/hello.txt",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",metastring:'tab={"label":"src/jvm/org/pantsbuild/example/lib/hello.txt"}',children:"Hello world!\n"})})})]}),"\n",(0,s.jsx)(n.h2,{id:"tasks",children:"Tasks"}),"\n",(0,s.jsx)(n.h3,{id:"compile-code",children:"Compile code"}),"\n",(0,s.jsxs)(n.p,{children:["To manually check that sources compile, use ",(0,s.jsx)(n.code,{children:"./pants check"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Check a single file\n\u276F ./pants check src/jvm/org/pantsbuild/example/lib/ExampleLib.kt\n\n# Check files located recursively under a directory\n\u276F ./pants check src/jvm::\n\n# Check the whole repository\n\u276F ./pants check ::\n"})}),"\n",(0,s.jsx)(n.h3,{id:"run-tests",children:"Run tests"}),"\n",(0,s.jsxs)(n.p,{children:["To run tests, use ",(0,s.jsx)(n.code,{children:"./pants test"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Run a single test file\n\u276F ./pants test tests/jvm/org/pantsbuild/example/lib/ExampleLibTest.kt\n\n# Test all files in and under a directory\n\u276F ./pants test tests/jvm::\n\n# Test the whole repository\n\u276F ./pants test ::\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The Kotlin backend currently supports JUnit tests specified using the ",(0,s.jsx)(n.code,{children:"kotlin_junit_tests"})," target type."]}),"\n",(0,s.jsx)(n.h4,{id:"setting-environment-variables",children:"Setting environment variables"}),"\n",(0,s.jsxs)(n.p,{children:["Test runs are ",(0,s.jsx)(n.em,{children:"hermetic"}),", meaning that they are stripped of the parent ",(0,s.jsx)(n.code,{children:"./pants"})," process's environment variables. This is important for reproducibility, and it also increases cache hits."]}),"\n",(0,s.jsxs)(n.p,{children:["To add any arbitrary environment variable back to the process, you can either add the environment variable to the specific tests with the ",(0,s.jsx)(n.code,{children:"extra_env_vars"})," field on ",(0,s.jsx)(n.code,{children:"kotlin_junit_test"})," / ",(0,s.jsx)(n.code,{children:"kotlin_junit_tests"})," targets or to all your tests with the ",(0,s.jsx)(n.code,{children:"[test].extra_env_vars"})," option. Generally, prefer the field ",(0,s.jsx)(n.code,{children:"extra_env_vars"})," field so that more of your tests are hermetic."]}),"\n",(0,s.jsxs)(n.p,{children:["With both ",(0,s.jsx)(n.code,{children:"[test].extra_env_vars"})," and the ",(0,s.jsx)(n.code,{children:"extra_env_vars"}),' field, you can either hardcode a value or leave off a value to "allowlist" it and read from the parent ',(0,s.jsx)(n.code,{children:"./pants"})," process's environment."]}),"\n",(0,s.jsxs)(a.A,{groupId:"code-examples",children:[(0,s.jsx)(l.A,{value:"pants.toml",label:"pants.toml",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'tab={"label":"pants.toml"}',children:'[test]\nextra_env_vars = ["VAR1", "VAR2=hardcoded_value"]\n'})})}),(0,s.jsx)(l.A,{value:"project/build",label:"project/BUILD",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"project/BUILD"}',children:'kotlin_junit_tests(\n    name="tests",\n    # Adds to all generated `kotlin_junit_test` targets,\n    # i.e. each file in the `sources` field.\n    extra_env_vars=["VAR3", "VAR4=hardcoded"],\n    # Even better, use `overrides` to be more granular.\n    overrides={\n        "StrUtilTest.kt": {"extra_env_vars": ["VAR"]},\n        ("DirUtilTest.kt", "OSUtilTest.kt"): {"extra_env_vars": ["VAR5"]},\n    },\n)\n'})})})]}),"\n",(0,s.jsx)(n.h3,{id:"lint-and-format",children:"Lint and Format"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://ktlint.github.io/",children:(0,s.jsx)(n.code,{children:"ktlint"})})," can be enabled by adding the ",(0,s.jsx)(n.code,{children:"pants.backend.experimental.kotlin.lint.ktlint"}),"\nbackend to ",(0,s.jsx)(n.code,{children:"backend_packages"})," in the ",(0,s.jsx)(n.code,{children:"[GLOBAL]"})," section of ",(0,s.jsx)(n.code,{children:"pants.toml"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Once enabled, ",(0,s.jsx)(n.code,{children:"lint"})," and ",(0,s.jsx)(n.code,{children:"fmt"})," will check and automatically reformat your code:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Format this directory and all subdirectories\n\u276F ./pants fmt src/jvm::\n\n# Check that the whole project is formatted\n\u276F ./pants lint ::\n\n# Format all changed files\n\u276F ./pants --changed-since=HEAD fmt\n"})}),"\n",(0,s.jsx)(n.h2,{id:"caveats",children:"Caveats"}),"\n",(0,s.jsx)(n.p,{children:"The Kotlin backend is currently experimental since many features are not implemented including:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Kotlin modules. We would love to hear from Kotlin developers for advice on how modules are used and could\nbe potentially supported by Pants."}),"\n",(0,s.jsxs)(n.li,{children:["Non-JVM backends including ",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/docs/multiplatform.html",children:"Kotlin Multiplatform Mobile"})," and\n",(0,s.jsx)(n.a,{href:"https://kotlinlang.org/docs/js-overview.html",children:"Kotlin/JS"})]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},753348(e,n,t){t.d(n,{A:()=>r});let r={tabItem:"tabItem_mHvh"}},618264(e,n,t){t.d(n,{A:()=>r});let r={tabList:"tabList_sFbf",tabItem:"tabItem_UVfV"}},637180(e,n,t){t.d(n,{A:()=>a});var r=t(886070);t(830758);var s=t(313526),i=t(753348);function a({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.A.tabItem,t),hidden:n,children:e})}},685008(e,n,t){t.d(n,{A:()=>m});var r=t(886070),s=t(830758),i=t(313526),a=t(911212),l=t(274875),o=t(106632),d=t(189223),c=t(618264);function h({className:e,block:n,selectedValue:t,selectValue:s,tabValues:a}){let o=[],{blockElementScrollPositionUntilNextRender:d}=(0,l.a_)(),h=e=>{let n=e.currentTarget,r=a[o.indexOf(n)].value;r!==t&&(d(n),s(r))},u=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{let t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{let t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1]}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:s})=>(0,r.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:u,onClick:h,...s,className:(0,i.A)("tabs__item",c.A.tabItem,s?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function u({lazy:e,children:n,selectedValue:t}){let a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=a.find(e=>e.props.value===t);return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function p(e){let n=(0,o.u)(e);return(0,r.jsxs)("div",{className:(0,i.A)(a.G.tabs.container,"tabs-container",c.A.tabList),children:[(0,r.jsx)(h,{...n,...e}),(0,r.jsx)(u,{...n,...e})]})}function m(e){let n=(0,d.A)();return(0,r.jsx)(p,{...e,children:(0,o.v)(e.children)},String(n))}},106632(e,n,t){t.d(n,{u:()=>h,v:()=>d});var r=t(830758),s=t(325557),i=t(363717),a=t(125740),l=t(574229),o=t(270367);function d(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function c({value:e,tabValues:n}){return n.some(n=>n.value===e)}function h(e){let n,{defaultValue:t,queryString:h=!1,groupId:u}=e,p=function(e){let{values:n,children:t}=e;return(0,r.useMemo)(()=>{let e=n??d(t).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r})),r=(0,l.XI)(e,(e,n)=>e.value===n.value);if(r.length>0)throw Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,t])}(e),[m,j]=(0,r.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!c({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let t=n.find(e=>e.default)??n[0];if(!t)throw Error("Unexpected error: 0 tabValues");return t.value})({defaultValue:t,tabValues:p})),[v,x]=function({queryString:e=!1,groupId:n}){let t=(0,s.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,a.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;let n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}({queryString:h,groupId:u}),[f,g]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[t,s]=(0,o.Dv)(n);return[t,(0,r.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:u}),b=c({value:n=v??f,tabValues:p})?n:null;return(0,i.A)(()=>{b&&j(b)},[b]),{selectedValue:m,selectValue:(0,r.useCallback)(e=>{if(!c({value:e,tabValues:p}))throw Error(`Can't select invalid tab value=${e}`);j(e),x(e),g(e)},[x,g,p]),tabValues:p}}},848193(e,n,t){t.d(n,{R:()=>a,x:()=>l});var r=t(830758);let s={},i=r.createContext(s);function a(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},499599(e){e.exports=JSON.parse('{"id":"docs/java-and-scala/kotlin","title":"Kotlin","description":"Kotlin support for Pants.","source":"@site/versioned_docs/version-2.14/docs/java-and-scala/kotlin.mdx","sourceDirName":"docs/java-and-scala","slug":"/docs/java-and-scala/kotlin","permalink":"/2.14/docs/java-and-scala/kotlin","draft":false,"unlisted":false,"editUrl":"https://github.com/pantsbuild/pants/edit/main/docs/docs/java-and-scala/kotlin.mdx","tags":[],"version":"2.14","sidebarPosition":1,"frontMatter":{"title":"Kotlin","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Java and Scala overview","permalink":"/2.14/docs/java-and-scala/"},"next":{"title":"Shell overview","permalink":"/2.14/docs/shell/"}}')}}]);