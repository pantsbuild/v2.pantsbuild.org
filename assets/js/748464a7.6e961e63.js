"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["346325"],{338273(e,r,s){s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>v,frontMatter:()=>c,metadata:()=>n,toc:()=>p});var n=s(479972),o=s(886070),t=s(848193),i=s(554707),l=s(375002);let c={title:"experimental-bsp",description:"Setup repository for Build Server Protocol (https://build-server-protocol.github.io/).\n"},a,d={},p=[{value:"Basic options",id:"basic-options",level:2},{value:"Advanced options",id:"advanced-options",level:2},{value:"<code>runner_env_vars</code>",id:"runner_env_vars",level:3},{value:"<code>server</code>",id:"server",level:3},{value:"Deprecated options",id:"deprecated-options",level:2},{value:"Related subsystems",id:"related-subsystems",level:2}];function h(e){let r={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.hr,{}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{children:"pants experimental-bsp [args]\n"})}),"\n",(0,o.jsxs)(r.p,{children:["Setup repository for Build Server Protocol (",(0,o.jsx)(r.a,{href:"https://build-server-protocol.github.io/",children:"https://build-server-protocol.github.io/"}),")."]}),"\n",(0,o.jsxs)(r.p,{children:["Backend: ",(0,o.jsx)("span",{className:"color--primary",children:(0,o.jsx)(r.code,{children:"pants.goal"})})]}),"\n",(0,o.jsxs)(r.p,{children:["Config section: ",(0,o.jsx)("span",{className:"color--primary",children:(0,o.jsx)(r.code,{children:"[experimental-bsp]"})})]}),"\n",(0,o.jsxs)("span",{className:l.A.options,children:[(0,o.jsx)(r.h2,{id:"basic-options",children:"Basic options"}),(0,o.jsx)(r.p,{children:"None"}),(0,o.jsx)(r.h2,{id:"advanced-options",children:"Advanced options"}),(0,o.jsx)(r.h3,{id:"runner_env_vars",children:(0,o.jsx)(r.code,{children:"runner_env_vars"})}),(0,o.jsxs)(i.A,{cli_repr:"--experimental-bsp-runner-env-vars=\"['<str>', '<str>', ...]\"",env_repr:"PANTS_EXPERIMENTAL_BSP_RUNNER_ENV_VARS",toml_repr:`[experimental-bsp]
runner_env_vars = [
  '<str>',
  '<str>',
  ...,
]`,default_repr:`[
  "PATH"
]`,children:[(0,o.jsxs)(r.p,{children:["Environment variables to set in the BSP runner script when setting up BSP in a repository. Entries are either strings in the form ",(0,o.jsx)(r.code,{children:"ENV_VAR=value"})," to set an explicit value; or just ",(0,o.jsx)(r.code,{children:"ENV_VAR"})," to copy the value from Pants' own environment when the experimental-bsp goal was run."]}),(0,o.jsxs)(r.p,{children:["This option only takes effect when the BSP runner script is written. If the option changes, you must run ",(0,o.jsx)(r.code,{children:"/home/josh/work/scie-pants/dist/pants experimental-bsp"})," again to write a new copy of the BSP runner script."]}),(0,o.jsxs)(r.p,{children:["Note: The environment variables passed to the Pants BSP server will be those set for your IDE and not your shell. For example, on macOS, the IDE is generally launched by ",(0,o.jsx)(r.code,{children:"launchd"})," after clicking on a Dock icon, and not from the shell. Thus, any environment variables set for your shell will likely not be seen by the Pants BSP server. At the very least, on macOS consider writing an explicit PATH into the BSP runner script via this option."]})]}),(0,o.jsx)(r.h3,{id:"server",children:(0,o.jsx)(r.code,{children:"server"})}),(0,o.jsx)(i.A,{cli_repr:"--[no-]experimental-bsp-server",env_repr:"PANTS_EXPERIMENTAL_BSP_SERVER",toml_repr:`[experimental-bsp]
server = <bool>`,default_repr:"False",children:(0,o.jsx)(r.p,{children:"Run the Build Server Protocol server. Pants will receive BSP RPC requests via the console. This should only ever be invoked via the IDE."})}),(0,o.jsx)(r.h2,{id:"deprecated-options",children:"Deprecated options"}),(0,o.jsx)(r.p,{children:"None"}),(0,o.jsx)(r.h2,{id:"related-subsystems",children:"Related subsystems"}),(0,o.jsx)(r.p,{children:"None"})]})]})}function v(e={}){let{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},375002(e,r,s){s.d(r,{A:()=>n});let n={options:"options_nrbo"}},554707(e,r,s){s.d(r,{A:()=>i});var n=s(886070),o=s(384122),t=s(580830);function i({children:e,cli_repr:r,env_repr:s,toml_repr:i,one_of:l,default_repr:c,target_field_name:a,removal_version:d,removal_hint:p}){return(0,n.jsxs)("div",{className:"margin-bottom--lg",children:[(0,n.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:r}),(0,n.jsx)("br",{}),(0,n.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:s}),(0,n.jsx)("br",{}),(0,n.jsx)(o.A,{language:"toml",title:"pants.toml",children:i}),(0,n.jsxs)("div",{style:{paddingLeft:"2em"},children:[(0,n.jsxs)("span",{children:[l&&(0,n.jsxs)("span",{children:["one of:"," ",(0,n.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:l}),(0,n.jsx)("br",{})]}),"default:"," ",(0,n.jsx)("span",{style:{color:"var(--ifm-color-success)"},children:(c||"").includes("\n")?(0,n.jsx)("pre",{className:"padding--sm",children:c}):(0,n.jsx)("code",{children:c})})]}),(0,n.jsx)("br",{}),d&&(0,n.jsxs)("span",{style:{color:"var(--ifm-color-danger-darkest)"},children:["Deprecated, will be removed in version: ",d,".",(0,n.jsx)("br",{}),p,(0,n.jsx)("br",{})]}),e,a&&(0,n.jsxs)("span",{children:["Can be overriden by field",(0,n.jsx)("code",{children:a})," on"," ",(0,n.jsx)(t.A,{to:"../targets/local_environment",children:(0,n.jsx)("code",{children:"local_environment"})}),","," ",(0,n.jsx)(t.A,{to:"../targets/docker_environment",children:(0,n.jsx)("code",{children:"docker_environment"})}),", or"," ",(0,n.jsx)(t.A,{to:"../targets/remote_environment",children:(0,n.jsx)("code",{children:"remote_environment"})}),"targets."]})]})]})}},479972(e){e.exports=JSON.parse('{"id":"reference/goals/experimental-bsp","title":"experimental-bsp","description":"Setup repository for Build Server Protocol (https://build-server-protocol.github.io/).\\n","source":"@site/versioned_docs/version-2.11/reference/goals/experimental-bsp.mdx","sourceDirName":"reference/goals","slug":"/reference/goals/experimental-bsp","permalink":"/2.11/reference/goals/experimental-bsp","draft":false,"unlisted":false,"tags":[],"version":"2.11","frontMatter":{"title":"experimental-bsp","description":"Setup repository for Build Server Protocol (https://build-server-protocol.github.io/).\\n"},"sidebar":"referenceSidebar","previous":{"title":"dependencies","permalink":"/2.11/reference/goals/dependencies"},"next":{"title":"export-codegen","permalink":"/2.11/reference/goals/export-codegen"}}')}}]);