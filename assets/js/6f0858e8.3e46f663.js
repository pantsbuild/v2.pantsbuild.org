"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["741700"],{350174(e,t,r){r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>f,frontMatter:()=>n,metadata:()=>i,toc:()=>h});var i=r(326690),s=r(886070),a=r(848193),o=r(989898),c=r(375002);let n={title:"jvm_artifact",description:"A third-party JVM artifact, as identified by its Maven-compatible coordinate.\n"},d,l={},h=[{value:"<code>artifact</code>",id:"artifact",level:2},{value:"<code>group</code>",id:"group",level:2},{value:"<code>version</code>",id:"version",level:2},{value:"<code>description</code>",id:"description",level:2},{value:"<code>excludes</code>",id:"excludes",level:2},{value:"<code>jar</code>",id:"jar",level:2},{value:"<code>packages</code>",id:"packages",level:2},{value:"<code>resolve</code>",id:"resolve",level:2},{value:"<code>tags</code>",id:"tags",level:2},{value:"<code>url</code>",id:"url",level:2}];function p(e){let t={a:"a",code:"code",h2:"h2",hr:"hr",p:"p",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"A third-party JVM artifact, as identified by its Maven-compatible coordinate."}),"\n",(0,s.jsxs)(t.p,{children:["That is, an artifact identified by its ",(0,s.jsx)(t.code,{children:"group"}),", ",(0,s.jsx)(t.code,{children:"artifact"}),", and ",(0,s.jsx)(t.code,{children:"version"})," components."]}),"\n",(0,s.jsxs)(t.p,{children:["Each artifact is associated with one or more resolves (a logical name you give to a lockfile). For this artifact to be used by your first-party code, it must be associated with the resolve(s) used by that code. See the ",(0,s.jsx)(t.code,{children:"resolve"})," field."]}),"\n",(0,s.jsxs)(t.p,{children:["Backend: ",(0,s.jsx)("span",{className:"color--primary",children:(0,s.jsx)(t.code,{children:"pants.backend.experimental.java"})})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsxs)("span",{className:c.A.options,children:[(0,s.jsx)(t.h2,{id:"artifact",children:(0,s.jsx)(t.code,{children:"artifact"})}),(0,s.jsxs)(o.A,{type_repr:"str",children:[(0,s.jsx)(t.p,{children:"The 'artifact' part of a Maven-compatible coordinate to a third-party JAR artifact."}),(0,s.jsxs)(t.p,{children:["For the JAR coordinate ",(0,s.jsx)(t.code,{children:"com.google.guava:guava:30.1.1-jre"}),", the artifact is ",(0,s.jsx)(t.code,{children:"guava"}),"."]})]}),(0,s.jsx)(t.h2,{id:"group",children:(0,s.jsx)(t.code,{children:"group"})}),(0,s.jsxs)(o.A,{type_repr:"str",children:[(0,s.jsx)(t.p,{children:"The 'group' part of a Maven-compatible coordinate to a third-party JAR artifact."}),(0,s.jsxs)(t.p,{children:["For the JAR coordinate ",(0,s.jsx)(t.code,{children:"com.google.guava:guava:30.1.1-jre"}),", the group is ",(0,s.jsx)(t.code,{children:"com.google.guava"}),"."]})]}),(0,s.jsx)(t.h2,{id:"version",children:(0,s.jsx)(t.code,{children:"version"})}),(0,s.jsxs)(o.A,{type_repr:"str",children:[(0,s.jsx)(t.p,{children:"The 'version' part of a Maven-compatible coordinate to a third-party JAR artifact."}),(0,s.jsxs)(t.p,{children:["For the JAR coordinate ",(0,s.jsx)(t.code,{children:"com.google.guava:guava:30.1.1-jre"}),", the version is ",(0,s.jsx)(t.code,{children:"30.1.1-jre"}),"."]})]}),(0,s.jsx)(t.h2,{id:"description",children:(0,s.jsx)(t.code,{children:"description"})}),(0,s.jsxs)(o.A,{type_repr:"str | None",default_repr:"None",children:[(0,s.jsx)(t.p,{children:"A human-readable description of the target."}),(0,s.jsxs)(t.p,{children:["Use ",(0,s.jsx)(t.code,{children:"/home/josh/work/scie-pants/dist/pants list --documented ::"})," to see all targets with descriptions."]})]}),(0,s.jsx)(t.h2,{id:"excludes",children:(0,s.jsx)(t.code,{children:"excludes"})}),(0,s.jsxs)(o.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:[(0,s.jsxs)(t.p,{children:["A list of unversioned coordinates (i.e. ",(0,s.jsx)(t.code,{children:"group:artifact"}),") that should be excluded as dependencies when this artifact is resolved."]}),(0,s.jsx)(t.p,{children:"This does not prevent this artifact from being included in the resolve as a dependency of other artifacts that depend on it, and is currently intended as a way to resolve version conflicts in complex resolves."}),(0,s.jsx)(t.p,{children:"These values are passed directly to Coursier, and if specified incorrectly will show a parse error from Coursier."})]}),(0,s.jsx)(t.h2,{id:"jar",children:(0,s.jsx)(t.code,{children:"jar"})}),(0,s.jsxs)(o.A,{type_repr:"str | None",default_repr:"None",children:[(0,s.jsx)(t.p,{children:"A local JAR file that provides this artifact to the lockfile resolver, instead of a Maven repository."}),(0,s.jsx)(t.p,{children:"Path is relative to the BUILD file."}),(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"url"})," field for remote artifacts."]})]}),(0,s.jsx)(t.h2,{id:"packages",children:(0,s.jsx)(t.code,{children:"packages"})}),(0,s.jsxs)(o.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:[(0,s.jsx)(t.p,{children:"The JVM packages this artifact provides for the purposes of dependency inference."}),(0,s.jsxs)(t.p,{children:["For example, the JVM artifact ",(0,s.jsx)(t.code,{children:"junit:junit"})," might provide ",(0,s.jsx)(t.code,{children:'["org.junit.**"]'}),"."]}),(0,s.jsxs)(t.p,{children:["Usually you can leave this field off. If unspecified, Pants will fall back to the ",(0,s.jsx)(t.code,{children:"[java-infer].third_party_import_mapping"}),", then to a built in mapping (",(0,s.jsx)(t.a,{href:"https://github.com/pantsbuild/pants/blob/release_2.12.1/src/python/pants/jvm/dependency_inference/jvm_artifact_mappings.py",children:"https://github.com/pantsbuild/pants/blob/release_2.12.1/src/python/pants/jvm/dependency_inference/jvm_artifact_mappings.py"}),"), and then finally it will default to the normalized ",(0,s.jsx)(t.code,{children:"group"})," of the artifact. For example, in the absence of any other mapping the artifact ",(0,s.jsx)(t.code,{children:"io.confluent:common-config"})," would default to providing ",(0,s.jsx)(t.code,{children:'["io.confluent.**"]'}),"."]}),(0,s.jsxs)(t.p,{children:["The package path may be made recursive to match symbols in subpackages by adding ",(0,s.jsx)(t.code,{children:".**"})," to the end of the package path. For example, specify ",(0,s.jsx)(t.code,{children:'["org.junit.**"]'})," to infer a dependency on the artifact for any file importing a symbol from ",(0,s.jsx)(t.code,{children:"org.junit"})," or its subpackages."]})]}),(0,s.jsx)(t.h2,{id:"resolve",children:(0,s.jsx)(t.code,{children:"resolve"})}),(0,s.jsxs)(o.A,{type_repr:"str | None",default_repr:"None",children:[(0,s.jsxs)(t.p,{children:["The resolve from ",(0,s.jsx)(t.code,{children:"[jvm].resolves"})," that this artifact should be included in."]}),(0,s.jsxs)(t.p,{children:["If not defined, will default to ",(0,s.jsx)(t.code,{children:"[jvm].default_resolve"}),"."]}),(0,s.jsxs)(t.p,{children:["When generating a lockfile for a particular resolve via the ",(0,s.jsx)(t.code,{children:"coursier-resolve"})," goal, it will include all artifacts that are declared compatible with that resolve. First-party targets like ",(0,s.jsx)(t.code,{children:"java_source"})," and ",(0,s.jsx)(t.code,{children:"scala_source"})," also declare which resolve they use via the ",(0,s.jsx)(t.code,{children:"resolve"})," field; so, for your first-party code to use a particular ",(0,s.jsx)(t.code,{children:"jvm_artifact"})," target, that artifact must be included in the resolve used by that code."]})]}),(0,s.jsx)(t.h2,{id:"tags",children:(0,s.jsx)(t.code,{children:"tags"})}),(0,s.jsxs)(o.A,{type_repr:"Iterable[str] | None",default_repr:"None",children:[(0,s.jsx)(t.p,{children:"Arbitrary strings to describe a target."}),(0,s.jsxs)(t.p,{children:["For example, you may tag some test targets with 'integration_test' so that you could run ",(0,s.jsx)(t.code,{children:"/home/josh/work/scie-pants/dist/pants --tag='integration_test' test ::"})," to only run on targets with that tag."]})]}),(0,s.jsx)(t.h2,{id:"url",children:(0,s.jsx)(t.code,{children:"url"})}),(0,s.jsxs)(o.A,{type_repr:"str | None",default_repr:"None",children:[(0,s.jsx)(t.p,{children:"A URL that points to the location of this artifact."}),(0,s.jsx)(t.p,{children:"If specified, Pants will not fetch this artifact from default Maven repositories, and will instead fetch the artifact from this URL. To use default maven repositories, do not set this value."}),(0,s.jsxs)(t.p,{children:["Note that ",(0,s.jsx)(t.code,{children:"file:"})," URLs are not supported. Instead, use the ",(0,s.jsx)(t.code,{children:"jar"})," field for local artifacts."]})]})]})]})}function f(e={}){let{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},375002(e,t,r){r.d(t,{A:()=>i});let i={options:"options_nrbo"}},989898(e,t,r){r.d(t,{A:()=>s});var i=r(886070);function s({children:e,type_repr:t,default_repr:r,backend:s}){return(0,i.jsxs)("div",{className:"margin-bottom--lg",children:[(0,i.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:t}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{style:{paddingLeft:"2em"},children:[r&&(0,i.jsxs)("span",{children:["default:"," ",(0,i.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:r})]}),!r&&(0,i.jsx)("span",{style:{color:"var(--ifm-color-success)"},children:"required"}),s&&(0,i.jsxs)("div",{children:["backend:"," ",(0,i.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:s})]}),e]})]})}},848193(e,t,r){r.d(t,{R:()=>o,x:()=>c});var i=r(830758);let s={},a=i.createContext(s);function o(e){let t=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:t},e.children)}},326690(e){e.exports=JSON.parse('{"id":"reference/targets/jvm_artifact","title":"jvm_artifact","description":"A third-party JVM artifact, as identified by its Maven-compatible coordinate.\\n","source":"@site/versioned_docs/version-2.12/reference/targets/jvm_artifact.mdx","sourceDirName":"reference/targets","slug":"/reference/targets/jvm_artifact","permalink":"/2.12/reference/targets/jvm_artifact","draft":false,"unlisted":false,"tags":[],"version":"2.12","frontMatter":{"title":"jvm_artifact","description":"A third-party JVM artifact, as identified by its Maven-compatible coordinate.\\n"},"sidebar":"referenceSidebar","previous":{"title":"junit_tests","permalink":"/2.12/reference/targets/junit_tests"},"next":{"title":"jvm_war","permalink":"/2.12/reference/targets/jvm_war"}}')}}]);