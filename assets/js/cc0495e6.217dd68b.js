"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["631475"],{543299(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var s=r(517329),i=r(886070),a=r(848193),o=r(554707),t=r(375002);let l={title:"cue",description:"CUE is an open-source data validation language and inference engine with its roots in logic programming. Although the language is not a general-purpose programming language, it has many applications, such as data validation, data templating, configuration, querying, code generation and even scripting. The inference engine can be used to validate data in code or to include it as part of a code generation pipeline.\n"},c,d={},p=[{value:"Basic options",id:"basic-options",level:2},{value:"<code>args</code>",id:"args",level:3},{value:"<code>skip</code>",id:"skip",level:3},{value:"Advanced options",id:"advanced-options",level:2},{value:"<code>known_versions</code>",id:"known_versions",level:3},{value:"<code>url_platform_mapping</code>",id:"url_platform_mapping",level:3},{value:"<code>url_template</code>",id:"url_template",level:3},{value:"<code>use_unsupported_version</code>",id:"use_unsupported_version",level:3},{value:"<code>version</code>",id:"version",level:3},{value:"Deprecated options",id:"deprecated-options",level:2},{value:"Related subsystems",id:"related-subsystems",level:2}];function h(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"CUE is an open-source data validation language and inference engine with its roots in logic programming. Although the language is not a general-purpose programming language, it has many applications, such as data validation, data templating, configuration, querying, code generation and even scripting. The inference engine can be used to validate data in code or to include it as part of a code generation pipeline."}),"\n",(0,i.jsxs)(n.p,{children:["Homepage: ",(0,i.jsx)(n.a,{href:"https://cuelang.org/",children:"https://cuelang.org/"})]}),"\n",(0,i.jsxs)(n.p,{children:["Backend: ",(0,i.jsx)("span",{className:"color--primary",children:(0,i.jsx)(n.code,{children:"pants.backend.experimental.cue"})})]}),"\n",(0,i.jsxs)(n.p,{children:["Config section: ",(0,i.jsx)("span",{className:"color--primary",children:(0,i.jsx)(n.code,{children:"[cue]"})})]}),"\n",(0,i.jsxs)("span",{className:t.A.options,children:[(0,i.jsx)(n.h2,{id:"basic-options",children:"Basic options"}),(0,i.jsx)(n.h3,{id:"args",children:(0,i.jsx)(n.code,{children:"args"})}),(0,i.jsx)(o.A,{cli_repr:'--cue-args="[<shell_str>, <shell_str>, ...]"',env_repr:"PANTS_CUE_ARGS",toml_repr:`[cue]
args = [
  <shell_str>,
  <shell_str>,
  ...,
]`,default_repr:"[]",children:(0,i.jsxs)(n.p,{children:["Arguments to pass directly to CUE, e.g. ",(0,i.jsx)(n.code,{children:"--cue-args='--all-errors'"}),"."]})}),(0,i.jsx)(n.h3,{id:"skip",children:(0,i.jsx)(n.code,{children:"skip"})}),(0,i.jsx)(o.A,{cli_repr:"--[no-]cue-skip",env_repr:"PANTS_CUE_SKIP",toml_repr:`[cue]
skip = <bool>`,default_repr:"False",children:(0,i.jsxs)(n.p,{children:["If true, don't use CUE when running ",(0,i.jsx)(n.code,{children:"pants fmt"})," and ",(0,i.jsx)(n.code,{children:"pants fix"})," and ",(0,i.jsx)(n.code,{children:"pants lint"}),"."]})}),(0,i.jsx)(n.h2,{id:"advanced-options",children:"Advanced options"}),(0,i.jsx)(n.h3,{id:"known_versions",children:(0,i.jsx)(n.code,{children:"known_versions"})}),(0,i.jsxs)(o.A,{cli_repr:"--cue-known-versions=\"['<str>', '<str>', ...]\"",env_repr:"PANTS_CUE_KNOWN_VERSIONS",toml_repr:`[cue]
known_versions = [
  '<str>',
  '<str>',
  ...,
]`,default_repr:`[
  "v0.4.3|macos_x86_64|1161254cf38b928b87a7ac1552dc2e12e6c5da298f9ce370d80e5518ddb6513d|6240316",
  "v0.4.3|macos_arm64 |3d84b85a7288f94301a4726dcf95b2d92c8ff796c4d45c4733fbdcc04ceaf21d|5996085",
  "v0.4.3|linux_x86_64|5e7ecb614b5926acfc36eb1258800391ab7c6e6e026fa7cacbfe92006bac895c|6037013",
  "v0.4.3|linux_arm64 |a8c3f4140d18c324cc69f5de4df0566e529e1636cff340095a42475799bf3fed|5548404"
]`,children:[(0,i.jsx)(n.p,{children:"Known versions to verify downloads against."}),(0,i.jsxs)(n.p,{children:["Each element is a pipe-separated string of ",(0,i.jsx)(n.code,{children:"version|platform|sha256|length"})," or\n",(0,i.jsx)(n.code,{children:"version|platform|sha256|length|url_override"}),", where:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"version"})," is the version string"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"platform"})," is one of ",(0,i.jsx)(n.code,{children:"[linux_arm64,linux_x86_64,macos_arm64,macos_x86_64]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sha256"})," is the 64-character hex representation of the expected sha256\ndigest of the download file, as emitted by ",(0,i.jsx)(n.code,{children:"shasum -a 256"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"length"})," is the expected length of the download file in bytes, as emitted by\n",(0,i.jsx)(n.code,{children:"wc -c"})]}),"\n",(0,i.jsxs)(n.li,{children:["(Optional) ",(0,i.jsx)(n.code,{children:"url_override"})," is a specific url to use instead of the normally\ngenerated url for this version"]}),"\n"]}),(0,i.jsxs)(n.p,{children:["E.g., ",(0,i.jsx)(n.code,{children:"3.1.2|macos_x86_64|6d0f18cd84b918c7b3edd0203e75569e0c7caecb1367bbbe409b44e28514f5be|42813"}),".\nand ",(0,i.jsx)(n.code,{children:"3.1.2|macos_arm64 |aca5c1da0192e2fd46b7b55ab290a92c5f07309e7b0ebf4e45ba95731ae98291|50926|https://example.mac.org/bin/v3.1.2/mac-aarch64-v3.1.2.tgz"}),"."]}),(0,i.jsx)(n.p,{children:"Values are space-stripped, so pipes can be indented for readability if necessary."})]}),(0,i.jsx)(n.h3,{id:"url_platform_mapping",children:(0,i.jsx)(n.code,{children:"url_platform_mapping"})}),(0,i.jsxs)(o.A,{cli_repr:"--cue-url-platform-mapping=\"{'key1': val1, 'key2': val2, ...}\"",env_repr:"PANTS_CUE_URL_PLATFORM_MAPPING",toml_repr:`[cue.url_platform_mapping]
key1 = val1
key2 = val2
...`,default_repr:`{
  "linux_arm64": "linux_arm64",
  "linux_x86_64": "linux_amd64",
  "macos_arm64": "darwin_arm64",
  "macos_x86_64": "darwin_amd64"
}`,children:[(0,i.jsx)(n.p,{children:"A dictionary mapping platforms to strings to be used when generating the URL to download the tool."}),(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"--url-template"}),", anytime the ",(0,i.jsx)(n.code,{children:"{platform}"})," string is used, Pants will determine the current platform, and substitute ",(0,i.jsx)(n.code,{children:"{platform}"})," with the respective value from your dictionary."]}),(0,i.jsxs)(n.p,{children:["For example, if you define ",(0,i.jsx)(n.code,{children:'{"macos_x86_64": "apple-darwin", "linux_x86_64": "unknown-linux"}'}),", and run Pants on Linux with an intel architecture, then ",(0,i.jsx)(n.code,{children:"{platform}"})," will be substituted in the ",(0,i.jsx)(n.code,{children:"--url-template"})," option with ",(0,i.jsx)(n.code,{children:"unknown-linux"}),"."]})]}),(0,i.jsx)(n.h3,{id:"url_template",children:(0,i.jsx)(n.code,{children:"url_template"})}),(0,i.jsxs)(o.A,{cli_repr:"--cue-url-template=<str>",env_repr:"PANTS_CUE_URL_TEMPLATE",toml_repr:`[cue]
url_template = <str>`,default_repr:"https://github.com/cue-lang/cue/releases/download/{version}/cue_{version}_{platform}.tar.gz",children:[(0,i.jsxs)(n.p,{children:["URL to download the tool, either as a single binary file or a compressed file (e.g. zip file). You can change this to point to your own hosted file, e.g. to work with proxies or for access via the filesystem through a ",(0,i.jsx)(n.code,{children:"file:$abspath"})," URL (e.g. ",(0,i.jsx)(n.code,{children:"file:/this/is/absolute"}),", possibly by ",(0,i.jsx)(n.a,{href:"https://www.pantsbuild.org/2.21/docs/using-pants/key-concepts/options#config-file-entries",children:"templating the buildroot in a config file"}),")."]}),(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"{version}"})," to have the value from ",(0,i.jsx)(n.code,{children:"--version"})," substituted, and ",(0,i.jsx)(n.code,{children:"{platform}"})," to have a value from ",(0,i.jsx)(n.code,{children:"--url-platform-mapping"})," substituted in, depending on the current platform. For example, ",(0,i.jsx)(n.a,{href:"https://github.com/.../protoc-&#123;version&#125;-&#123;platform&#125;.zip",children:"https://github.com/.../protoc-&#123;version&#125;-&#123;platform&#125;.zip"}),"."]})]}),(0,i.jsx)(n.h3,{id:"use_unsupported_version",children:(0,i.jsx)(n.code,{children:"use_unsupported_version"})}),(0,i.jsxs)(o.A,{cli_repr:"--cue-use-unsupported-version=<UnsupportedVersionUsage>",env_repr:"PANTS_CUE_USE_UNSUPPORTED_VERSION",toml_repr:`[cue]
use_unsupported_version = <UnsupportedVersionUsage>`,one_of:"error, warning",default_repr:"error",children:[(0,i.jsx)(n.p,{children:"What action to take in case the requested version of CUE is not supported."}),(0,i.jsx)(n.p,{children:"Supported CUE versions: unspecified"})]}),(0,i.jsx)(n.h3,{id:"version",children:(0,i.jsx)(n.code,{children:"version"})}),(0,i.jsx)(o.A,{cli_repr:"--cue-version=<str>",env_repr:"PANTS_CUE_VERSION",toml_repr:`[cue]
version = <str>`,default_repr:"v0.4.3",children:(0,i.jsx)(n.p,{children:"Use this version of CUE."})}),(0,i.jsx)(n.h2,{id:"deprecated-options",children:"Deprecated options"}),(0,i.jsx)(n.p,{children:"None"}),(0,i.jsx)(n.h2,{id:"related-subsystems",children:"Related subsystems"}),(0,i.jsx)(n.p,{children:"None"})]})]})}function u(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},375002(e,n,r){r.d(n,{A:()=>s});let s={options:"options_nrbo"}},554707(e,n,r){r.d(n,{A:()=>o});var s=r(886070),i=r(384122),a=r(580830);function o({children:e,cli_repr:n,env_repr:r,toml_repr:o,one_of:t,default_repr:l,target_field_name:c,removal_version:d,removal_hint:p}){return(0,s.jsxs)("div",{className:"margin-bottom--lg",children:[(0,s.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:n}),(0,s.jsx)("br",{}),(0,s.jsx)("code",{style:{color:"var(--pants-reference-option-repr)"},children:r}),(0,s.jsx)("br",{}),(0,s.jsx)(i.A,{language:"toml",title:"pants.toml",children:o}),(0,s.jsxs)("div",{style:{paddingLeft:"2em"},children:[(0,s.jsxs)("span",{children:[t&&(0,s.jsxs)("span",{children:["one of:"," ",(0,s.jsx)("code",{style:{color:"var(--ifm-color-success)"},children:t}),(0,s.jsx)("br",{})]}),"default:"," ",(0,s.jsx)("span",{style:{color:"var(--ifm-color-success)"},children:(l||"").includes("\n")?(0,s.jsx)("pre",{className:"padding--sm",children:l}):(0,s.jsx)("code",{children:l})})]}),(0,s.jsx)("br",{}),d&&(0,s.jsxs)("span",{style:{color:"var(--ifm-color-danger-darkest)"},children:["Deprecated, will be removed in version: ",d,".",(0,s.jsx)("br",{}),p,(0,s.jsx)("br",{})]}),e,c&&(0,s.jsxs)("span",{children:["Can be overriden by field",(0,s.jsx)("code",{children:c})," on"," ",(0,s.jsx)(a.A,{to:"../targets/local_environment",children:(0,s.jsx)("code",{children:"local_environment"})}),","," ",(0,s.jsx)(a.A,{to:"../targets/docker_environment",children:(0,s.jsx)("code",{children:"docker_environment"})}),", or"," ",(0,s.jsx)(a.A,{to:"../targets/remote_environment",children:(0,s.jsx)("code",{children:"remote_environment"})}),"targets."]})]})]})}},517329(e){e.exports=JSON.parse('{"id":"reference/subsystems/cue","title":"cue","description":"CUE is an open-source data validation language and inference engine with its roots in logic programming. Although the language is not a general-purpose programming language, it has many applications, such as data validation, data templating, configuration, querying, code generation and even scripting. The inference engine can be used to validate data in code or to include it as part of a code generation pipeline.\\n","source":"@site/versioned_docs/version-2.21/reference/subsystems/cue.mdx","sourceDirName":"reference/subsystems","slug":"/reference/subsystems/cue","permalink":"/2.21/reference/subsystems/cue","draft":false,"unlisted":false,"tags":[],"version":"2.21","frontMatter":{"title":"cue","description":"CUE is an open-source data validation language and inference engine with its roots in logic programming. Although the language is not a general-purpose programming language, it has many applications, such as data validation, data templating, configuration, querying, code generation and even scripting. The inference engine can be used to validate data in code or to include it as part of a code generation pipeline.\\n"},"sidebar":"referenceSidebar","previous":{"title":"coverage-py","permalink":"/2.21/reference/subsystems/coverage-py"},"next":{"title":"debug-adapter","permalink":"/2.21/reference/subsystems/debug-adapter"}}')}}]);