"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["776751"],{848193(e,t,r){r.d(t,{R:()=>l,x:()=>i});var a=r(830758);let o={},n=a.createContext(o);function l(e){let t=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),a.createElement(n.Provider,{value:t},e.children)}},284146(e,t,r){r.d(t,{t1:()=>w});var a,o,n=r(830758);let l=(e,t)=>{let{controls:r,toolbarItems:a,getChartEditor:o}=e;return t&&t.charts&&t.visualization&&t.visualization.ChartWrapper&&t.visualization.Dashboard&&(!r||t.visualization.ChartWrapper)&&(!o||t.visualization.ChartEditor)&&(!a||t.visualization.drawToolbar)},i={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},chartLoaderScriptUrl:"https://www.gstatic.com/charts/loader.js"},s=e=>{let{isReady:t,chartControls:r,filter:a}=e;return t&&r&&r?.length?n.createElement(n.Fragment,null,r.filter(e=>{let{controlProp:t,control:r}=e;return!a||a({control:r,controlProp:t})}).map(e=>{let{control:t}=e;return n.createElement("div",{key:t.getContainerId(),id:t.getContainerId()})})):null},u=0,c=()=>(u+=1,`reactgooglegraph-${u}`);class d{static initializeControls=e=>{for(let t=0;t<e.length;t+=1){let{controlType:r,options:a,controlWrapperParams:o}=e[t].controlProp;o&&"state"in o&&e[t].control.setState(o.state),e[t].control.setOptions(a),e[t].control.setControlType(r)}};static listenToControlEvents=(e,t)=>{let{google:r}=t;return e.flatMap(e=>{let{control:a,controlProp:o}=e,{controlEvents:n=[]}=o;return n.map(e=>{let{callback:o,eventName:n}=e;return r.visualization.events.addListener(a,n,function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];o({chartWrapper:null,controlWrapper:a,props:t,google:r,eventArgs:n})})})})};static createControlId=e=>void 0===e?`googlechart-control-${c()}`:e;static createChartControls=e=>{let{controls:t,google:r}=e;return t?t.map((e,t)=>{let{controlID:a,controlType:o,options:n,controlWrapperParams:l}=e,i=this.createControlId(a);return{controlProp:e,control:new r.visualization.ControlWrapper({containerId:i,controlType:o,options:n,...l})}}):null};static addControls=e=>{let{chartWrapper:t,chartDashboard:r}=e,a=this.createChartControls(e);return a&&r&&t?(r.bind(a.map(e=>{let{control:t}=e;return t}),t),this.initializeControls(a),a):null}}let p=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],g=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((a,o)=>{let n=`${r.headers?`headers=${r.headers}`:"headers=0"}`,l=`${r.query?`&tq=${encodeURIComponent(r.query)}`:""}`,i=`${r.gid?`&gid=${r.gid}`:""}`,s=`${r.sheet?`&sheet=${r.sheet}`:""}`,u=`${r.access_token?`&access_token=${r.access_token}`:""}`,c=`${n}${i}${s}${l}${u}`,d=`${t}/gviz/tq?${c}`;new e.visualization.Query(d).send(e=>{e.isError()?o(`Error in query:  ${e.getMessage()} ${e.getDetailedMessage()}`):a(e.getDataTable())})})};class m{static grayOutHiddenColumnsLabel=(e,t)=>{let{googleChartWrapper:r,options:a}=e;if(!r)return void console.error("googleChartWrapper is not defined");let o=r.getDataTable();if(!o)return;let n=o.getNumberOfColumns();if(!1==t.length>0)return;let l=Array.from({length:n-1}).map((e,r)=>{let n=this.getColumnId(o,r+1);return t.includes(n)?"#CCCCCC":a&&a.colors?a.colors[r]:p[r]});r.setOptions({...a,colors:l}),r.draw()};static listenToLegendToggle=(e,t)=>{let[r,a]=t,{google:o,googleChartWrapper:n}=e;return n?o.visualization.events.addListener(n,"select",()=>{let e=n.getChart().getSelection(),t=n.getDataTable();if(0===e.length||null!==e[0].row||!t)return;let o=e[0].column,l=this.getColumnId(t,o);r?.includes(l)?a(e=>[...e.filter(e=>e!==l)]):a(e=>[...e,l])}):void console.error("googleChartWrapper is not defined")};static draw=async e=>{let t,{data:r,diffdata:a,rows:o,columns:n,options:l,chartType:i,formatters:s,spreadSheetUrl:u,spreadSheetQueryParameters:c,googleChartDashboard:d,googleChartWrapper:p,google:m,hiddenColumns:h,legendToggle:v,legend_toggle:f}=e;if(!p)return void console.error("draw was called with googleChartWrapper = null");let C=null;if(a){let e=m.visualization.arrayToDataTable(a.old),t=m.visualization.arrayToDataTable(a.new);C=m.visualization[i].prototype.computeDiff(e,t)}let w=Array((t=r?r instanceof m.visualization.DataTable?r:Array.isArray(r)?m.visualization.arrayToDataTable(r):new m.visualization.DataTable(r):o&&n?m.visualization.arrayToDataTable([n,...o]):u?await g(m,u,c):m.visualization.arrayToDataTable([])).getNumberOfColumns()).fill(0).map((e,r)=>{let a=this.getColumnId(t,r);return h.includes(a)?{label:t.getColumnLabel(r),type:t.getColumnType(r),calc:()=>null}:r}),E=p.getChart();"Timeline"===p.getChartType()&&E&&E.clearChart(),p.setChartType(i),p.setOptions(l||{});let y=new m.visualization.DataView(t);y.setColumns(w),p.setDataTable(y),p.draw(),d&&d.draw(t),C&&(p.setDataTable(C),p.draw()),s&&(this.applyFormatters({dataTable:t,formatters:s,google:m}),p.setDataTable(t),p.draw()),(!0===v||!0===f)&&this.grayOutHiddenColumnsLabel(e,h)};static getColumnId=(e,t)=>e.getColumnId(t)||e.getColumnLabel(t);static applyFormatters=e=>{let{dataTable:t,formatters:r,google:a}=e;for(let e of r)switch(e.type){case"ArrowFormat":return void new a.visualization.ArrowFormat(e.options).format(t,e.column);case"BarFormat":return void new a.visualization.BarFormat(e.options).format(t,e.column);case"ColorFormat":{let r=new a.visualization.ColorFormat(e.options),{ranges:o}=e;if(o)for(let e of o)r.addRange(...e);r.format(t,e.column);return}case"DateFormat":return void new a.visualization.DateFormat(e.options).format(t,e.column);case"NumberFormat":return void new a.visualization.NumberFormat(e.options).format(t,e.column);case"PatternFormat":return void new a.visualization.PatternFormat(e.options).format(t,e.column);default:return void console.warn(`Unknown formatter type: ${e.type}`)}}}let h=e=>{var t;let r,[a,o]=n.useState(null),[l,i]=n.useState(null),{addControls:u,renderControl:p}=(e=>{var t;let[r,a]=(e=>{let[t,r]=n.useState(null);return[n.useMemo(()=>t&&e?e.map((e,r)=>{let a=t[r];return a?{controlProp:e,control:a}:void 0}).flatMap(e=>e?[e]:[]):null,[t,e]),r]})(e.controls);return t=r??[],n.useEffect(()=>{let r=d.listenToControlEvents(t??[],e);return()=>{r.forEach(t=>{e.google.visualization.events.removeListener(t)})}},[t,e]),{addControls:e=>{let t=d.addControls(e);a(t?.map(e=>e.control)??null)},renderControl:t=>{let{chartWrapper:a,chartDashboard:o}=e;return n.createElement(s,{...e,isReady:!!(a&&o),chartControls:r,filter:t})}}})({...e,chartDashboard:l,chartWrapper:a});t={...e,googleChartWrapper:a},(0,n.useEffect)(()=>{if(!t.googleChartWrapper)return;let e=(e=>{let{chartEvents:t,google:r,googleChartWrapper:a}=e;if(t)return a?t.map(t=>{let{eventName:o,callback:n}=t;return r.visualization.events.addListener(a,o,function(){for(var t=arguments.length,o=Array(t),l=0;l<t;l++)o[l]=arguments[l];n({chartWrapper:a,props:e,google:r,eventArgs:o})})}):void console.warn("listenToEvents was called before chart wrapper ready.")})(t);return()=>{e?.forEach(e=>{t.google.visualization.events.removeListener(e)})}},[t]);let{chartId:g}=(r=n.useRef(null),{chartId:(()=>{let t,{graphID:a,graph_id:o}=e,n=a||o;return t=n||r.current||c(),r.current=t,r.current})()}),h=n.useRef(null),v=n.useRef(null);n.useEffect(()=>{let{options:t,google:r,chartType:a,chartWrapperParams:n,toolbarItems:l,getChartEditor:s,getChartWrapper:c,onLoad:d}=e,p={chartType:a,options:t,containerId:g,...n},m=new r.visualization.ChartWrapper(p);m.setOptions(t||{}),c?.(m,r);let f=new r.visualization.Dashboard(h.current);l&&r.visualization.drawToolbar(v.current,l);let C=null;s&&s({chartEditor:C=new r.visualization.ChartEditor,chartWrapper:m,google:r}),u({...e,chartDashboard:f,chartWrapper:m}),o(m),i(f),d?.(r,{google:r,chartWrapper:m,chartEditor:C,chartDashboard:f})},[]),(e=>{let{google:t,googleChartWrapper:r,googleChartDashboard:a}=e,[o,l]=n.useState([]);n.useEffect(()=>{r&&m.draw({...e,hiddenColumns:o,googleChartWrapper:r,googleChartDashboard:a,google:t})},[o,e.data,e.rows,e.columns,e.options,e.chartLoaderScriptUrl,e.chartType,e.formatters,e.spreadSheetUrl,e.spreadSheetQueryParameters,e.legendToggle,e.legend_toggle]);let i=()=>{let{googleChartWrapper:t}=e;t&&t.draw()},s=r=>{let n=[],{legendToggle:s,legend_toggle:u}=e;if(m.draw({...e,hiddenColumns:o,googleChartWrapper:r,googleChartDashboard:a,google:t}),window.addEventListener("resize",i),u||s){let t=m.listenToLegendToggle(e,[o,l]);t&&n.push(t)}return n},u=(e,r)=>{window.removeEventListener("resize",i),r.forEach(e=>{t.visualization.events.removeListener(e)}),"Timeline"===e.getChartType()&&e.getChart()&&e.getChart().clearChart()};n.useEffect(()=>{if(!r)return;let e=s(r);return()=>{u(r,e)}},[r,s,u])})({...e,googleChartWrapper:a,googleChartDashboard:l});let f=()=>{let{width:t,height:r,options:a,style:o,className:l,rootProps:i,google:s}=e,u={height:r||a&&a.height,width:t||a&&a.width,...o};return n.createElement("div",{id:g,style:u,className:l,...i})},C=()=>e.toolbarItems?n.createElement("div",{ref:v}):null,{width:w,height:E,options:y,style:b}=e,z={height:E||y&&y.height,width:w||y&&y.width,...b};return e.render?n.createElement("div",{ref:h,style:z},n.createElement("div",{ref:v,id:"toolbar"}),e.render({renderChart:f,renderControl:p,renderToolbar:C})):n.createElement("div",{ref:h,style:z},p(e=>{let{controlProp:t}=e;return"bottom"!==t.controlPosition}),f(),p(e=>{let{controlProp:t}=e;return"bottom"===t.controlPosition}),C())},v=n.createContext(i),f=e=>{let{children:t,value:r}=e;return n.createElement(v.Provider,{value:r},t)},C=e=>{let{google:t,isLoading:r,error:a}=function(e){let{chartVersion:t="current",chartPackages:r=["corechart","controls"],chartLanguage:a="en",mapsApiKey:o}=e,[i,s]=(0,n.useState)(null),[u,c]=(0,n.useState)(null),[d,p]=(0,n.useState)(null),{isLoading:g,error:m,isSuccess:h}=function(e){let[t,r]=(0,n.useState)(!0),[a,o]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),s=()=>{r(!1),i(!0)};return(0,n.useEffect)(()=>{if(!document)return void o(Error(`[ScriptLoadingError] document not defined when attempting to load ${e}`));let t=document.querySelector(`script[src="${e}"]`);if(t?.dataset.loaded)return void s();let r=t||document.createElement("script");t||(r.src=e),r.addEventListener("load",()=>{r.dataset.loaded="1",s()}),r.addEventListener("error",t=>{console.error("Failed to load script:",e,t),o(Error(`[ScriptLoadingError] Failed to load script: ${e}`))}),t||document.head.append(r)},[]),{isLoading:t,error:a,isSuccess:l}}(e.chartLoaderScriptUrl||"https://www.gstatic.com/charts/loader.js");return(0,n.useEffect)(()=>{if(!h)return;let n=window.google;n&&n.charts?l(e,n)?s(n):(n.charts.load(t,{packages:r,language:a,mapsApiKey:o}),n.charts.setOnLoadCallback(()=>{if(!l(e,n)){let e=Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");console.error(e),p(e);return}s(n)})):c(Error("[ScriptInitializationError] Script loaded but Google not attached to window."))},[h]),{error:m||u||d,isLoading:g,google:i}}(e);return r?e.loader??null:a?e.errorElement??null:t?n.createElement(h,{google:t,...e}):null},w=e=>{let t={...i,...e};return n.createElement(f,{value:t},n.createElement(C,t))};(a=o||(o={})).annotation="annotation",a.annotationText="annotationText",a.certainty="certainty",a.emphasis="emphasis",a.interval="interval",a.scope="scope",a.style="style",a.tooltip="tooltip",a.domain="domain"}}]);