"use strict";(self.webpackChunkpantsbuild_org=self.webpackChunkpantsbuild_org||[]).push([["985849"],{312230(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>u});var r=t(860490),s=t(886070),i=t(848193),o=t(685008),a=t(637180);let l={title:"Third-party dependencies",sidebar_position:2},d,c={},u=[{value:"Basic setup",id:"basic-setup",level:2},{value:"Using a lockfile (strongly recommended)",id:"using-a-lockfile-strongly-recommended",level:2},{value:"Advanced requirements usage",id:"advanced-requirements-usage",level:2},{value:"Inline requirements",id:"inline-requirements",level:3},{value:"Version control or local requirements",id:"version-control-or-local-requirements",level:3},{value:"Using custom repositories",id:"using-custom-repositories",level:2},{value:"Tip: Set up a virtual environment (optional)",id:"tip-set-up-a-virtual-environment-optional",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"How to use third-party Python libraries in your project."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"basic-setup",children:"Basic setup"}),"\n",(0,s.jsxs)(n.p,{children:["To set up third-party dependencies in your project, use a regular ",(0,s.jsx)(n.a,{href:"https://pip.pypa.io/en/stable/user_guide/#requirements-files",children:(0,s.jsx)(n.code,{children:"requirements.txt"})})," file."]}),"\n",(0,s.jsxs)(n.p,{children:["Then, in the same directory, create a ",(0,s.jsx)(n.code,{children:"BUILD"})," file that invokes the ",(0,s.jsx)(n.code,{children:"python_requirements()"})," macro:"]}),"\n",(0,s.jsxs)(o.A,{groupId:"code-examples",children:[(0,s.jsx)(a.A,{value:"requirements.txt",label:"requirements.txt",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",metastring:'tab={"label":"requirements.txt"}',children:"flask>=1.1.2,<1.3\nrequests[security]==2.23.0\ndataclasses ; python_version<'3.7'\n"})})}),(0,s.jsx)(a.A,{value:"build",label:"BUILD",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"BUILD"}',children:"python_requirements()\n"})})})]}),"\n",(0,s.jsxs)(n.p,{children:["Pants will use the ",(0,s.jsx)(n.code,{children:"python_requirements()"})," macro to create a distinct ",(0,s.jsx)(n.code,{children:"python_requirement_library"})," target for each specified requirement."]}),"\n",(0,s.jsxs)(n.p,{children:["Pants will then use ",(0,s.jsx)(n.a,{href:"/2.5/docs/using-pants/key-concepts/targets-and-build-files",children:"dependency inference"})," by looking at your Python import statements to automatically add those targets to the ",(0,s.jsx)(n.code,{children:"dependencies"})," field. For example:"]}),"\n",(0,s.jsxs)(o.A,{groupId:"code-examples",children:[(0,s.jsx)(a.A,{value:"shell",label:"shell",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'tab={"label":"shell"}',children:"$ ./pants dependencies project/app.py\n//:flask\n//:requests\n"})})}),(0,s.jsx)(a.A,{value:"project/app.py",label:"project/app.py",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'tab={"label":"project/app.py"}',children:"import flask\nimport requests\n\n...\n"})})})]}),"\n",(0,s.jsxs)(n.p,{children:["To infer dependencies, Pants needs to know which Python modules a requirement exposes, such as ",(0,s.jsx)(n.code,{children:"Django"})," exposing the module ",(0,s.jsx)(n.code,{children:"django"}),". By default, Pants assumes the module name is the same as the requirement name, normalized to be lowercase and to use dashes, e.g. ",(0,s.jsx)(n.code,{children:"typing-extensions"})," exporting the module ",(0,s.jsx)(n.code,{children:"typing_extensions"}),". Some requirements, however, expose different modules, such as ",(0,s.jsx)(n.code,{children:"beautifulsoup4"})," exposing ",(0,s.jsx)(n.code,{children:"bs4"}),". Pants already defines a ",(0,s.jsx)(n.a,{href:"https://github.com/pantsbuild/pants/blob/master/src/python/pants/backend/python/dependency_inference/default_module_mapping.py",children:"default module mapping"})," for some common Python requirements, but you may need to augment this by teaching Pants additional mappings:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="BUILD"',children:'python_requirements(\n    # This is only needed for requirements\n    # where the defaults do not work.\n    module_mapping={\n        "my_distribution": ["dist_module"],\n    },\n)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["You can also add an explicit dependency by adding the ",(0,s.jsx)(n.code,{children:"python_requirement_library"})," target to the ",(0,s.jsx)(n.code,{children:"dependencies"})," field for a target. This will make sure that the dependency is included regardless of if dependency inference can infer it or not. For example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="project/BUILD"',children:"python_library(\n    dependencies=[\n        # We don't have an import statement for this dep, so inference\n        # won't add it automatically. We add it explicitly instead.\n        \"//:psyscopg2-binary\",\n    ],\n)\n"})}),"\n",(0,s.jsxs)(n.admonition,{title:"Where should I put the requirements.txt?",type:"note",children:[(0,s.jsx)(n.p,{children:"You can put the file wherever makes the most sense for your project."}),(0,s.jsx)(n.p,{children:'In smaller repositories that only use Python, it\'s often convenient to put the file at the "build root" (top-level), as used on this page.'}),(0,s.jsxs)(n.p,{children:["For larger repositories or multilingual repositories, it's often useful to have a ",(0,s.jsx)(n.code,{children:"3rdparty"})," or ",(0,s.jsx)(n.code,{children:"3rdparty/python"})," directory. Rather than the target's address being ",(0,s.jsx)(n.code,{children:"//:my_requirement"}),", its address would be ",(0,s.jsx)(n.code,{children:"3rdparty/python:my_requirement"}),", for example."]}),(0,s.jsxs)(n.p,{children:["BUT: if you place your ",(0,s.jsx)(n.code,{children:"requirements.txt"})," in a non-standard location (or give it another name via the ",(0,s.jsx)(n.code,{children:"python_requirements(requirements_relpath=..)"})," argument), you will need to configure ",(0,s.jsx)(n.code,{children:"pantsd"})," to restart for edits to the non-standard filename: see ",(0,s.jsx)(n.a,{href:"https://github.com/pantsbuild/pants/pull/9946",children:"#9946"}),"."]})]}),"\n",(0,s.jsxs)(n.admonition,{title:"Multiple requirements files",type:"caution",children:[(0,s.jsxs)(n.p,{children:["Pants can support multiple requirements files (each with a corresponding ",(0,s.jsx)(n.code,{children:"python_requirements"})," macro invocation) in a single repo."]}),(0,s.jsx)(n.p,{children:"However if those requirements overlap there will be multiple targets for the same package, and Pants will not be able to infer which of them a dependency should be on."}),(0,s.jsxs)(n.p,{children:["If the version constraints for the overlapping requirements do not conflict, you may wish to refactor the common requirements out of your requirements files and include them with ",(0,s.jsx)(n.code,{children:"-r common-requirements.txt"}),". Then dependency inference will see a single target for each of those common requirements."]}),(0,s.jsx)(n.p,{children:"If the version constraints do conflict, or if you otherwise cannot refactor them out, then you will have to specify the relevant dependencies manually."}),(0,s.jsx)(n.p,{children:'We plan to support multiple requirements "universes" more robustly in the future, but it will always be preferable to have a single consistently resolvable universe of requirements for your repo, if possible. Pants selects requirement subsets as needed, so adding requirements to a global requirements.txt does not add unnecessary dependencies or bloat.'})]}),"\n",(0,s.jsx)(n.h2,{id:"using-a-lockfile-strongly-recommended",children:"Using a lockfile (strongly recommended)"}),"\n",(0,s.jsx)(n.p,{children:"Lockfiles are important for reproducible builds. They ensure that the selected versions of all transitive dependencies are consistent, even when third-party libraries release new versions."}),"\n",(0,s.jsxs)(n.p,{children:["If you define a lockfile, Pants will also optimize to avoid resolving requirements more than one time for your project. This greatly speeds up the performance of goals like ",(0,s.jsx)(n.code,{children:"test"}),", ",(0,s.jsx)(n.code,{children:"run"}),", ",(0,s.jsx)(n.code,{children:"package"}),", and ",(0,s.jsx)(n.code,{children:"repl"}),". (See ",(0,s.jsx)(n.a,{href:"/2.5/reference/subsystems/python-setup",children:"python-setup"})," for more information on the ",(0,s.jsx)(n.code,{children:"resolve_all_constraints"})," option.)"]}),"\n",(0,s.jsxs)(n.p,{children:["Pants uses Pip's ",(0,s.jsx)(n.a,{href:"https://pip.pypa.io/en/stable/user_guide/#constraints-files",children:"constraints file"})," feature to support lockfiles. Constraints files tell Pip to use the specified version of a library when encountered, even if it overrides what was specified in your ",(0,s.jsx)(n.code,{children:"requirements.txt"}),"."]}),"\n",(0,s.jsx)(n.admonition,{title:"Constraints files are not strongly validated",type:"caution",children:(0,s.jsx)(n.p,{children:"It is possible to put conflicting versions in a constraints file, and to leave off constraints for some of your dependencies; Pip doesn't check for this. Unfortunately, the onus is on you to make sure that your constraints file is sound."})}),"\n",(0,s.jsxs)(n.p,{children:["To use this feature, create a ",(0,s.jsx)(n.code,{children:"constraints.txt"})," file that pins versions of all your transitive third-party dependencies."]}),"\n",(0,s.jsxs)(n.p,{children:["Then tell Pants about the file with the ",(0,s.jsx)(n.code,{children:"requirement_constraints"})," option in the ",(0,s.jsx)(n.code,{children:"[python-setup]"})," scope, like this:"]}),"\n",(0,s.jsxs)(o.A,{groupId:"code-examples",children:[(0,s.jsx)(a.A,{value:"pants.toml",label:"pants.toml",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'tab={"label":"pants.toml"}',children:'[python-setup]\nrequirement_constraints = "constraints.txt"\n'})})}),(0,s.jsx)(a.A,{value:"constraints.txt",label:"constraints.txt",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",metastring:'tab={"label":"constraints.txt"}',children:"certifi==2019.6.16\nchardet==3.0.2\nidna==2.7\nrequests==2.23.0\nurllib3==1.25.6\n"})})})]}),"\n",(0,s.jsx)(n.p,{children:"Pants will then pass this constraints file to Pip whenever resolving third party dependencies."}),"\n",(0,s.jsxs)(n.admonition,{title:"How do I generate a lockfile?",type:"note",children:[(0,s.jsxs)(n.p,{children:["The simplest approach is to create a virtual environment for your project and then to use this to generate a ",(0,s.jsx)(n.code,{children:"constraints.txt"})," file. See below for an example script."]}),(0,s.jsxs)(n.p,{children:["You may alternatively use a tool like ",(0,s.jsx)(n.a,{href:"https://python-poetry.org",children:"Poetry"})," or ",(0,s.jsx)(n.a,{href:"https://pipenv.pypa.io/en/latest/",children:"Pipenv"}),", then use their ",(0,s.jsx)(n.code,{children:"export"})," commands to generate a ",(0,s.jsx)(n.code,{children:"constraints.txt"})," file."]})]}),"\n",(0,s.jsx)(n.admonition,{title:"Need support for multiple lockfiles?",type:"caution",children:(0,s.jsxs)(n.p,{children:["For now, Pants only supports one single global lockfile. But, we are considering adding support for multiple lockfiles. Please message us on ",(0,s.jsx)(n.a,{href:"/community/members",children:"Slack"})," if you would like this feature - we would appreciate feedback on your use case."]})}),"\n",(0,s.jsx)(n.h2,{id:"advanced-requirements-usage",children:"Advanced requirements usage"}),"\n",(0,s.jsx)(n.h3,{id:"inline-requirements",children:"Inline requirements"}),"\n",(0,s.jsxs)(n.p,{children:["Sometimes you may want to use a certain dependency without adding it to your ",(0,s.jsx)(n.code,{children:"requirements.txt"}),". For example, you may want to use a different version than what is in ",(0,s.jsx)(n.code,{children:"requirements.txt"}),". Or, you may want to only use the requirement in one location and don't want it to discoverable by all targets."]}),"\n",(0,s.jsxs)(n.p,{children:["Pants allows you to define inline requirements with the target type ",(0,s.jsx)(n.code,{children:"python_requirement_library"}),", like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="project/BUILD"',children:'python_requirement_library(\n    name="old_requests",\n    requirements=["requests==2.8.0"],\n)\n\npex_binary(\n    name="app",\n    sources=["app.py"],\n    dependencies=[\n        ":old_requests",\n    ],\n)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If any of your requirements expose modules with names different than the project name and not already covered by Pants's ",(0,s.jsx)(n.a,{href:"https://github.com/pantsbuild/pants/blob/master/src/python/pants/backend/python/dependency_inference/default_module_mapping.py",children:"default module mapping"}),", you can teach Pants about it by setting ",(0,s.jsx)(n.code,{children:"module_mapping"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="project/BUILD"',children:'python_requirement_library(\n    name="old_requests",\n    requirements=["ansicolors==1.18.0"],\n    module_mapping={"ansicolors": ["colors"]},\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"version-control-or-local-requirements",children:"Version control or local requirements"}),"\n",(0,s.jsxs)(n.p,{children:["You might be used to using pip's proprietary VCS-style requirements for this, like ",(0,s.jsx)(n.code,{children:"git+https://github.com/django/django.git#egg=django"}),". However, this proprietary format does not work with Pants."]}),"\n",(0,s.jsx)(n.p,{children:"Instead of pip VCS-style requirements:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"git+https://github.com/django/django.git#egg=Django\ngit+https://github.com/django/django.git@stable/2.1.x#egg=Django\ngit+https://github.com/django/django.git@fd209f62f1d83233cc634443cfac5ee4328d98b8#egg=Django\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Use direct references from ",(0,s.jsx)(n.a,{href:"https://www.python.org/dev/peps/pep-0440/#direct-references",children:"PEP 440"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Django@ git+https://github.com/django/django.git\nDjango@ git+https://github.com/django/django.git@stable/2.1.x\nDjango@ git+https://github.com/django/django.git@fd209f62f1d83233cc634443cfac5ee4328d98b8\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can also install from local files using ",(0,s.jsx)(n.a,{href:"https://www.python.org/dev/peps/pep-0440/#direct-references",children:"PEP 440 direct references"}),". You must use an absolute path to the file, and you should ensure that the file exists on your machine."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Django @ file:///Users/pantsbuild/prebuilt_wheels/django-3.1.1-py3-none-any.whl\n"})}),"\n",(0,s.jsx)(n.p,{children:"Pip still works with these PEP 440-compliant formats, so you won't be losing any functionality by switching to using them."}),"\n",(0,s.jsxs)(n.admonition,{title:"Version control via SSH",type:"note",children:[(0,s.jsx)(n.p,{children:"When using version controlled direct references hosted on private repositories with SSH access:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"target@ git+ssh://git@github.com:/myorg/myrepo.git@myhash\n"})}),(0,s.jsx)(n.p,{children:"...you may see errors like:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:" Complete output (5 lines):\n  git@github.com: Permission denied (publickey).\n  fatal: Could not read from remote repository.\n  Please make sure you have the correct access rights\n  and the repository exists.\n  ----------------------------------------\n"})}),(0,s.jsxs)(n.p,{children:["To fix this, Pants needs to be configured to pass relevant SSH specific environment variables to processes. To do so, you can add the following to ",(0,s.jsx)(n.code,{children:"pants.toml"}),":"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'[subprocess-environment]\nenv_vars.add = [\n  "SSH_AUTH_SOCK",\n]\n'})}),(0,s.jsx)(n.p,{children:"Pants invokes processes hermetically by default, and will not pass in environment variables to processes like PEX, or pip unless they are requested."})]}),"\n",(0,s.jsx)(n.h2,{id:"using-custom-repositories",children:"Using custom repositories"}),"\n",(0,s.jsxs)(n.p,{children:['If you host your own wheels at a custom index (aka "cheese shop"), you can instruct Pants to use it with the option ',(0,s.jsx)(n.code,{children:"indexes"})," in the ",(0,s.jsx)(n.code,{children:"[python-repos]"})," scope."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",metastring:'title="pants.toml"',children:'[python-repos]\nindexes.add = ["https://custom-cheeseshop.net/simple"]\n'})}),"\n",(0,s.jsxs)(n.p,{children:["To exclusively use your custom index\u2014i.e. to not use PyPI\u2014use ",(0,s.jsx)(n.code,{children:"indexes = [..]"})," instead of ",(0,s.jsx)(n.code,{children:"indexes.add = [..]"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"tip-set-up-a-virtual-environment-optional",children:"Tip: Set up a virtual environment (optional)"}),"\n",(0,s.jsxs)(n.p,{children:["While Pants itself doesn't need a ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/venv.html",children:"virtualenv"}),", it may be useful to create one for working with your tooling outside Pants, such as your IDE."]}),"\n",(0,s.jsxs)(n.p,{children:["You can create a virtualenv using standard Python tooling\u2014such as ",(0,s.jsxs)(n.a,{href:"https://docs.python.org/3/library/venv.html",children:["Python's builtin ",(0,s.jsx)(n.code,{children:"venv"})," module"]}),"\u2014along with running Pants to query for all of your Python requirements."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, this script will first create a venv, and then generate a ",(0,s.jsx)(n.code,{children:"constraints.txt"})," file."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",metastring:'title="build-support/generate_constraints.sh"',children:'#!/usr/bin/env bash\n\nset -euo pipefail\n\n# You can change these constants.\nPYTHON_BIN=python3\nVIRTUALENV=build-support/.venv\nPIP="${VIRTUALENV}/bin/pip"\nREQUIREMENTS_FILE=requirements.txt\nCONSTRAINTS_FILE=constraints.txt\n\n"${PYTHON_BIN}" -m venv "${VIRTUALENV}"\n"${PIP}" install pip --upgrade\n# Install all our requirements.txt, and also any 3rdparty\n# dependencies specified outside requirements.txt, e.g. via a\n# handwritten python_requirement_library target.\n"${PIP}" install \\\n  -r "${REQUIREMENTS_FILE}" \\\n  -r <(./pants dependencies --type=3rdparty ::)\necho "# Generated by build-support/generate_constraints.sh on $(date)" > "${CONSTRAINTS_FILE}"\n"${PIP}" freeze --all >> "${CONSTRAINTS_FILE}"\n'})}),"\n",(0,s.jsxs)(n.admonition,{title:"This script only captures handwritten dependencies that are consumed",type:"caution",children:[(0,s.jsxs)(n.p,{children:["This script will capture all requirements in your ",(0,s.jsx)(n.code,{children:"requirements.txt"}),", whether they are actually consumed by your code or not."]}),(0,s.jsxs)(n.p,{children:["However, due to how the ",(0,s.jsx)(n.code,{children:"./pants dependencies"})," goal works, it will only capture 3rdparty dependencies specified outside ",(0,s.jsx)(n.code,{children:"requirements.txt"})," (i.e., via a handwritten ",(0,s.jsx)(n.code,{children:"python_requirement_library target"}),") if those are actually used by your code."]})]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},753348(e,n,t){t.d(n,{A:()=>r});let r={tabItem:"tabItem_mHvh"}},618264(e,n,t){t.d(n,{A:()=>r});let r={tabList:"tabList_sFbf",tabItem:"tabItem_UVfV"}},637180(e,n,t){t.d(n,{A:()=>o});var r=t(886070);t(830758);var s=t(313526),i=t(753348);function o({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.A.tabItem,t),hidden:n,children:e})}},685008(e,n,t){t.d(n,{A:()=>m});var r=t(886070),s=t(830758),i=t(313526),o=t(911212),a=t(274875),l=t(106632),d=t(189223),c=t(618264);function u({className:e,block:n,selectedValue:t,selectValue:s,tabValues:o}){let l=[],{blockElementScrollPositionUntilNextRender:d}=(0,a.a_)(),u=e=>{let n=e.currentTarget,r=o[l.indexOf(n)].value;r!==t&&(d(n),s(r))},h=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{let t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1]}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:o.map(({value:e,label:n,attributes:s})=>(0,r.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:h,onClick:u,...s,className:(0,i.A)("tabs__item",c.A.tabItem,s?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function h({lazy:e,children:n,selectedValue:t}){let o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=o.find(e=>e.props.value===t);return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:o.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function p(e){let n=(0,l.u)(e);return(0,r.jsxs)("div",{className:(0,i.A)(o.G.tabs.container,"tabs-container",c.A.tabList),children:[(0,r.jsx)(u,{...n,...e}),(0,r.jsx)(h,{...n,...e})]})}function m(e){let n=(0,d.A)();return(0,r.jsx)(p,{...e,children:(0,l.v)(e.children)},String(n))}},106632(e,n,t){t.d(n,{u:()=>u,v:()=>d});var r=t(830758),s=t(325557),i=t(363717),o=t(125740),a=t(574229),l=t(270367);function d(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function c({value:e,tabValues:n}){return n.some(n=>n.value===e)}function u(e){let n,{defaultValue:t,queryString:u=!1,groupId:h}=e,p=function(e){let{values:n,children:t}=e;return(0,r.useMemo)(()=>{let e=n??d(t).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r})),r=(0,a.XI)(e,(e,n)=>e.value===n.value);if(r.length>0)throw Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,t])}(e),[m,y]=(0,r.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!c({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let t=n.find(e=>e.default)??n[0];if(!t)throw Error("Unexpected error: 0 tabValues");return t.value})({defaultValue:t,tabValues:p})),[f,x]=function({queryString:e=!1,groupId:n}){let t=(0,s.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(i),(0,r.useCallback)(e=>{if(!i)return;let n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}({queryString:u,groupId:h}),[g,j]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[t,s]=(0,l.Dv)(n);return[t,(0,r.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:h}),b=c({value:n=f??g,tabValues:p})?n:null;return(0,i.A)(()=>{b&&y(b)},[b]),{selectedValue:m,selectValue:(0,r.useCallback)(e=>{if(!c({value:e,tabValues:p}))throw Error(`Can't select invalid tab value=${e}`);y(e),x(e),j(e)},[x,j,p]),tabValues:p}}},848193(e,n,t){t.d(n,{R:()=>o,x:()=>a});var r=t(830758);let s={},i=r.createContext(s);function o(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},860490(e){e.exports=JSON.parse('{"id":"docs/python/overview/third-party-dependencies","title":"Third-party dependencies","description":"How to use third-party Python libraries in your project.","source":"@site/versioned_docs/version-2.5/docs/python/overview/third-party-dependencies.mdx","sourceDirName":"docs/python/overview","slug":"/docs/python/overview/third-party-dependencies","permalink":"/2.5/docs/python/overview/third-party-dependencies","draft":false,"unlisted":false,"editUrl":"https://github.com/pantsbuild/pants/edit/main/docs/docs/python/overview/third-party-dependencies.mdx","tags":[],"version":"2.5","sidebarPosition":2,"frontMatter":{"title":"Third-party dependencies","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Target types","permalink":"/2.5/docs/python/overview/target-types"},"next":{"title":"Interpreter compatibility","permalink":"/2.5/docs/python/overview/interpreter-compatibility"}}')}}]);